import{S as ne,i as ie,s as re,n as A,d as b,x as Te,u as Ne,m as i,b as O,c as p,r as R,h as M,e as w,f as E,o as W,k as T,j as y,l as X,a as G,g as B,t as H,D as Oe,y as Z,z as $,p as je,w as ee,G as z,H as P,I as ae,V as Ae,W as Re,X as qe,Y as Ge,E as Ke,F as Le,J as We,K as Se,L as Pe,M as Be,O as le}from"../chunks/B11dj0TC.js";import"../chunks/IHki7fMi.js";import{o as Fe,a as pe,b as Je}from"../chunks/Bhgkhhu0.js";import{u as ve,t as _e,l as be}from"../chunks/Bhbx1GBa.js";import{e as te,a as ge,h as Xe}from"../chunks/BFUIfuOa.js";import{g as se}from"../chunks/4AD-5CNy.js";import{p as He}from"../chunks/CSm4Wu21.js";const Ye=!1,Qe=!1,bt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Qe,ssr:Ye},Symbol.toStringTag,{value:"Module"}));function ke(l,e,t){const a=l.slice();return a[14]=e[t],a[15]=e,a[16]=t,a}function we(l){let e,t,a;return{c(){e=y("div"),this.h()},l(s){e=w(s,"DIV",{class:!0,"aria-hidden":!0}),E(e).forEach(b),this.h()},h(){i(e,"class","fixed inset-0 bg-black/40 z-40"),i(e,"aria-hidden","true")},m(s,o){O(s,e,o),t||(a=R(e,"click",l[6]),t=!0)},p:A,d(s){s&&b(e),t=!1,a()}}}function ye(l){let e,t,a=l[14].icon+"",s,o,n,v=l[14].label+"",d,_,g,V,I,C=l[16],D,x;const u=()=>l[12](e,C),c=()=>l[12](null,C);function h(){return l[13](l[14])}return{c(){e=y("button"),t=y("span"),s=H(a),o=T(),n=y("span"),d=H(v),_=T(),this.h()},l(f){e=w(f,"BUTTON",{class:!0,title:!0,"aria-current":!0});var m=E(e);t=w(m,"SPAN",{class:!0});var r=E(t);s=B(r,a),r.forEach(b),o=M(m),n=w(m,"SPAN",{class:!0});var k=E(n);d=B(k,v),k.forEach(b),_=M(m),m.forEach(b),this.h()},h(){i(t,"class","text-xl"),i(n,"class","ml-2"),i(e,"class",g=`btn font-medieval transition-all duration-200 flex items-center gap-3 justify-start px-3 py-2
                  ${l[14].active?"btn-dnd":"btn-ghost text-secondary hover:text-accent"}`),i(e,"title",V=l[14].label),i(e,"aria-current",I=l[14].active?"page":void 0)},m(f,m){O(f,e,m),p(e,t),p(t,s),p(e,o),p(e,n),p(n,d),p(e,_),u(),D||(x=R(e,"click",h),D=!0)},p(f,m){l=f,m&58&&a!==(a=l[14].icon+"")&&G(s,a),m&58&&v!==(v=l[14].label+"")&&G(d,v),m&58&&g!==(g=`btn font-medieval transition-all duration-200 flex items-center gap-3 justify-start px-3 py-2
                  ${l[14].active?"btn-dnd":"btn-ghost text-secondary hover:text-accent"}`)&&i(e,"class",g),m&58&&V!==(V=l[14].label)&&i(e,"title",V),m&58&&I!==(I=l[14].active?"page":void 0)&&i(e,"aria-current",I),C!==l[16]&&(c(),C=l[16],u())},d(f){f&&b(e),c(),D=!1,x()}}}function Ze(l){let e,t,a,s,o,n='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>',v,d,_,g='<span class="text-2xl">üìú</span> <span class="ml-2">Volver al Grimorio</span>',V,I,C,D,x,u=l[0]&&we(l),c=te([{path:`/campaigns/${l[1]}`,label:"Home",icon:"üè†",active:l[3]},{path:`/campaigns/${l[1]}/combat`,label:"Combate",icon:"‚öîÔ∏è",active:l[5]},{path:`/campaigns/${l[1]}/characters`,label:"Personajes",icon:"üßô‚Äç‚ôÇÔ∏è",active:l[4]}]),h=[];for(let f=0;f<3;f+=1)h[f]=ye(ke(l,c,f));return{c(){u&&u.c(),e=T(),t=y("div"),a=y("div"),s=y("div"),o=y("button"),o.innerHTML=n,v=T(),d=y("div"),_=y("button"),_.innerHTML=g,V=T();for(let f=0;f<3;f+=1)h[f].c();this.h()},l(f){u&&u.l(f),e=M(f),t=w(f,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-hidden":!0});var m=E(t);a=w(m,"DIV",{class:!0});var r=E(a);s=w(r,"DIV",{class:!0});var k=E(s);o=w(k,"BUTTON",{class:!0,"aria-label":!0,"aria-controls":!0,"data-svelte-h":!0}),W(o)!=="svelte-loq967"&&(o.innerHTML=n),k.forEach(b),v=M(r),d=w(r,"DIV",{class:!0});var j=E(d);_=w(j,"BUTTON",{class:!0,"data-svelte-h":!0}),W(_)!=="svelte-9ry9j6"&&(_.innerHTML=g),V=M(j);for(let L=0;L<3;L+=1)h[L].l(j);j.forEach(b),r.forEach(b),m.forEach(b),this.h()},h(){i(o,"class","btn btn-ghost btn-square ml-2"),i(o,"aria-label","Cerrar men√∫"),i(o,"aria-controls","sidebar"),i(s,"class","flex items-center"),i(_,"class","btn font-medieval transition-all duration-200 flex items-center gap-3 justify-start px-3 py-2 btn-ghost text-secondary hover:text-accent"),i(d,"class","space-y-2 flex-1 flex flex-col"),i(a,"class","bg-neutral border-r-4 border-secondary h-full flex flex-col p-4 shadow-xl"),i(t,"class",I=`fixed top-0 left-0 h-full z-50 transform transition-transform duration-300 ease-in-out
          ${l[0]?"translate-x-0":"-translate-x-full"} w-72`),i(t,"role","navigation"),i(t,"aria-label","Sidebar navegaci√≥n"),i(t,"aria-hidden",C=!l[0])},m(f,m){u&&u.m(f,m),O(f,e,m),O(f,t,m),p(t,a),p(a,s),p(s,o),p(a,v),p(a,d),p(d,_),p(d,V);for(let r=0;r<3;r+=1)h[r]&&h[r].m(d,null);D||(x=[R(window,"keydown",l[7]),R(o,"click",l[6]),R(_,"click",l[11])],D=!0)},p(f,[m]){if(f[0]?u?u.p(f,m):(u=we(f),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),m&318){c=te([{path:`/campaigns/${f[1]}`,label:"Home",icon:"üè†",active:f[3]},{path:`/campaigns/${f[1]}/combat`,label:"Combate",icon:"‚öîÔ∏è",active:f[5]},{path:`/campaigns/${f[1]}/characters`,label:"Personajes",icon:"üßô‚Äç‚ôÇÔ∏è",active:f[4]}]);let r;for(r=0;r<3;r+=1){const k=ke(f,c,r);h[r]?h[r].p(k,m):(h[r]=ye(k),h[r].c(),h[r].m(d,null))}for(;r<3;r+=1)h[r].d(1)}m&1&&I!==(I=`fixed top-0 left-0 h-full z-50 transform transition-transform duration-300 ease-in-out
          ${f[0]?"translate-x-0":"-translate-x-full"} w-72`)&&i(t,"class",I),m&1&&C!==(C=!f[0])&&i(t,"aria-hidden",C)},i:A,o:A,d(f){f&&(b(e),b(t)),u&&u.d(f),Te(h,f),D=!1,Ne(x)}}}function $e(l,e,t){let a,s,o,n,v;X(l,He,c=>t(10,v=c));let{campaignId:d}=e,{isOpen:_=!1}=e,g=[];function V(){t(0,_=!1)}function I(c){c.key==="Escape"&&V()}function C(c){se(c),V()}const D=()=>C("/dashboard");function x(c,h){Oe[c?"unshift":"push"](()=>{g[h]=c,t(2,g)})}const u=c=>C(c.path);return l.$$set=c=>{"campaignId"in c&&t(1,d=c.campaignId),"isOpen"in c&&t(0,_=c.isOpen)},l.$$.update=()=>{l.$$.dirty&1024&&t(9,a=v.url.pathname),l.$$.dirty&514&&t(5,s=a===`/campaigns/${d}/combat`),l.$$.dirty&514&&t(4,o=a===`/campaigns/${d}/characters`),l.$$.dirty&514&&t(3,n=a===`/campaigns/${d}`)},[_,d,g,n,o,s,V,I,C,a,v,D,x,u]}class et extends ne{constructor(e){super(),ie(this,e,$e,Ze,re,{campaignId:1,isOpen:0})}}function Ie(l,e,t){const a=l.slice();return a[7]=e[t],a}function Ee(l){let e,t=l[0].length+"",a;return{c(){e=y("span"),a=H(t),this.h()},l(s){e=w(s,"SPAN",{class:!0});var o=E(e);a=B(o,t),o.forEach(b),this.h()},h(){i(e,"class","badge badge-sm badge-ornate indicator-item animate-pulse")},m(s,o){O(s,e,o),p(e,a)},p(s,o){o&1&&t!==(t=s[0].length+"")&&G(a,t)},d(s){s&&b(e)}}}function xe(l){let e,t=l[0].length+"",a;return{c(){e=y("span"),a=H(t),this.h()},l(s){e=w(s,"SPAN",{class:!0});var o=E(e);a=B(o,t),o.forEach(b),this.h()},h(){i(e,"class","badge badge-ornate")},m(s,o){O(s,e,o),p(e,a)},p(s,o){o&1&&t!==(t=s[0].length+"")&&G(a,t)},d(s){s&&b(e)}}}function tt(l){let e,t=te(l[0]),a=[];for(let s=0;s<t.length;s+=1)a[s]=De(Ie(l,t,s));return{c(){e=y("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=w(s,"DIV",{class:!0});var o=E(e);for(let n=0;n<a.length;n+=1)a[n].l(o);o.forEach(b),this.h()},h(){i(e,"class","space-y-3 max-h-96 overflow-y-auto pr-2 svelte-1sirqyk")},m(s,o){O(s,e,o);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,null)},p(s,o){if(o&7){t=te(s[0]);let n;for(n=0;n<t.length;n+=1){const v=Ie(s,t,n);a[n]?a[n].p(v,o):(a[n]=De(v),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=t.length}},d(s){s&&b(e),Te(a,s)}}}function at(l){let e,t='<div class="text-4xl mb-2 opacity-50">üì≠</div> <p class="text-base-content/70 font-body italic">No hay invitaciones pendientes</p>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(a){e=w(a,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-whrkyc"&&(e.innerHTML=t),this.h()},h(){i(e,"class","text-center py-6")},m(a,s){O(a,e,s)},p:A,d(a){a&&b(e)}}}function De(l){let e,t,a,s,o,n,v,d,_,g,V=l[7].fromName+"",I,C,D,x="te invita a la campa√±a",u,c,h=l[7].campaignName+"",f,m,r,k,j,L,N,U,F,J,oe;function Ue(){return l[4](l[7])}function ze(){return l[5](l[7])}return{c(){e=y("div"),t=y("div"),a=y("div"),s=y("div"),o=y("img"),d=T(),_=y("div"),g=y("p"),I=H(V),C=T(),D=y("p"),D.textContent=x,u=T(),c=y("p"),f=H(h),m=T(),r=y("div"),k=y("button"),j=H("‚öîÔ∏è Unirme"),L=T(),N=y("button"),U=H("‚úï Declinar"),F=T(),this.h()},l(K){e=w(K,"DIV",{class:!0});var S=E(e);t=w(S,"DIV",{class:!0});var Y=E(t);a=w(Y,"DIV",{class:!0});var ce=E(a);s=w(ce,"DIV",{class:!0});var de=E(s);o=w(de,"IMG",{src:!0,alt:!0}),de.forEach(b),ce.forEach(b),d=M(Y),_=w(Y,"DIV",{class:!0});var q=E(_);g=w(q,"P",{class:!0});var fe=E(g);I=B(fe,V),fe.forEach(b),C=M(q),D=w(q,"P",{class:!0,"data-svelte-h":!0}),W(D)!=="svelte-11uyp94"&&(D.textContent=x),u=M(q),c=w(q,"P",{class:!0});var ue=E(c);f=B(ue,h),ue.forEach(b),m=M(q),r=w(q,"DIV",{class:!0});var Q=E(r);k=w(Q,"BUTTON",{class:!0});var he=E(k);j=B(he,"‚öîÔ∏è Unirme"),he.forEach(b),L=M(Q),N=w(Q,"BUTTON",{class:!0});var me=E(N);U=B(me,"‚úï Declinar"),me.forEach(b),Q.forEach(b),q.forEach(b),Y.forEach(b),F=M(S),S.forEach(b),this.h()},h(){ee(o.src,n=l[7].fromPhoto)||i(o,"src",n),i(o,"alt",v=l[7].fromName),i(s,"class","w-12 rounded-full ring-2 ring-secondary ring-offset-2 ring-offset-[#f4e4c1]"),i(a,"class","avatar"),i(g,"class","font-bold text-sm text-neutral font-body"),i(D,"class","text-xs text-neutral/60 font-body italic"),i(c,"class","font-semibold text-primary font-medieval mt-1"),i(k,"class","btn btn-success btn-xs text-white font-medieval"),k.disabled=l[1],i(N,"class","btn btn-error btn-xs text-white font-medieval"),N.disabled=l[1],i(r,"class","flex gap-2 mt-3"),i(_,"class","flex-1 min-w-0"),i(t,"class","flex items-start gap-3"),i(e,"class","bg-gradient-to-br from-[#f4e4c1] to-[#e8d4a8] rounded-lg p-4 border-2 border-primary/30 shadow-md")},m(K,S){O(K,e,S),p(e,t),p(t,a),p(a,s),p(s,o),p(t,d),p(t,_),p(_,g),p(g,I),p(_,C),p(_,D),p(_,u),p(_,c),p(c,f),p(_,m),p(_,r),p(r,k),p(k,j),p(r,L),p(r,N),p(N,U),p(e,F),J||(oe=[R(k,"click",Ue),R(N,"click",ze)],J=!0)},p(K,S){l=K,S&1&&!ee(o.src,n=l[7].fromPhoto)&&i(o,"src",n),S&1&&v!==(v=l[7].fromName)&&i(o,"alt",v),S&1&&V!==(V=l[7].fromName+"")&&G(I,V),S&1&&h!==(h=l[7].campaignName+"")&&G(f,h),S&2&&(k.disabled=l[1]),S&2&&(N.disabled=l[1])},d(K){K&&b(e),J=!1,Ne(oe)}}}function lt(l){let e,t,a,s,o,n,v,d,_,g,V,I,C="‚öîÔ∏è",D,x=l[0].length>0&&Ee(l),u=l[0].length>0&&xe(l);function c(m,r){return m[0].length===0?at:tt}let h=c(l),f=h(l);return{c(){e=y("div"),t=y("label"),a=$("svg"),s=$("path"),o=T(),x&&x.c(),n=T(),v=y("div"),d=y("div"),_=y("h3"),g=H(`üìú Invitaciones\r
        `),u&&u.c(),V=T(),I=y("div"),I.textContent=C,D=T(),f.c(),this.h()},l(m){e=w(m,"DIV",{class:!0});var r=E(e);t=w(r,"LABEL",{tabindex:!0,class:!0});var k=E(t);a=Z(k,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var j=E(a);s=Z(j,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),E(s).forEach(b),j.forEach(b),o=M(k),x&&x.l(k),k.forEach(b),n=M(r),v=w(r,"DIV",{tabindex:!0,class:!0});var L=E(v);d=w(L,"DIV",{class:!0});var N=E(d);_=w(N,"H3",{class:!0});var U=E(_);g=B(U,`üìú Invitaciones\r
        `),u&&u.l(U),U.forEach(b),V=M(N),I=w(N,"DIV",{class:!0,"data-svelte-h":!0}),W(I)!=="svelte-1gecnns"&&(I.textContent=C),D=M(N),f.l(N),N.forEach(b),L.forEach(b),r.forEach(b),this.h()},h(){i(s,"stroke-linecap","round"),i(s,"stroke-linejoin","round"),i(s,"stroke-width","2"),i(s,"d","M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"),i(a,"xmlns","http://www.w3.org/2000/svg"),i(a,"class","h-6 w-6 text-secondary"),i(a,"fill","none"),i(a,"viewBox","0 0 24 24"),i(a,"stroke","currentColor"),i(t,"tabindex","0"),i(t,"class","btn btn-ghost btn-circle indicator ring-2 ring-secondary/50 hover:ring-secondary transition-all"),i(_,"class","card-title text-xl font-medieval text-secondary"),i(I,"class","divider my-1 opacity-30"),i(d,"class","card-body"),i(v,"tabindex","0"),i(v,"class","mt-3 z-[1] card card-compact dropdown-content w-96 max-w-[73vw] sm:max-w-sm md:max-w-md shadow-2xl bg-neutral border-2 border-secondary"),i(e,"class","dropdown dropdown-end")},m(m,r){O(m,e,r),p(e,t),p(t,a),p(a,s),p(t,o),x&&x.m(t,null),p(e,n),p(e,v),p(v,d),p(d,_),p(_,g),u&&u.m(_,null),p(d,V),p(d,I),p(d,D),f.m(d,null)},p(m,[r]){m[0].length>0?x?x.p(m,r):(x=Ee(m),x.c(),x.m(t,null)):x&&(x.d(1),x=null),m[0].length>0?u?u.p(m,r):(u=xe(m),u.c(),u.m(_,null)):u&&(u.d(1),u=null),h===(h=c(m))&&f?f.p(m,r):(f.d(1),f=h(m),f&&(f.c(),f.m(d,null)))},i:A,o:A,d(m){m&&b(e),x&&x.d(),u&&u.d(),f.d()}}}function st(l,e,t){let{onInvitationResponded:a=()=>{}}=e,s=[],o=!1;je(()=>{n();const g=setInterval(n,3e4);return()=>clearInterval(g)});async function n(){try{t(0,s=await ge.getMyInvitations())}catch(g){console.error("Error loading invitations:",g)}}async function v(g,V){try{t(1,o=!0),await ge.respondToInvitation(g,V),await n(),a()}catch(I){alert(I.message)}finally{t(1,o=!1)}}const d=g=>v(g.id,"accept"),_=g=>v(g.id,"reject");return l.$$set=g=>{"onInvitationResponded"in g&&t(3,a=g.onInvitationResponded)},[s,o,v,a,d,_]}class nt extends ne{constructor(e){super(),ie(this,e,st,lt,re,{onInvitationResponded:3})}}function it(l){let e,t,a,s,o,n,v,d,_,g,V,I,C,D,x,u=l[3]&&l[4]&&Ve(l),c=l[3]&&Ce(l),h=l[7]&&!l[2]&&!l[1]&&Me(l);const f=l[12].default,m=Ae(f,l,l[11],null);return{c(){u&&u.c(),e=T(),t=y("div"),a=y("div"),c&&c.c(),s=T(),o=y("h1"),n=H(l[6]),v=T(),d=y("div"),_=y("h1"),g=H(l[6]),V=T(),I=y("div"),h&&h.c(),C=T(),D=y("div"),m&&m.c(),this.h()},l(r){u&&u.l(r),e=M(r),t=w(r,"DIV",{class:!0});var k=E(t);a=w(k,"DIV",{class:!0});var j=E(a);c&&c.l(j),s=M(j),o=w(j,"H1",{class:!0});var L=E(o);n=B(L,l[6]),L.forEach(b),j.forEach(b),v=M(k),d=w(k,"DIV",{class:!0});var N=E(d);_=w(N,"H1",{class:!0});var U=E(_);g=B(U,l[6]),U.forEach(b),N.forEach(b),V=M(k),I=w(k,"DIV",{class:!0});var F=E(I);h&&h.l(F),F.forEach(b),k.forEach(b),C=M(r),D=w(r,"DIV",{class:!0});var J=E(D);m&&m.l(J),J.forEach(b),this.h()},h(){i(o,"class","lg:hidden btn btn-ghost text-base sm:text-lg font-medieval text-secondary hover:text-accent sm:max-w-xs"),i(a,"class","flex items-center gap-2 flex-1 min-w-0"),i(_,"class","btn btn-ghost text-xl font-medieval text-secondary hover:text-accent max-w-md"),i(d,"class","hidden lg:flex flex-1 justify-center"),i(I,"class","flex items-center gap-2 sm:gap-3 md:gap-4 flex-1 justify-end"),i(t,"class","navbar-medieval sticky top-0 z-30 w-full flex items-center justify-between px-3 sm:px-4 lg:px-6 h-14 sm:h-16 lg:h-20 safe-left safe-right py-8 svelte-1b5zlnt"),i(D,"class","relative min-h-[calc(100vh-3.5rem)] sm:min-h-[calc(100vh-4rem)] lg:min-h-[calc(100vh-5rem)]")},m(r,k){u&&u.m(r,k),O(r,e,k),O(r,t,k),p(t,a),c&&c.m(a,null),p(a,s),p(a,o),p(o,n),p(t,v),p(t,d),p(d,_),p(_,g),p(t,V),p(t,I),h&&h.m(I,null),O(r,C,k),O(r,D,k),m&&m.m(D,null),x=!0},p(r,k){r[3]&&r[4]?u?(u.p(r,k),k&24&&P(u,1)):(u=Ve(r),u.c(),P(u,1),u.m(e.parentNode,e)):u&&(le(),z(u,1,1,()=>{u=null}),ae()),r[3]?c?c.p(r,k):(c=Ce(r),c.c(),c.m(a,s)):c&&(c.d(1),c=null),(!x||k&64)&&G(n,r[6]),(!x||k&64)&&G(g,r[6]),r[7]&&!r[2]&&!r[1]?h?(h.p(r,k),k&134&&P(h,1)):(h=Me(r),h.c(),P(h,1),h.m(I,null)):h&&(le(),z(h,1,1,()=>{h=null}),ae()),m&&m.p&&(!x||k&2048)&&Re(m,f,r,r[11],x?Ge(f,r[11],k,null):qe(r[11]),null)},i(r){x||(P(u),P(h),P(m,r),x=!0)},o(r){z(u),z(h),z(m,r),x=!1},d(r){r&&(b(e),b(t),b(C),b(D)),u&&u.d(r),c&&c.d(),h&&h.d(),m&&m.d(r)}}}function rt(l){let e,t='<div class="text-4xl sm:text-5xl md:text-6xl">üé≤</div> <span class="loading loading-spinner loading-md sm:loading-lg text-secondary"></span> <p class="font-medieval text-secondary text-sm sm:text-base text-center">Cargando grimorio...</p>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(a){e=w(a,"DIV",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-fmyonb"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex flex-col items-center justify-center h-screen gap-4 px-4")},m(a,s){O(a,e,s)},p:A,i:A,o:A,d(a){a&&b(e)}}}function Ve(l){let e,t,a;function s(n){l[13](n)}let o={campaignId:l[4]};return l[0]!==void 0&&(o.isOpen=l[0]),e=new et({props:o}),Oe.push(()=>Ke(e,"isOpen",s)),{c(){Be(e.$$.fragment)},l(n){Pe(e.$$.fragment,n)},m(n,v){Se(e,n,v),a=!0},p(n,v){const d={};v&16&&(d.campaignId=n[4]),!t&&v&1&&(t=!0,d.isOpen=n[0],We(()=>t=!1)),e.$set(d)},i(n){a||(P(e.$$.fragment,n),a=!0)},o(n){z(e.$$.fragment,n),a=!1},d(n){Le(e,n)}}}function Ce(l){let e,t,a,s,o;return{c(){e=y("button"),t=$("svg"),a=$("path"),this.h()},l(n){e=w(n,"BUTTON",{class:!0,"aria-label":!0,"aria-expanded":!0});var v=E(e);t=Z(v,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var d=E(t);a=Z(d,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),E(a).forEach(b),d.forEach(b),v.forEach(b),this.h()},h(){i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"stroke-width","2"),i(a,"d","M4 6h16M4 12h16M4 18h16"),i(t,"xmlns","http://www.w3.org/2000/svg"),i(t,"class","h-5 w-5 sm:h-6 sm:w-6"),i(t,"fill","none"),i(t,"viewBox","0 0 24 24"),i(t,"stroke","currentColor"),i(e,"class","btn btn-ghost btn-sm btn-circle flex-shrink-0 svelte-1b5zlnt"),i(e,"aria-label","Abrir men√∫"),i(e,"aria-expanded",l[0])},m(n,v){O(n,e,v),p(e,t),p(t,a),s||(o=R(e,"click",l[9]),s=!0)},p(n,v){v&1&&i(e,"aria-expanded",n[0])},d(n){n&&b(e),s=!1,o()}}}function Me(l){let e,t,a,s,o,n,v,d,_,g,V,I,C="üö™ Cerrar Sesi√≥n",D,x,u;return e=new nt({props:{onInvitationResponded:ct}}),{c(){Be(e.$$.fragment),t=T(),a=y("div"),s=y("label"),o=y("div"),n=y("img"),_=T(),g=y("ul"),V=y("li"),I=y("a"),I.textContent=C,this.h()},l(c){Pe(e.$$.fragment,c),t=M(c),a=w(c,"DIV",{class:!0});var h=E(a);s=w(h,"LABEL",{tabindex:!0,class:!0});var f=E(s);o=w(f,"DIV",{class:!0});var m=E(o);n=w(m,"IMG",{src:!0,alt:!0,class:!0}),m.forEach(b),f.forEach(b),_=M(h),g=w(h,"UL",{tabindex:!0,class:!0});var r=E(g);V=w(r,"LI",{});var k=E(V);I=w(k,"A",{class:!0,"data-svelte-h":!0}),W(I)!=="svelte-1942x31"&&(I.textContent=C),k.forEach(b),r.forEach(b),h.forEach(b),this.h()},h(){var c,h;ee(n.src,v=((c=l[7])==null?void 0:c.photoURL)||"")||i(n,"src",v),i(n,"alt",d=((h=l[7])==null?void 0:h.displayName)||"Usuario"),i(n,"class","object-cover"),i(o,"class","w-8 h-8 sm:w-9 sm:h-9 lg:w-10 lg:h-10 rounded-full"),i(s,"tabindex","0"),i(s,"class","btn btn-ghost btn-circle avatar ring-2 ring-secondary ring-offset-2 ring-offset-neutral svelte-1b5zlnt"),i(I,"class","text-base-content hover:text-secondary font-medieval text-sm sm:text-base"),i(g,"tabindex","0"),i(g,"class","mt-3 z-[50] p-2 shadow-xl menu menu-sm dropdown-content bg-neutral rounded-box w-48 sm:w-52 border-2 border-secondary svelte-1b5zlnt"),i(a,"class","dropdown dropdown-end")},m(c,h){Se(e,c,h),O(c,t,h),O(c,a,h),p(a,s),p(s,o),p(o,n),p(a,_),p(a,g),p(g,V),p(V,I),D=!0,x||(u=R(I,"click",l[8]),x=!0)},p(c,h){var f,m;(!D||h&128&&!ee(n.src,v=((f=c[7])==null?void 0:f.photoURL)||""))&&i(n,"src",v),(!D||h&128&&d!==(d=((m=c[7])==null?void 0:m.displayName)||"Usuario"))&&i(n,"alt",d)},i(c){D||(P(e.$$.fragment,c),D=!0)},o(c){z(e.$$.fragment,c),D=!1},d(c){c&&(b(t),b(a)),Le(e,c),x=!1,u()}}}function ot(l){let e,t,a,s;const o=[rt,it],n=[];function v(d,_){return d[5]?0:1}return t=v(l),a=n[t]=o[t](l),{c(){e=y("div"),a.c(),this.h()},l(d){e=w(d,"DIV",{class:!0,"data-theme":!0});var _=E(e);a.l(_),_.forEach(b),this.h()},h(){i(e,"class","min-h-screen relative safe-top safe-bottom"),i(e,"data-theme","dnd")},m(d,_){O(d,e,_),n[t].m(e,null),s=!0},p(d,[_]){let g=t;t=v(d),t===g?n[t].p(d,_):(le(),z(n[g],1,1,()=>{n[g]=null}),ae(),a=n[t],a?a.p(d,_):(a=n[t]=o[t](d),a.c()),P(a,1),a.m(e,null))},i(d){s||(P(a),s=!0)},o(d){z(a),s=!1},d(d){d&&b(e),n[t].d()}}}function ct(){location.reload()}function dt(l,e,t){let a,s,o,n,v,d,_,g;X(l,He,c=>t(10,v=c)),X(l,be,c=>t(5,d=c)),X(l,Xe,c=>t(6,_=c)),X(l,ve,c=>t(7,g=c));let{$$slots:V={},$$scope:I}=e,C=!1;je(()=>{const c=Fe(pe,async h=>{if(ve.set(h),h){const f=await h.getIdToken();_e.set(f)}else _e.set(null);be.set(!1),!h&&v.url.pathname!=="/login"&&v.url.pathname!=="/"&&se("/login")});return()=>c()});function D(){Je(pe).then(()=>se("/login"))}function x(){t(0,C=!C)}function u(c){C=c,t(0,C)}return l.$$set=c=>{"$$scope"in c&&t(11,I=c.$$scope)},l.$$.update=()=>{l.$$.dirty&1024&&t(4,a=v.params.id),l.$$.dirty&1024&&t(3,s=v.url.pathname.startsWith("/campaigns/")),l.$$.dirty&1024&&t(2,o=v.url.pathname==="/login"),l.$$.dirty&1024&&t(1,n=v.url.pathname==="/")},[C,n,o,s,a,d,_,g,D,x,v,I,V,u]}class gt extends ne{constructor(e){super(),ie(this,e,dt,ot,re,{})}}export{gt as component,bt as universal};
