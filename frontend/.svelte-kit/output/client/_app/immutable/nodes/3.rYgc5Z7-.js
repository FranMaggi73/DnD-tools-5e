import{S as it,i as ot,s as ct,n as he,d as v,b as G,c as l,m as n,e as o,f as k,h as D,q as We,j as c,k as I,l as Xe,p as dt,a as ae,r as X,g as Q,o as L,t as W,u as Be,v as Ye,w as Ve,x as ut}from"../chunks/D_G0BaV5.js";import{a as Ce,h as ft,e as Ze}from"../chunks/DJdX-Dki.js";import"../chunks/IHki7fMi.js";import{p as vt}from"../chunks/cU-WqC5X.js";import{g as Ae}from"../chunks/B3SL7ddu.js";import{u as ht}from"../chunks/CmG8EdGM.js";function $e(r,e,t){const s=r.slice();return s[28]=e[t],s}function et(r){let e,t,s,i,d,a,b="‚úï",h,x;return{c(){e=c("div"),t=c("div"),s=c("span"),i=W(r[3]),d=I(),a=c("button"),a.textContent=b,this.h()},l(p){e=o(p,"DIV",{class:!0});var m=k(e);t=o(m,"DIV",{class:!0});var u=k(t);s=o(u,"SPAN",{});var f=k(s);i=Q(f,r[3]),f.forEach(v),d=D(u),a=o(u,"BUTTON",{class:!0,"data-svelte-h":!0}),L(a)!=="svelte-4tcifc"&&(a.textContent=b),u.forEach(v),m.forEach(v),this.h()},h(){n(a,"class","btn btn-sm"),n(t,"class","alert alert-error"),n(e,"class","container mx-auto p-4")},m(p,m){G(p,e,m),l(e,t),l(t,s),l(s,i),l(t,d),l(t,a),h||(x=X(a,"click",r[15]),h=!0)},p(p,m){m&8&&ae(i,p[3])},d(p){p&&v(e),h=!1,x()}}}function mt(r){var Oe,Je,Fe,Ge,Re,Ke,Qe;let e,t,s,i,d,a="üìú",b,h,x=((Oe=r[0])==null?void 0:Oe.name)+"",p,m,u,f,_=(r[0]?new Date(r[0].createdAt).toLocaleDateString():"")+"",g,E,z,V,H,A="üëë Dungeon Master",J,T,S,y,M,N,F,q,U,j,C,B,O=(((Fe=(Je=r[1])==null?void 0:Je.dm)==null?void 0:Fe.userName)||((Ge=r[0])==null?void 0:Ge.dmName))+"",te,oe,ce,Me,me=((Re=r[1])!=null&&Re.dm?new Date(r[1].dm.joinedAt).toLocaleDateString():"el principio")+"",Ee,Le,de,Ue="DM",He,ne,le,re,Ne,pe=(((Qe=(Ke=r[1])==null?void 0:Ke.players)==null?void 0:Qe.length)||0)+"",De,je,Pe,Se,R=r[9]&&tt(r),K=r[9]&&lt(r);function qe(w,P){var $;return($=w[1])!=null&&$.players&&w[1].players.length>0?bt:_t}let Ie=qe(r),Z=Ie(r);return{c(){e=c("div"),t=c("div"),s=c("div"),i=c("div"),d=c("div"),d.textContent=a,b=I(),h=c("h1"),p=W(x),m=I(),u=c("p"),f=W("Creada el "),g=W(_),E=I(),R&&R.c(),z=I(),V=c("div"),H=c("h2"),H.textContent=A,J=I(),T=c("div"),S=c("div"),y=c("div"),M=c("div"),N=c("div"),F=c("img"),j=I(),C=c("div"),B=c("h3"),te=W(O),oe=I(),ce=c("p"),Me=W("Maestro de mazmorras desde "),Ee=W(me),Le=I(),de=c("div"),de.textContent=Ue,He=I(),ne=c("div"),le=c("div"),re=c("h2"),Ne=W("üé≤ Aventureros ("),De=W(pe),je=W(")"),Pe=I(),K&&K.c(),Se=I(),Z.c(),this.h()},l(w){e=o(w,"DIV",{class:!0});var P=k(e);t=o(P,"DIV",{class:!0});var $=k(t);s=o($,"DIV",{class:!0});var ee=k(s);i=o(ee,"DIV",{class:!0});var Y=k(i);d=o(Y,"DIV",{class:!0,"data-svelte-h":!0}),L(d)!=="svelte-1ldm7ws"&&(d.textContent=a),b=D(Y),h=o(Y,"H1",{class:!0});var ie=k(h);p=Q(ie,x),ie.forEach(v),m=D(Y),u=o(Y,"P",{class:!0});var ve=k(u);f=Q(ve,"Creada el "),g=Q(ve,_),ve.forEach(v),Y.forEach(v),E=D(ee),R&&R.l(ee),ee.forEach(v),$.forEach(v),z=D(P),V=o(P,"DIV",{class:!0});var ue=k(V);H=o(ue,"H2",{class:!0,"data-svelte-h":!0}),L(H)!=="svelte-1v6tebh"&&(H.textContent=A),J=D(ue),T=o(ue,"DIV",{class:!0});var _e=k(T);S=o(_e,"DIV",{class:!0});var be=k(S);y=o(be,"DIV",{class:!0});var se=k(y);M=o(se,"DIV",{class:!0});var ge=k(M);N=o(ge,"DIV",{class:!0});var xe=k(N);F=o(xe,"IMG",{src:!0,alt:!0}),xe.forEach(v),ge.forEach(v),j=D(se),C=o(se,"DIV",{class:!0});var fe=k(C);B=o(fe,"H3",{class:!0});var ke=k(B);te=Q(ke,O),ke.forEach(v),oe=D(fe),ce=o(fe,"P",{class:!0});var ze=k(ce);Me=Q(ze,"Maestro de mazmorras desde "),Ee=Q(ze,me),ze.forEach(v),fe.forEach(v),Le=D(se),de=o(se,"DIV",{class:!0,"data-svelte-h":!0}),L(de)!=="svelte-1cq99lt"&&(de.textContent=Ue),se.forEach(v),be.forEach(v),_e.forEach(v),ue.forEach(v),He=D(P),ne=o(P,"DIV",{});var ye=k(ne);le=o(ye,"DIV",{class:!0});var Te=k(le);re=o(Te,"H2",{class:!0});var we=k(re);Ne=Q(we,"üé≤ Aventureros ("),De=Q(we,pe),je=Q(we,")"),we.forEach(v),Pe=D(Te),K&&K.l(Te),Te.forEach(v),Se=D(ye),Z.l(ye),ye.forEach(v),P.forEach(v),this.h()},h(){var w,P,$,ee,Y,ie;n(d,"class","text-6xl mb-4"),n(h,"class","text-5xl font-medieval text-neutral mb-3"),n(u,"class","text-neutral/60 font-body italic"),n(i,"class","text-center mb-6"),n(s,"class","card-body p-8"),n(t,"class","card-parchment mb-6 corner-ornament"),n(H,"class","text-3xl font-medieval text-secondary mb-4"),Ve(F.src,q=((P=(w=r[1])==null?void 0:w.dm)==null?void 0:P.userPhoto)||(($=r[0])==null?void 0:$.dmPhoto))||n(F,"src",q),n(F,"alt",U=((Y=(ee=r[1])==null?void 0:ee.dm)==null?void 0:Y.userName)||((ie=r[0])==null?void 0:ie.dmName)),n(N,"class","w-20 rounded-full ring-4 ring-secondary ring-offset-4 ring-offset-[#f4e4c1]"),n(M,"class","avatar"),n(B,"class","text-2xl font-bold text-neutral font-medieval"),n(ce,"class","text-neutral/60 font-body"),n(C,"class","flex-1"),n(de,"class","badge badge-ornate badge-lg"),n(y,"class","flex items-center gap-4"),n(S,"class","card-body p-6"),n(T,"class","card-parchment corner-ornament"),n(V,"class","mb-6"),n(re,"class","text-3xl font-medieval text-secondary"),n(le,"class","flex justify-between items-center mb-4"),n(e,"class","container mx-auto max-w-6xl")},m(w,P){G(w,e,P),l(e,t),l(t,s),l(s,i),l(i,d),l(i,b),l(i,h),l(h,p),l(i,m),l(i,u),l(u,f),l(u,g),l(s,E),R&&R.m(s,null),l(e,z),l(e,V),l(V,H),l(V,J),l(V,T),l(T,S),l(S,y),l(y,M),l(M,N),l(N,F),l(y,j),l(y,C),l(C,B),l(B,te),l(C,oe),l(C,ce),l(ce,Me),l(ce,Ee),l(y,Le),l(y,de),l(e,He),l(e,ne),l(ne,le),l(le,re),l(re,Ne),l(re,De),l(re,je),l(le,Pe),K&&K.m(le,null),l(ne,Se),Z.m(ne,null)},p(w,P){var $,ee,Y,ie,ve,ue,_e,be,se,ge,xe,fe,ke;P&1&&x!==(x=(($=w[0])==null?void 0:$.name)+"")&&ae(p,x),P&1&&_!==(_=(w[0]?new Date(w[0].createdAt).toLocaleDateString():"")+"")&&ae(g,_),w[9]?R?R.p(w,P):(R=tt(w),R.c(),R.m(s,null)):R&&(R.d(1),R=null),P&3&&!Ve(F.src,q=((Y=(ee=w[1])==null?void 0:ee.dm)==null?void 0:Y.userPhoto)||((ie=w[0])==null?void 0:ie.dmPhoto))&&n(F,"src",q),P&3&&U!==(U=((ue=(ve=w[1])==null?void 0:ve.dm)==null?void 0:ue.userName)||((_e=w[0])==null?void 0:_e.dmName))&&n(F,"alt",U),P&3&&O!==(O=(((se=(be=w[1])==null?void 0:be.dm)==null?void 0:se.userName)||((ge=w[0])==null?void 0:ge.dmName))+"")&&ae(te,O),P&2&&me!==(me=((xe=w[1])!=null&&xe.dm?new Date(w[1].dm.joinedAt).toLocaleDateString():"el principio")+"")&&ae(Ee,me),P&2&&pe!==(pe=(((ke=(fe=w[1])==null?void 0:fe.players)==null?void 0:ke.length)||0)+"")&&ae(De,pe),w[9]?K?K.p(w,P):(K=lt(w),K.c(),K.m(le,null)):K&&(K.d(1),K=null),Ie===(Ie=qe(w))&&Z?Z.p(w,P):(Z.d(1),Z=Ie(w),Z&&(Z.c(),Z.m(ne,null)))},d(w){w&&v(e),R&&R.d(),K&&K.d(),Z.d()}}}function pt(r){let e,t='<span class="loading loading-spinner loading-lg text-secondary"></span>';return{c(){e=c("div"),e.innerHTML=t,this.h()},l(s){e=o(s,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1fvu3yi"&&(e.innerHTML=t),this.h()},h(){n(e,"class","flex justify-center py-20")},m(s,i){G(s,e,i)},p:he,d(s){s&&v(e)}}}function tt(r){let e,t,s=`<span class="text-lg">‚úâÔ∏è</span>
                    Invitar Jugador`,i,d,a=`<span class="text-lg">‚öîÔ∏è</span>
                    Ir a Combate`,b,h,x=`<span class="text-lg">üßô‚Äç‚ôÇÔ∏è</span>
                    Ver Personajes`,p,m,u=`<span class="text-lg">üóëÔ∏è</span>
                    Eliminar Campa√±a`,f,_;return{c(){e=c("div"),t=c("button"),t.innerHTML=s,i=I(),d=c("button"),d.innerHTML=a,b=I(),h=c("button"),h.innerHTML=x,p=I(),m=c("button"),m.innerHTML=u,this.h()},l(g){e=o(g,"DIV",{class:!0});var E=k(e);t=o(E,"BUTTON",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-6sr3ee"&&(t.innerHTML=s),i=D(E),d=o(E,"BUTTON",{class:!0,"data-svelte-h":!0}),L(d)!=="svelte-1ty60v1"&&(d.innerHTML=a),b=D(E),h=o(E,"BUTTON",{class:!0,"data-svelte-h":!0}),L(h)!=="svelte-1a18mkp"&&(h.innerHTML=x),p=D(E),m=o(E,"BUTTON",{class:!0,"data-svelte-h":!0}),L(m)!=="svelte-ped3ok"&&(m.innerHTML=u),E.forEach(v),this.h()},h(){n(t,"class","btn btn-success gap-2"),n(d,"class","btn btn-dnd gap-2"),n(h,"class","btn btn-info gap-2"),n(m,"class","btn btn-error gap-2"),n(e,"class","flex flex-wrap justify-center gap-3")},m(g,E){G(g,e,E),l(e,t),l(e,i),l(e,d),l(e,b),l(e,h),l(e,p),l(e,m),f||(_=[X(t,"click",r[16]),X(d,"click",r[17]),X(h,"click",r[18]),X(m,"click",r[19])],f=!0)},p:he,d(g){g&&v(e),f=!1,Be(_)}}}function lt(r){let e,t=`<span class="text-lg">‚ûï</span>
                  Invitar`,s,i;return{c(){e=c("button"),e.innerHTML=t,this.h()},l(d){e=o(d,"BUTTON",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1269z1k"&&(e.innerHTML=t),this.h()},h(){n(e,"class","btn btn-success btn-sm gap-2")},m(d,a){G(d,e,a),s||(i=X(e,"click",r[20]),s=!0)},p:he,d(d){d&&v(e),s=!1,i()}}}function _t(r){let e,t,s="üé≤",i,d,a="Sin aventureros",b,h,x=r[9]?"Invita jugadores para comenzar la aventura":"Esperando que se unan m√°s jugadores...",p;return{c(){e=c("div"),t=c("div"),t.textContent=s,i=I(),d=c("p"),d.textContent=a,b=I(),h=c("p"),p=W(x),this.h()},l(m){e=o(m,"DIV",{class:!0});var u=k(e);t=o(u,"DIV",{class:!0,"data-svelte-h":!0}),L(t)!=="svelte-9xsxws"&&(t.textContent=s),i=D(u),d=o(u,"P",{class:!0,"data-svelte-h":!0}),L(d)!=="svelte-y4vkyv"&&(d.textContent=a),b=D(u),h=o(u,"P",{class:!0});var f=k(h);p=Q(f,x),f.forEach(v),u.forEach(v),this.h()},h(){n(t,"class","text-4xl mb-3"),n(d,"class","text-xl font-medieval text-neutral mb-2"),n(h,"class","text-neutral/70 font-body"),n(e,"class","card-parchment p-12 text-center")},m(m,u){G(m,e,u),l(e,t),l(e,i),l(e,d),l(e,b),l(e,h),l(h,p)},p(m,u){u&512&&x!==(x=m[9]?"Invita jugadores para comenzar la aventura":"Esperando que se unan m√°s jugadores...")&&ae(p,x)},d(m){m&&v(e)}}}function bt(r){let e,t=Ze(r[1].players),s=[];for(let i=0;i<t.length;i+=1)s[i]=at($e(r,t,i));return{c(){e=c("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=o(i,"DIV",{class:!0});var d=k(e);for(let a=0;a<s.length;a+=1)s[a].l(d);d.forEach(v),this.h()},h(){n(e,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(i,d){G(i,e,d);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(i,d){if(d&2562){t=Ze(i[1].players);let a;for(a=0;a<t.length;a+=1){const b=$e(i,t,a);s[a]?s[a].p(b,d):(s[a]=at(b),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=t.length}},d(i){i&&v(e),ut(s,i)}}}function st(r){let e,t,s='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',i,d,a,b,h="üö´ Expulsar",x,p;function m(){return r[21](r[28])}return{c(){e=c("div"),t=c("label"),t.innerHTML=s,i=I(),d=c("ul"),a=c("li"),b=c("a"),b.textContent=h,this.h()},l(u){e=o(u,"DIV",{class:!0});var f=k(e);t=o(f,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),L(t)!=="svelte-7qzcnn"&&(t.innerHTML=s),i=D(f),d=o(f,"UL",{tabindex:!0,class:!0});var _=k(d);a=o(_,"LI",{});var g=k(a);b=o(g,"A",{class:!0,"data-svelte-h":!0}),L(b)!=="svelte-1mwc43p"&&(b.textContent=h),g.forEach(v),_.forEach(v),f.forEach(v),this.h()},h(){n(t,"tabindex","0"),n(t,"class","btn btn-ghost btn-sm btn-circle"),n(b,"class","text-error"),n(d,"tabindex","0"),n(d,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-52 border-2 border-secondary"),n(e,"class","dropdown dropdown-end")},m(u,f){G(u,e,f),l(e,t),l(e,i),l(e,d),l(d,a),l(a,b),x||(p=X(b,"click",m),x=!0)},p(u,f){r=u},d(u){u&&v(e),x=!1,p()}}}function at(r){let e,t,s,i,d,a,b,h,x,p,m,u=r[28].userName+"",f,_,g,E,z=new Date(r[28].joinedAt).toLocaleDateString()+"",V,H,A,J="Jugador",T,S,y=r[9]&&st(r);return{c(){e=c("div"),t=c("div"),s=c("div"),i=c("div"),d=c("div"),a=c("img"),x=I(),p=c("div"),m=c("h3"),f=W(u),_=I(),g=c("p"),E=W("Se uni√≥ el "),V=W(z),H=I(),A=c("div"),A.textContent=J,T=I(),y&&y.c(),S=I(),this.h()},l(M){e=o(M,"DIV",{class:!0});var N=k(e);t=o(N,"DIV",{class:!0});var F=k(t);s=o(F,"DIV",{class:!0});var q=k(s);i=o(q,"DIV",{class:!0});var U=k(i);d=o(U,"DIV",{class:!0});var j=k(d);a=o(j,"IMG",{src:!0,alt:!0}),j.forEach(v),U.forEach(v),x=D(q),p=o(q,"DIV",{class:!0});var C=k(p);m=o(C,"H3",{class:!0});var B=k(m);f=Q(B,u),B.forEach(v),_=D(C),g=o(C,"P",{class:!0});var O=k(g);E=Q(O,"Se uni√≥ el "),V=Q(O,z),O.forEach(v),H=D(C),A=o(C,"DIV",{class:!0,"data-svelte-h":!0}),L(A)!=="svelte-1afgl9j"&&(A.textContent=J),C.forEach(v),T=D(q),y&&y.l(q),q.forEach(v),F.forEach(v),S=D(N),N.forEach(v),this.h()},h(){Ve(a.src,b=r[28].userPhoto)||n(a,"src",b),n(a,"alt",h=r[28].userName),n(d,"class","w-16 rounded-full ring-2 ring-success ring-offset-2 ring-offset-[#f4e4c1]"),n(i,"class","avatar"),n(m,"class","text-xl font-bold text-neutral font-medieval mb-1"),n(g,"class","text-sm text-neutral/60 font-body"),n(A,"class","badge badge-success badge-sm mt-2"),n(p,"class","flex-1"),n(s,"class","flex items-start gap-4"),n(t,"class","card-body p-5"),n(e,"class","card-parchment corner-ornament")},m(M,N){G(M,e,N),l(e,t),l(t,s),l(s,i),l(i,d),l(d,a),l(s,x),l(s,p),l(p,m),l(m,f),l(p,_),l(p,g),l(g,E),l(g,V),l(p,H),l(p,A),l(s,T),y&&y.m(s,null),l(e,S)},p(M,N){N&2&&!Ve(a.src,b=M[28].userPhoto)&&n(a,"src",b),N&2&&h!==(h=M[28].userName)&&n(a,"alt",h),N&2&&u!==(u=M[28].userName+"")&&ae(f,u),N&2&&z!==(z=new Date(M[28].joinedAt).toLocaleDateString()+"")&&ae(V,z),M[9]?y?y.p(M,N):(y=st(M),y.c(),y.m(s,null)):y&&(y.d(1),y=null)},d(M){M&&v(e),y&&y.d()}}}function nt(r){let e,t,s,i="‚úï",d,a,b="‚úâÔ∏è Invitar Jugador",h,x,p,m='<span class="label-text font-medieval text-neutral text-lg">Email del Jugador</span>',u,f,_,g,E='<span class="label-text-alt text-neutral/60 italic">El jugador recibir√° una invitaci√≥n para unirse a la campa√±a</span>',z,V,H,A="Cancelar",J,T,S,y,M,N;function F(j,C){return j[7]?xt:gt}let q=F(r),U=q(r);return{c(){e=c("div"),t=c("div"),s=c("button"),s.textContent=i,d=I(),a=c("h3"),a.textContent=b,h=I(),x=c("div"),p=c("label"),p.innerHTML=m,u=I(),f=c("input"),_=I(),g=c("label"),g.innerHTML=E,z=I(),V=c("div"),H=c("button"),H.textContent=A,J=I(),T=c("button"),U.c(),S=W(`\r
          Enviar Invitaci√≥n`),this.h()},l(j){e=o(j,"DIV",{class:!0});var C=k(e);t=o(C,"DIV",{class:!0});var B=k(t);s=o(B,"BUTTON",{class:!0,"data-svelte-h":!0}),L(s)!=="svelte-13qh2yt"&&(s.textContent=i),d=D(B),a=o(B,"H3",{class:!0,"data-svelte-h":!0}),L(a)!=="svelte-1vmxht6"&&(a.textContent=b),h=D(B),x=o(B,"DIV",{class:!0});var O=k(x);p=o(O,"LABEL",{class:!0,"data-svelte-h":!0}),L(p)!=="svelte-1s6k4jv"&&(p.innerHTML=m),u=D(O),f=o(O,"INPUT",{type:!0,placeholder:!0,class:!0}),_=D(O),g=o(O,"LABEL",{class:!0,"data-svelte-h":!0}),L(g)!=="svelte-1g3zhhz"&&(g.innerHTML=E),O.forEach(v),z=D(B),V=o(B,"DIV",{class:!0});var te=k(V);H=o(te,"BUTTON",{class:!0,"data-svelte-h":!0}),L(H)!=="svelte-9hazim"&&(H.textContent=A),J=D(te),T=o(te,"BUTTON",{class:!0});var oe=k(T);U.l(oe),S=Q(oe,`\r
          Enviar Invitaci√≥n`),oe.forEach(v),te.forEach(v),B.forEach(v),C.forEach(v),this.h()},h(){n(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),n(a,"class","font-bold text-2xl font-medieval text-neutral mb-4 text-center"),n(p,"class","label"),n(f,"type","email"),n(f,"placeholder","ejemplo@email.com"),n(f,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),n(g,"class","label"),n(x,"class","form-control"),n(H,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),n(T,"class","btn btn-success"),T.disabled=y=!r[6].trim()||r[7],n(V,"class","modal-action justify-center gap-4"),n(t,"class","modal-box card-parchment border-4 border-secondary corner-ornament relative w-full max-w-md overflow-hidden"),n(e,"class","fixed inset-0 bg-black/50 flex items-center justify-center z-50")},m(j,C){G(j,e,C),l(e,t),l(t,s),l(t,d),l(t,a),l(t,h),l(t,x),l(x,p),l(x,u),l(x,f),Ye(f,r[6]),l(x,_),l(x,g),l(t,z),l(t,V),l(V,H),l(V,J),l(V,T),U.m(T,null),l(T,S),M||(N=[X(s,"click",r[22]),X(f,"input",r[23]),X(H,"click",r[24]),X(T,"click",r[10])],M=!0)},p(j,C){C&64&&f.value!==j[6]&&Ye(f,j[6]),q!==(q=F(j))&&(U.d(1),U=q(j),U&&(U.c(),U.m(T,S))),C&192&&y!==(y=!j[6].trim()||j[7])&&(T.disabled=y)},d(j){j&&v(e),U.d(),M=!1,Be(N)}}}function gt(r){let e,t="üì®";return{c(){e=c("span"),e.textContent=t,this.h()},l(s){e=o(s,"SPAN",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-toac8q"&&(e.textContent=t),this.h()},h(){n(e,"class","text-xl")},m(s,i){G(s,e,i)},d(s){s&&v(e)}}}function xt(r){let e;return{c(){e=c("span"),this.h()},l(t){e=o(t,"SPAN",{class:!0}),k(e).forEach(v),this.h()},h(){n(e,"class","loading loading-spinner loading-sm")},m(t,s){G(t,e,s)},d(t){t&&v(e)}}}function rt(r){let e,t,s,i="‚ö†Ô∏è Eliminar Campa√±a",d,a,b='<div class="text-6xl mb-4">üî•</div> <p class="text-lg text-neutral font-body mb-2">¬øEst√°s seguro de que quieres eliminar esta campa√±a?</p> <p class="text-error font-bold font-medieval text-xl">Esta acci√≥n no se puede deshacer</p>',h,x,p='<p class="text-sm text-neutral font-body">Se eliminar√°n permanentemente:</p> <ul class="list-disc list-inside text-sm text-neutral/70 font-body mt-2"><li>Todos los personajes</li> <li>Todos los encuentros y combates</li> <li>Todas las invitaciones</li> <li>Todos los datos de la campa√±a</li></ul>',m,u,f,_="Cancelar",g,E,z=`<span class="text-xl">üóëÔ∏è</span>
          Eliminar Definitivamente`,V,H;return{c(){e=c("div"),t=c("div"),s=c("h3"),s.textContent=i,d=I(),a=c("div"),a.innerHTML=b,h=I(),x=c("div"),x.innerHTML=p,m=I(),u=c("div"),f=c("button"),f.textContent=_,g=I(),E=c("button"),E.innerHTML=z,this.h()},l(A){e=o(A,"DIV",{class:!0});var J=k(e);t=o(J,"DIV",{class:!0});var T=k(t);s=o(T,"H3",{class:!0,"data-svelte-h":!0}),L(s)!=="svelte-53g6d1"&&(s.textContent=i),d=D(T),a=o(T,"DIV",{class:!0,"data-svelte-h":!0}),L(a)!=="svelte-k0kgk6"&&(a.innerHTML=b),h=D(T),x=o(T,"DIV",{class:!0,"data-svelte-h":!0}),L(x)!=="svelte-1vuosnx"&&(x.innerHTML=p),m=D(T),u=o(T,"DIV",{class:!0});var S=k(u);f=o(S,"BUTTON",{class:!0,"data-svelte-h":!0}),L(f)!=="svelte-1kc82zi"&&(f.textContent=_),g=D(S),E=o(S,"BUTTON",{class:!0,"data-svelte-h":!0}),L(E)!=="svelte-1w49qf"&&(E.innerHTML=z),S.forEach(v),T.forEach(v),J.forEach(v),this.h()},h(){n(s,"class","font-bold text-2xl font-medieval text-neutral mb-4 text-center"),n(a,"class","text-center mb-6"),n(x,"class","bg-error/20 p-4 rounded-lg border-2 border-error mb-4"),n(f,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),n(E,"class","btn btn-error"),n(u,"class","modal-action justify-center gap-4"),n(t,"class","modal-box card-parchment border-4 border-error corner-ornament relative w-full max-w-lg overflow-hidden"),n(e,"class","fixed inset-0 bg-black/50 flex items-center justify-center z-50")},m(A,J){G(A,e,J),l(e,t),l(t,s),l(t,d),l(t,a),l(t,h),l(t,x),l(t,m),l(t,u),l(u,f),l(u,g),l(u,E),V||(H=[X(f,"click",r[25]),X(E,"click",r[12])],V=!0)},p:he,d(A){A&&v(e),V=!1,Be(H)}}}function kt(r){let e,t,s,i,d,a,b,h=r[3]&&et(r);function x(_,g){return _[2]?pt:mt}let p=x(r),m=p(r),u=r[4]&&nt(r),f=r[5]&&rt(r);return{c(){e=c("div"),h&&h.c(),t=I(),s=c("div"),i=c("div"),m.c(),d=I(),u&&u.c(),a=I(),f&&f.c(),b=We(),this.h()},l(_){e=o(_,"DIV",{class:!0});var g=k(e);h&&h.l(g),t=D(g),s=o(g,"DIV",{class:!0});var E=k(s);i=o(E,"DIV",{class:!0});var z=k(i);m.l(z),z.forEach(v),E.forEach(v),g.forEach(v),d=D(_),u&&u.l(_),a=D(_),f&&f.l(_),b=We(),this.h()},h(){n(i,"class","flex-1 p-6"),n(s,"class","flex flex-1"),n(e,"class","min-h-screen flex flex-col")},m(_,g){G(_,e,g),h&&h.m(e,null),l(e,t),l(e,s),l(s,i),m.m(i,null),G(_,d,g),u&&u.m(_,g),G(_,a,g),f&&f.m(_,g),G(_,b,g)},p(_,[g]){_[3]?h?h.p(_,g):(h=et(_),h.c(),h.m(e,t)):h&&(h.d(1),h=null),p===(p=x(_))&&m?m.p(_,g):(m.d(1),m=p(_),m&&(m.c(),m.m(i,null))),_[4]?u?u.p(_,g):(u=nt(_),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null),_[5]?f?f.p(_,g):(f=rt(_),f.c(),f.m(b.parentNode,b)):f&&(f.d(1),f=null)},i:he,o:he,d(_){_&&(v(e),v(d),v(a),v(b)),h&&h.d(),m.d(),u&&u.d(_),f&&f.d(_)}}}function Ct(r,e,t){let s,i,d,a;Xe(r,ht,C=>t(13,d=C)),Xe(r,vt,C=>t(14,a=C));let b=null,h=null,x=!0,p="",m=!1,u=!1,f="",_=!1;dt(async()=>{await g(),await E()});async function g(){try{t(0,b=await Ce.getCampaign(s)),b!=null&&b.name&&ft.set(b.name)}catch(C){t(3,p=C.message)}}async function E(){try{t(2,x=!0),t(1,h=await Ce.getCampaignMembers(s))}catch(C){t(3,p=C.message)}finally{t(2,x=!1)}}async function z(){if(f.trim())try{t(7,_=!0),t(3,p=""),await Ce.invitePlayer(s,f.trim()),t(4,m=!1),t(6,f=""),alert("¬°Invitaci√≥n enviada con √©xito!"),await E()}catch(C){t(3,p=C.message)}finally{t(7,_=!1)}}async function V(C,B){if(confirm(`¬øExpulsar a ${B} de la campa√±a?`))try{await Ce.removePlayer(s,C),await E()}catch(O){t(3,p=O.message)}}async function H(){if(b)try{await Ce.deleteCampaign(s),t(5,u=!1),Ae("/dashboard")}catch(C){t(3,p=C.message)}}const A=()=>t(3,p=""),J=()=>t(4,m=!0),T=()=>Ae(`/campaigns/${s}/combat`),S=()=>Ae(`/campaigns/${s}/characters`),y=()=>t(5,u=!0),M=()=>t(4,m=!0),N=C=>V(C.userId,C.userName),F=()=>{t(4,m=!1),t(6,f="")};function q(){f=this.value,t(6,f)}const U=()=>{t(4,m=!1),t(6,f="")},j=()=>t(5,u=!1);return r.$$.update=()=>{r.$$.dirty&16384&&t(8,s=a.params.id||""),r.$$.dirty&8193&&t(9,i=b&&d&&b.dmId===d.uid)},[b,h,x,p,m,u,f,_,s,i,z,V,H,d,a,A,J,T,S,y,M,N,F,q,U,j]}class Vt extends it{constructor(e){super(),ot(this,e,Ct,kt,ct,{})}}export{Vt as component};
