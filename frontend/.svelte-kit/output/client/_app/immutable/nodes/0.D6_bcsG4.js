import{S as ne,i as ie,s as re,n as R,d as b,x as Me,r as Ne,c as i,a as O,b as p,l as A,g as T,e as w,f as E,h as J,k as M,j as y,m as Y,o as G,p as B,t as H,U as Oe,y as X,z as $,q as je,w as ee,H as z,I as S,K as ae,_ as Re,$ as Ae,a0 as qe,a1 as Ge,Y as Ke,O as Pe,Z as Je,Q as Le,R as Se,P as Be,J as le}from"../chunks/b1l4neni.js";import"../chunks/IHki7fMi.js";import{o as Qe,a as pe,b as We}from"../chunks/Bhgkhhu0.js";import{u as ve,t as _e,l as be}from"../chunks/CG6d4oC4.js";import{e as te,a as ge,h as Ye}from"../chunks/C6zySN1F.js";import{g as se}from"../chunks/CE5E9yVk.js";import{p as He}from"../chunks/CAHGdLhf.js";const Ze=!1,Fe=!1,bt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Fe,ssr:Ze},Symbol.toStringTag,{value:"Module"}));function ke(l,e,t){const a=l.slice();return a[15]=e[t],a[16]=e,a[17]=t,a}function we(l){let e,t,a;return{c(){e=y("div"),this.h()},l(s){e=w(s,"DIV",{class:!0,"aria-hidden":!0}),E(e).forEach(b),this.h()},h(){i(e,"class","fixed inset-0 bg-black/40 z-40"),i(e,"aria-hidden","true")},m(s,o){O(s,e,o),t||(a=A(e,"click",l[7]),t=!0)},p:R,d(s){s&&b(e),t=!1,a()}}}function ye(l){let e,t,a=l[15].icon+"",s,o,n,_=l[15].label+"",f,v,g,V,I,C=l[17],D,x;const h=()=>l[13](e,C),u=()=>l[13](null,C);function c(){return l[14](l[15])}return{c(){e=y("button"),t=y("span"),s=H(a),o=M(),n=y("span"),f=H(_),v=M(),this.h()},l(d){e=w(d,"BUTTON",{class:!0,title:!0,"aria-current":!0});var m=E(e);t=w(m,"SPAN",{class:!0});var r=E(t);s=B(r,a),r.forEach(b),o=T(m),n=w(m,"SPAN",{class:!0});var k=E(n);f=B(k,_),k.forEach(b),v=T(m),m.forEach(b),this.h()},h(){i(t,"class","text-xl"),i(n,"class","ml-2"),i(e,"class",g=`btn font-medieval transition-all duration-200 flex items-center gap-3 justify-start px-3 py-2
                  ${l[15].active?"btn-dnd":"btn-ghost text-secondary hover:text-accent"}`),i(e,"title",V=l[15].label),i(e,"aria-current",I=l[15].active?"page":void 0)},m(d,m){O(d,e,m),p(e,t),p(t,s),p(e,o),p(e,n),p(n,f),p(e,v),h(),D||(x=A(e,"click",c),D=!0)},p(d,m){l=d,m&122&&a!==(a=l[15].icon+"")&&G(s,a),m&122&&_!==(_=l[15].label+"")&&G(f,_),m&122&&g!==(g=`btn font-medieval transition-all duration-200 flex items-center gap-3 justify-start px-3 py-2
                  ${l[15].active?"btn-dnd":"btn-ghost text-secondary hover:text-accent"}`)&&i(e,"class",g),m&122&&V!==(V=l[15].label)&&i(e,"title",V),m&122&&I!==(I=l[15].active?"page":void 0)&&i(e,"aria-current",I),C!==l[17]&&(u(),C=l[17],h())},d(d){d&&b(e),u(),D=!1,x()}}}function Xe(l){let e,t,a,s,o,n='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>',_,f,v,g='<span class="text-2xl">üìú</span> <span class="ml-2">Volver al Grimorio</span>',V,I,C,D,x,h=l[0]&&we(l),u=te([{path:`/campaigns/${l[1]}`,label:"Home",icon:"üè†",active:l[3]},{path:`/campaigns/${l[1]}/combat`,label:"Combate",icon:"‚öîÔ∏è",active:l[6]},{path:`/campaigns/${l[1]}/characters`,label:"Personajes",icon:"üßô‚Äç‚ôÇÔ∏è",active:l[5]},{path:`/campaigns/${l[1]}/notes`,label:"Notas",icon:"üìù",active:l[4]}]),c=[];for(let d=0;d<4;d+=1)c[d]=ye(ke(l,u,d));return{c(){h&&h.c(),e=M(),t=y("div"),a=y("div"),s=y("div"),o=y("button"),o.innerHTML=n,_=M(),f=y("div"),v=y("button"),v.innerHTML=g,V=M();for(let d=0;d<4;d+=1)c[d].c();this.h()},l(d){h&&h.l(d),e=T(d),t=w(d,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-hidden":!0});var m=E(t);a=w(m,"DIV",{class:!0});var r=E(a);s=w(r,"DIV",{class:!0});var k=E(s);o=w(k,"BUTTON",{class:!0,"aria-label":!0,"aria-controls":!0,"data-svelte-h":!0}),J(o)!=="svelte-loq967"&&(o.innerHTML=n),k.forEach(b),_=T(r),f=w(r,"DIV",{class:!0});var j=E(f);v=w(j,"BUTTON",{class:!0,"data-svelte-h":!0}),J(v)!=="svelte-9ry9j6"&&(v.innerHTML=g),V=T(j);for(let P=0;P<4;P+=1)c[P].l(j);j.forEach(b),r.forEach(b),m.forEach(b),this.h()},h(){i(o,"class","btn btn-ghost btn-square ml-2"),i(o,"aria-label","Cerrar men√∫"),i(o,"aria-controls","sidebar"),i(s,"class","flex items-center"),i(v,"class","btn font-medieval transition-all duration-200 flex items-center gap-3 justify-start px-3 py-2 btn-ghost text-secondary hover:text-accent"),i(f,"class","space-y-2 flex-1 flex flex-col"),i(a,"class","bg-neutral border-r-4 border-secondary h-full flex flex-col p-4 shadow-xl"),i(t,"class",I=`fixed top-0 left-0 h-full z-50 transform transition-transform duration-300 ease-in-out
          ${l[0]?"translate-x-0":"-translate-x-full"} w-72`),i(t,"role","navigation"),i(t,"aria-label","Sidebar navegaci√≥n"),i(t,"aria-hidden",C=!l[0])},m(d,m){h&&h.m(d,m),O(d,e,m),O(d,t,m),p(t,a),p(a,s),p(s,o),p(a,_),p(a,f),p(f,v),p(f,V);for(let r=0;r<4;r+=1)c[r]&&c[r].m(f,null);D||(x=[A(window,"keydown",l[8]),A(o,"click",l[7]),A(v,"click",l[12])],D=!0)},p(d,[m]){if(d[0]?h?h.p(d,m):(h=we(d),h.c(),h.m(e.parentNode,e)):h&&(h.d(1),h=null),m&638){u=te([{path:`/campaigns/${d[1]}`,label:"Home",icon:"üè†",active:d[3]},{path:`/campaigns/${d[1]}/combat`,label:"Combate",icon:"‚öîÔ∏è",active:d[6]},{path:`/campaigns/${d[1]}/characters`,label:"Personajes",icon:"üßô‚Äç‚ôÇÔ∏è",active:d[5]},{path:`/campaigns/${d[1]}/notes`,label:"Notas",icon:"üìù",active:d[4]}]);let r;for(r=0;r<4;r+=1){const k=ke(d,u,r);c[r]?c[r].p(k,m):(c[r]=ye(k),c[r].c(),c[r].m(f,null))}for(;r<4;r+=1)c[r].d(1)}m&1&&I!==(I=`fixed top-0 left-0 h-full z-50 transform transition-transform duration-300 ease-in-out
          ${d[0]?"translate-x-0":"-translate-x-full"} w-72`)&&i(t,"class",I),m&1&&C!==(C=!d[0])&&i(t,"aria-hidden",C)},i:R,o:R,d(d){d&&(b(e),b(t)),h&&h.d(d),Me(c,d),D=!1,Ne(x)}}}function $e(l,e,t){let a,s,o,n,_,f;Y(l,He,c=>t(11,f=c));let{campaignId:v}=e,{isOpen:g=!1}=e,V=[];function I(){t(0,g=!1)}function C(c){c.key==="Escape"&&I()}function D(c){se(c),I()}const x=()=>D("/dashboard");function h(c,d){Oe[c?"unshift":"push"](()=>{V[d]=c,t(2,V)})}const u=c=>D(c.path);return l.$$set=c=>{"campaignId"in c&&t(1,v=c.campaignId),"isOpen"in c&&t(0,g=c.isOpen)},l.$$.update=()=>{l.$$.dirty&2048&&t(10,a=f.url.pathname),l.$$.dirty&1026&&t(6,s=a===`/campaigns/${v}/combat`),l.$$.dirty&1026&&t(5,o=a===`/campaigns/${v}/characters`),l.$$.dirty&1026&&t(4,n=a===`/campaigns/${v}/notes`),l.$$.dirty&1026&&t(3,_=a===`/campaigns/${v}`)},[g,v,V,_,n,o,s,I,C,D,a,f,x,h,u]}class et extends ne{constructor(e){super(),ie(this,e,$e,Xe,re,{campaignId:1,isOpen:0})}}function Ie(l,e,t){const a=l.slice();return a[7]=e[t],a}function Ee(l){let e,t=l[0].length+"",a;return{c(){e=y("span"),a=H(t),this.h()},l(s){e=w(s,"SPAN",{class:!0});var o=E(e);a=B(o,t),o.forEach(b),this.h()},h(){i(e,"class","badge badge-sm badge-ornate indicator-item animate-pulse")},m(s,o){O(s,e,o),p(e,a)},p(s,o){o&1&&t!==(t=s[0].length+"")&&G(a,t)},d(s){s&&b(e)}}}function xe(l){let e,t=l[0].length+"",a;return{c(){e=y("span"),a=H(t),this.h()},l(s){e=w(s,"SPAN",{class:!0});var o=E(e);a=B(o,t),o.forEach(b),this.h()},h(){i(e,"class","badge badge-ornate")},m(s,o){O(s,e,o),p(e,a)},p(s,o){o&1&&t!==(t=s[0].length+"")&&G(a,t)},d(s){s&&b(e)}}}function tt(l){let e,t=te(l[0]),a=[];for(let s=0;s<t.length;s+=1)a[s]=De(Ie(l,t,s));return{c(){e=y("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=w(s,"DIV",{class:!0});var o=E(e);for(let n=0;n<a.length;n+=1)a[n].l(o);o.forEach(b),this.h()},h(){i(e,"class","space-y-3 max-h-96 overflow-y-auto pr-2 svelte-1sirqyk")},m(s,o){O(s,e,o);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,null)},p(s,o){if(o&7){t=te(s[0]);let n;for(n=0;n<t.length;n+=1){const _=Ie(s,t,n);a[n]?a[n].p(_,o):(a[n]=De(_),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=t.length}},d(s){s&&b(e),Me(a,s)}}}function at(l){let e,t='<div class="text-4xl mb-2 opacity-50">üì≠</div> <p class="text-base-content/70 font-body italic">No hay invitaciones pendientes</p>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(a){e=w(a,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-whrkyc"&&(e.innerHTML=t),this.h()},h(){i(e,"class","text-center py-6")},m(a,s){O(a,e,s)},p:R,d(a){a&&b(e)}}}function De(l){let e,t,a,s,o,n,_,f,v,g,V=l[7].fromName+"",I,C,D,x="te invita a la campa√±a",h,u,c=l[7].campaignName+"",d,m,r,k,j,P,N,U,Q,W,oe;function Ue(){return l[4](l[7])}function ze(){return l[5](l[7])}return{c(){e=y("div"),t=y("div"),a=y("div"),s=y("div"),o=y("img"),f=M(),v=y("div"),g=y("p"),I=H(V),C=M(),D=y("p"),D.textContent=x,h=M(),u=y("p"),d=H(c),m=M(),r=y("div"),k=y("button"),j=H("‚öîÔ∏è Unirme"),P=M(),N=y("button"),U=H("‚úï Declinar"),Q=M(),this.h()},l(K){e=w(K,"DIV",{class:!0});var L=E(e);t=w(L,"DIV",{class:!0});var Z=E(t);a=w(Z,"DIV",{class:!0});var ce=E(a);s=w(ce,"DIV",{class:!0});var de=E(s);o=w(de,"IMG",{src:!0,alt:!0}),de.forEach(b),ce.forEach(b),f=T(Z),v=w(Z,"DIV",{class:!0});var q=E(v);g=w(q,"P",{class:!0});var fe=E(g);I=B(fe,V),fe.forEach(b),C=T(q),D=w(q,"P",{class:!0,"data-svelte-h":!0}),J(D)!=="svelte-11uyp94"&&(D.textContent=x),h=T(q),u=w(q,"P",{class:!0});var ue=E(u);d=B(ue,c),ue.forEach(b),m=T(q),r=w(q,"DIV",{class:!0});var F=E(r);k=w(F,"BUTTON",{class:!0});var he=E(k);j=B(he,"‚öîÔ∏è Unirme"),he.forEach(b),P=T(F),N=w(F,"BUTTON",{class:!0});var me=E(N);U=B(me,"‚úï Declinar"),me.forEach(b),F.forEach(b),q.forEach(b),Z.forEach(b),Q=T(L),L.forEach(b),this.h()},h(){ee(o.src,n=l[7].fromPhoto)||i(o,"src",n),i(o,"alt",_=l[7].fromName),i(s,"class","w-12 rounded-full ring-2 ring-secondary ring-offset-2 ring-offset-[#f4e4c1]"),i(a,"class","avatar"),i(g,"class","font-bold text-sm text-neutral font-body"),i(D,"class","text-xs text-neutral/60 font-body italic"),i(u,"class","font-semibold text-primary font-medieval mt-1"),i(k,"class","btn btn-success btn-xs text-white font-medieval"),k.disabled=l[1],i(N,"class","btn btn-error btn-xs text-white font-medieval"),N.disabled=l[1],i(r,"class","flex gap-2 mt-3"),i(v,"class","flex-1 min-w-0"),i(t,"class","flex items-start gap-3"),i(e,"class","bg-gradient-to-br from-[#f4e4c1] to-[#e8d4a8] rounded-lg p-4 border-2 border-primary/30 shadow-md")},m(K,L){O(K,e,L),p(e,t),p(t,a),p(a,s),p(s,o),p(t,f),p(t,v),p(v,g),p(g,I),p(v,C),p(v,D),p(v,h),p(v,u),p(u,d),p(v,m),p(v,r),p(r,k),p(k,j),p(r,P),p(r,N),p(N,U),p(e,Q),W||(oe=[A(k,"click",Ue),A(N,"click",ze)],W=!0)},p(K,L){l=K,L&1&&!ee(o.src,n=l[7].fromPhoto)&&i(o,"src",n),L&1&&_!==(_=l[7].fromName)&&i(o,"alt",_),L&1&&V!==(V=l[7].fromName+"")&&G(I,V),L&1&&c!==(c=l[7].campaignName+"")&&G(d,c),L&2&&(k.disabled=l[1]),L&2&&(N.disabled=l[1])},d(K){K&&b(e),W=!1,Ne(oe)}}}function lt(l){let e,t,a,s,o,n,_,f,v,g,V,I,C="‚öîÔ∏è",D,x=l[0].length>0&&Ee(l),h=l[0].length>0&&xe(l);function u(m,r){return m[0].length===0?at:tt}let c=u(l),d=c(l);return{c(){e=y("div"),t=y("label"),a=$("svg"),s=$("path"),o=M(),x&&x.c(),n=M(),_=y("div"),f=y("div"),v=y("h3"),g=H(`üìú Invitaciones\r
        `),h&&h.c(),V=M(),I=y("div"),I.textContent=C,D=M(),d.c(),this.h()},l(m){e=w(m,"DIV",{class:!0});var r=E(e);t=w(r,"LABEL",{tabindex:!0,class:!0});var k=E(t);a=X(k,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var j=E(a);s=X(j,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),E(s).forEach(b),j.forEach(b),o=T(k),x&&x.l(k),k.forEach(b),n=T(r),_=w(r,"DIV",{tabindex:!0,class:!0});var P=E(_);f=w(P,"DIV",{class:!0});var N=E(f);v=w(N,"H3",{class:!0});var U=E(v);g=B(U,`üìú Invitaciones\r
        `),h&&h.l(U),U.forEach(b),V=T(N),I=w(N,"DIV",{class:!0,"data-svelte-h":!0}),J(I)!=="svelte-1gecnns"&&(I.textContent=C),D=T(N),d.l(N),N.forEach(b),P.forEach(b),r.forEach(b),this.h()},h(){i(s,"stroke-linecap","round"),i(s,"stroke-linejoin","round"),i(s,"stroke-width","2"),i(s,"d","M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"),i(a,"xmlns","http://www.w3.org/2000/svg"),i(a,"class","h-6 w-6 text-secondary"),i(a,"fill","none"),i(a,"viewBox","0 0 24 24"),i(a,"stroke","currentColor"),i(t,"tabindex","0"),i(t,"class","btn btn-ghost btn-circle indicator ring-2 ring-secondary/50 hover:ring-secondary transition-all"),i(v,"class","card-title text-xl font-medieval text-secondary"),i(I,"class","divider my-1 opacity-30"),i(f,"class","card-body"),i(_,"tabindex","0"),i(_,"class","mt-3 z-[1] card card-compact dropdown-content w-96 max-w-[73vw] sm:max-w-sm md:max-w-md shadow-2xl bg-neutral border-2 border-secondary"),i(e,"class","dropdown dropdown-end")},m(m,r){O(m,e,r),p(e,t),p(t,a),p(a,s),p(t,o),x&&x.m(t,null),p(e,n),p(e,_),p(_,f),p(f,v),p(v,g),h&&h.m(v,null),p(f,V),p(f,I),p(f,D),d.m(f,null)},p(m,[r]){m[0].length>0?x?x.p(m,r):(x=Ee(m),x.c(),x.m(t,null)):x&&(x.d(1),x=null),m[0].length>0?h?h.p(m,r):(h=xe(m),h.c(),h.m(v,null)):h&&(h.d(1),h=null),c===(c=u(m))&&d?d.p(m,r):(d.d(1),d=c(m),d&&(d.c(),d.m(f,null)))},i:R,o:R,d(m){m&&b(e),x&&x.d(),h&&h.d(),d.d()}}}function st(l,e,t){let{onInvitationResponded:a=()=>{}}=e,s=[],o=!1;je(()=>{n();const g=setInterval(n,3e4);return()=>clearInterval(g)});async function n(){try{t(0,s=await ge.getMyInvitations())}catch(g){console.error("Error loading invitations:",g)}}async function _(g,V){try{t(1,o=!0),await ge.respondToInvitation(g,V),await n(),a()}catch(I){alert(I.message)}finally{t(1,o=!1)}}const f=g=>_(g.id,"accept"),v=g=>_(g.id,"reject");return l.$$set=g=>{"onInvitationResponded"in g&&t(3,a=g.onInvitationResponded)},[s,o,_,a,f,v]}class nt extends ne{constructor(e){super(),ie(this,e,st,lt,re,{onInvitationResponded:3})}}function it(l){let e,t,a,s,o,n,_,f,v,g,V,I,C,D,x,h=l[3]&&l[4]&&Ve(l),u=l[3]&&Ce(l),c=l[7]&&!l[2]&&!l[1]&&Te(l);const d=l[12].default,m=Re(d,l,l[11],null);return{c(){h&&h.c(),e=M(),t=y("div"),a=y("div"),u&&u.c(),s=M(),o=y("h1"),n=H(l[6]),_=M(),f=y("div"),v=y("h1"),g=H(l[6]),V=M(),I=y("div"),c&&c.c(),C=M(),D=y("div"),m&&m.c(),this.h()},l(r){h&&h.l(r),e=T(r),t=w(r,"DIV",{class:!0});var k=E(t);a=w(k,"DIV",{class:!0});var j=E(a);u&&u.l(j),s=T(j),o=w(j,"H1",{class:!0});var P=E(o);n=B(P,l[6]),P.forEach(b),j.forEach(b),_=T(k),f=w(k,"DIV",{class:!0});var N=E(f);v=w(N,"H1",{class:!0});var U=E(v);g=B(U,l[6]),U.forEach(b),N.forEach(b),V=T(k),I=w(k,"DIV",{class:!0});var Q=E(I);c&&c.l(Q),Q.forEach(b),k.forEach(b),C=T(r),D=w(r,"DIV",{class:!0});var W=E(D);m&&m.l(W),W.forEach(b),this.h()},h(){i(o,"class","lg:hidden btn btn-ghost text-base sm:text-lg font-medieval text-secondary hover:text-accent sm:max-w-xs"),i(a,"class","flex items-center gap-2 flex-1 min-w-0"),i(v,"class","btn btn-ghost text-xl font-medieval text-secondary hover:text-accent max-w-md"),i(f,"class","hidden lg:flex flex-1 justify-center"),i(I,"class","flex items-center gap-2 sm:gap-3 md:gap-4 flex-1 justify-end"),i(t,"class","navbar-medieval sticky top-0 z-30 w-full flex items-center justify-between px-3 sm:px-4 lg:px-6 h-14 sm:h-16 lg:h-20 safe-left safe-right py-8 svelte-1b5zlnt"),i(D,"class","relative min-h-[calc(100vh-3.5rem)] sm:min-h-[calc(100vh-4rem)] lg:min-h-[calc(100vh-5rem)]")},m(r,k){h&&h.m(r,k),O(r,e,k),O(r,t,k),p(t,a),u&&u.m(a,null),p(a,s),p(a,o),p(o,n),p(t,_),p(t,f),p(f,v),p(v,g),p(t,V),p(t,I),c&&c.m(I,null),O(r,C,k),O(r,D,k),m&&m.m(D,null),x=!0},p(r,k){r[3]&&r[4]?h?(h.p(r,k),k&24&&S(h,1)):(h=Ve(r),h.c(),S(h,1),h.m(e.parentNode,e)):h&&(le(),z(h,1,1,()=>{h=null}),ae()),r[3]?u?u.p(r,k):(u=Ce(r),u.c(),u.m(a,s)):u&&(u.d(1),u=null),(!x||k&64)&&G(n,r[6]),(!x||k&64)&&G(g,r[6]),r[7]&&!r[2]&&!r[1]?c?(c.p(r,k),k&134&&S(c,1)):(c=Te(r),c.c(),S(c,1),c.m(I,null)):c&&(le(),z(c,1,1,()=>{c=null}),ae()),m&&m.p&&(!x||k&2048)&&Ae(m,d,r,r[11],x?Ge(d,r[11],k,null):qe(r[11]),null)},i(r){x||(S(h),S(c),S(m,r),x=!0)},o(r){z(h),z(c),z(m,r),x=!1},d(r){r&&(b(e),b(t),b(C),b(D)),h&&h.d(r),u&&u.d(),c&&c.d(),m&&m.d(r)}}}function rt(l){let e,t='<div class="text-4xl sm:text-5xl md:text-6xl">üé≤</div> <span class="loading loading-spinner loading-md sm:loading-lg text-secondary"></span> <p class="font-medieval text-secondary text-sm sm:text-base text-center">Cargando grimorio...</p>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(a){e=w(a,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-fmyonb"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex flex-col items-center justify-center h-screen gap-4 px-4")},m(a,s){O(a,e,s)},p:R,i:R,o:R,d(a){a&&b(e)}}}function Ve(l){let e,t,a;function s(n){l[13](n)}let o={campaignId:l[4]};return l[0]!==void 0&&(o.isOpen=l[0]),e=new et({props:o}),Oe.push(()=>Ke(e,"isOpen",s)),{c(){Be(e.$$.fragment)},l(n){Se(e.$$.fragment,n)},m(n,_){Le(e,n,_),a=!0},p(n,_){const f={};_&16&&(f.campaignId=n[4]),!t&&_&1&&(t=!0,f.isOpen=n[0],Je(()=>t=!1)),e.$set(f)},i(n){a||(S(e.$$.fragment,n),a=!0)},o(n){z(e.$$.fragment,n),a=!1},d(n){Pe(e,n)}}}function Ce(l){let e,t,a,s,o;return{c(){e=y("button"),t=$("svg"),a=$("path"),this.h()},l(n){e=w(n,"BUTTON",{class:!0,"aria-label":!0,"aria-expanded":!0});var _=E(e);t=X(_,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var f=E(t);a=X(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),E(a).forEach(b),f.forEach(b),_.forEach(b),this.h()},h(){i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"stroke-width","2"),i(a,"d","M4 6h16M4 12h16M4 18h16"),i(t,"xmlns","http://www.w3.org/2000/svg"),i(t,"class","h-5 w-5 sm:h-6 sm:w-6"),i(t,"fill","none"),i(t,"viewBox","0 0 24 24"),i(t,"stroke","currentColor"),i(e,"class","btn btn-ghost btn-sm btn-circle flex-shrink-0 svelte-1b5zlnt"),i(e,"aria-label","Abrir men√∫"),i(e,"aria-expanded",l[0])},m(n,_){O(n,e,_),p(e,t),p(t,a),s||(o=A(e,"click",l[9]),s=!0)},p(n,_){_&1&&i(e,"aria-expanded",n[0])},d(n){n&&b(e),s=!1,o()}}}function Te(l){let e,t,a,s,o,n,_,f,v,g,V,I,C="üö™ Cerrar Sesi√≥n",D,x,h;return e=new nt({props:{onInvitationResponded:ct}}),{c(){Be(e.$$.fragment),t=M(),a=y("div"),s=y("label"),o=y("div"),n=y("img"),v=M(),g=y("ul"),V=y("li"),I=y("a"),I.textContent=C,this.h()},l(u){Se(e.$$.fragment,u),t=T(u),a=w(u,"DIV",{class:!0});var c=E(a);s=w(c,"LABEL",{tabindex:!0,class:!0});var d=E(s);o=w(d,"DIV",{class:!0});var m=E(o);n=w(m,"IMG",{src:!0,alt:!0,class:!0}),m.forEach(b),d.forEach(b),v=T(c),g=w(c,"UL",{tabindex:!0,class:!0});var r=E(g);V=w(r,"LI",{});var k=E(V);I=w(k,"A",{class:!0,"data-svelte-h":!0}),J(I)!=="svelte-1942x31"&&(I.textContent=C),k.forEach(b),r.forEach(b),c.forEach(b),this.h()},h(){var u,c;ee(n.src,_=((u=l[7])==null?void 0:u.photoURL)||"")||i(n,"src",_),i(n,"alt",f=((c=l[7])==null?void 0:c.displayName)||"Usuario"),i(n,"class","object-cover"),i(o,"class","w-8 h-8 sm:w-9 sm:h-9 lg:w-10 lg:h-10 rounded-full"),i(s,"tabindex","0"),i(s,"class","btn btn-ghost btn-circle avatar ring-2 ring-secondary ring-offset-2 ring-offset-neutral svelte-1b5zlnt"),i(I,"class","text-base-content hover:text-secondary font-medieval text-sm sm:text-base"),i(g,"tabindex","0"),i(g,"class","mt-3 z-[50] p-2 shadow-xl menu menu-sm dropdown-content bg-neutral rounded-box w-48 sm:w-52 border-2 border-secondary svelte-1b5zlnt"),i(a,"class","dropdown dropdown-end")},m(u,c){Le(e,u,c),O(u,t,c),O(u,a,c),p(a,s),p(s,o),p(o,n),p(a,v),p(a,g),p(g,V),p(V,I),D=!0,x||(h=A(I,"click",l[8]),x=!0)},p(u,c){var d,m;(!D||c&128&&!ee(n.src,_=((d=u[7])==null?void 0:d.photoURL)||""))&&i(n,"src",_),(!D||c&128&&f!==(f=((m=u[7])==null?void 0:m.displayName)||"Usuario"))&&i(n,"alt",f)},i(u){D||(S(e.$$.fragment,u),D=!0)},o(u){z(e.$$.fragment,u),D=!1},d(u){u&&(b(t),b(a)),Pe(e,u),x=!1,h()}}}function ot(l){let e,t,a,s;const o=[rt,it],n=[];function _(f,v){return f[5]?0:1}return t=_(l),a=n[t]=o[t](l),{c(){e=y("div"),a.c(),this.h()},l(f){e=w(f,"DIV",{class:!0,"data-theme":!0});var v=E(e);a.l(v),v.forEach(b),this.h()},h(){i(e,"class","min-h-screen relative safe-top safe-bottom"),i(e,"data-theme","dnd")},m(f,v){O(f,e,v),n[t].m(e,null),s=!0},p(f,[v]){let g=t;t=_(f),t===g?n[t].p(f,v):(le(),z(n[g],1,1,()=>{n[g]=null}),ae(),a=n[t],a?a.p(f,v):(a=n[t]=o[t](f),a.c()),S(a,1),a.m(e,null))},i(f){s||(S(a),s=!0)},o(f){z(a),s=!1},d(f){f&&b(e),n[t].d()}}}function ct(){location.reload()}function dt(l,e,t){let a,s,o,n,_,f,v,g;Y(l,He,u=>t(10,_=u)),Y(l,be,u=>t(5,f=u)),Y(l,Ye,u=>t(6,v=u)),Y(l,ve,u=>t(7,g=u));let{$$slots:V={},$$scope:I}=e,C=!1;je(()=>{const u=Qe(pe,async c=>{if(ve.set(c),c){const d=await c.getIdToken();_e.set(d)}else _e.set(null);be.set(!1),!c&&_.url.pathname!=="/login"&&_.url.pathname!=="/"&&se("/login")});return()=>u()});function D(){We(pe).then(()=>se("/login"))}function x(){t(0,C=!C)}function h(u){C=u,t(0,C)}return l.$$set=u=>{"$$scope"in u&&t(11,I=u.$$scope)},l.$$.update=()=>{l.$$.dirty&1024&&t(4,a=_.params.id),l.$$.dirty&1024&&t(3,s=_.url.pathname.startsWith("/campaigns/")),l.$$.dirty&1024&&t(2,o=_.url.pathname==="/login"),l.$$.dirty&1024&&t(1,n=_.url.pathname==="/")},[C,n,o,s,a,f,v,g,D,x,_,I,V,h]}class gt extends ne{constructor(e){super(),ie(this,e,dt,ot,re,{})}}export{gt as component,bt as universal};
