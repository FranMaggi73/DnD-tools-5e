import{G as As,S as Dt,i as wt,s as It,n as Ke,d as f,a as j,u as Ye,V as Bt,r as at,b as r,l as le,C as kt,c,e as p,f as y,h as K,g as k,j as h,k as D,E as St,F as Is,X as Ue,p as M,t as B,v as xe,x as lt,B as jt,D as xs,o as ee,U as At,Y as Lt,O as _t,H as $e,I as Ze,Z as Pt,Q as gt,R as Et,P as yt,q as Ts,y as Ft,z as Ut,J as Nt,K as Mt,T as Xt,m as Yt,A as Ls}from"../chunks/b1l4neni.js";import{e as Je,h as Ps,a as Ot}from"../chunks/B0AGoUMz.js";import"../chunks/IHki7fMi.js";import{p as Ss}from"../chunks/CBsnC47a.js";import{t as Ns,u as Ms}from"../chunks/DMj5m-5l.js";import{d as Bs}from"../chunks/B0l-HeGw.js";import{j as Zt,k as Hs,l as Os,m as qs,n as js,o as qt,h as Fs,p as Us,f as zs,g as Rs}from"../chunks/Dpq2-5VD.js";import{g as Gs,c as Qs,q as Js,w as Ks,o as Ws}from"../chunks/eN7n43qG.js";import{c as Xs}from"../chunks/Bhgkhhu0.js";function nt(l){return Math.floor((l-10)/2)}function it(l){return l>=0?`+${l}`:`${l}`}function Wt(l){return Math.floor((l-1)/4)+2}const zt=[{name:"Acrobatics",ability:"dexterity",label:"Acrobacias"},{name:"Animal Handling",ability:"wisdom",label:"Trato con Animales"},{name:"Arcana",ability:"intelligence",label:"Arcano"},{name:"Athletics",ability:"strength",label:"Atletismo"},{name:"Deception",ability:"charisma",label:"Enga√±o"},{name:"History",ability:"intelligence",label:"Historia"},{name:"Insight",ability:"wisdom",label:"Perspicacia"},{name:"Intimidation",ability:"charisma",label:"Intimidaci√≥n"},{name:"Investigation",ability:"intelligence",label:"Investigaci√≥n"},{name:"Medicine",ability:"wisdom",label:"Medicina"},{name:"Nature",ability:"intelligence",label:"Naturaleza"},{name:"Perception",ability:"wisdom",label:"Percepci√≥n"},{name:"Performance",ability:"charisma",label:"Interpretaci√≥n"},{name:"Persuasion",ability:"charisma",label:"Persuasi√≥n"},{name:"Religion",ability:"intelligence",label:"Religi√≥n"},{name:"Sleight of Hand",ability:"dexterity",label:"Juego de Manos"},{name:"Stealth",ability:"dexterity",label:"Sigilo"},{name:"Survival",ability:"wisdom",label:"Supervivencia"}],Ys="https://dm-events-backend-858373640437.us-central1.run.app/api",Kt=new Map,Zs=5*60*1e3;function $s(l){const e=Kt.get(l.toLowerCase());return e&&Date.now()-e.timestamp<Zs?e.results:(Kt.delete(l.toLowerCase()),null)}function er(l,e){Kt.set(l.toLowerCase(),{query:l,results:e,timestamp:Date.now()})}async function Tt(l,e={}){const t=As(Ns),a={"Content-Type":"application/json",...e.headers};t&&(a.Authorization=`Bearer ${t}`);const s=await fetch(`${Ys}${l}`,{...e,headers:a});if(!s.ok){const n=await s.json().catch(()=>({error:"Error en la petici√≥n"}));throw new Error(n.error||"Error en la petici√≥n")}return s.json()}const Vt={getInventory:l=>Tt(`/characters/${l}/inventory`),createItem:(l,e)=>Tt(`/characters/${l}/items`,{method:"POST",body:JSON.stringify(e)}),updateItem:(l,e)=>Tt(`/items/${l}`,{method:"PUT",body:JSON.stringify(e)}),deleteItem:l=>Tt(`/items/${l}`,{method:"DELETE"}),updateCurrency:(l,e)=>Tt(`/characters/${l}/currency`,{method:"PUT",body:JSON.stringify(e)})};let bt=null;const mt={searchItems:async(l,e)=>{const t=l.trim().toLowerCase(),a=$s(t);if(a)return a;bt&&bt.abort(),bt=new AbortController;try{const[s,n,i,o]=await Promise.all([fetch(`https://api.open5e.com/v1/magicitems/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]})),fetch(`https://api.open5e.com/v1/weapons/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]})),fetch(`https://api.open5e.com/v1/armor/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]})),fetch(`https://api.open5e.com/v1/gear/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]}))]),m=[...(s.results||[]).map(d=>({...d,source:"magicitems"})),...(n.results||[]).map(d=>({...d,source:"weapons"})),...(i.results||[]).map(d=>({...d,source:"armor"})),...(o.results||[]).map(d=>({...d,source:"gear"}))].filter(d=>d.name.toLowerCase().includes(t)).sort((d,b)=>{const _=d.name.toLowerCase(),E=b.name.toLowerCase(),g=_.startsWith(t),C=E.startsWith(t);return g&&!C?-1:!g&&C?1:_.length-E.length}).slice(0,30),v={count:m.length,next:null,previous:null,results:m};return er(t,v),v}catch(s){if(s.name==="AbortError")throw s;return console.error("Error searching Open5e:",s),{count:0,next:null,previous:null,results:[]}}},getItem:async(l,e="magicitems")=>{const t=await fetch(`https://api.open5e.com/v1/${e}/${l}/`);if(!t.ok)throw new Error("Error obteniendo item");return t.json()},convertToInventoryItem:l=>{const e=l.name||"",t=$t(l.desc||"",1e3),a=lr(l.cost);let s="other";l.damage_dice||l.damage_type||l.damage?s="weapon":l.armor_class||l.ac_string?s="armor":l.category&&l.category.toLowerCase().includes("shield")?s="shield":tr(e,t)?s="consumable":l.category&&l.category.toLowerCase().includes("tool")?s="tool":l.rarity&&!["common","none"].includes(l.rarity.toLowerCase())&&(s="treasure");const n={name:e,description:t,quantity:1,open5eSlug:l.slug,value:a,type:s,rarity:l.rarity||"common"};return s==="weapon"&&(n.weaponData={weaponType:l.category||"simple",damageDice:l.damage_dice||l.damage||"1d4",damageType:l.damage_type||"bludgeoning",properties:ar(l.properties,l.desc),magicBonus:tl(e)}),(s==="armor"||s==="shield")&&(n.armorData={armorType:l.category||"light",baseAC:sr(l.armor_class||l.ac_string),dexModifier:rr(l),strengthRequirement:l.strength_requirement,stealthDisadvantage:l.stealth_disadvantage||!1,magicBonus:tl(e)}),n},cleanDescription:(l,e=200)=>$t(l,e)};function tr(l,e){const t=l.toLowerCase(),a=e.toLowerCase();return["potion","elixir","oil","scroll","poison","antidote","philter"].some(n=>t.includes(n)||a.includes(n))}function $t(l,e=200){if(!l)return"";const t=document.createElement("div");t.innerHTML=l;let a=t.textContent||t.innerText||"";return a=a.replace(/\s+/g," ").trim(),a.length>e&&(a=a.substring(0,e).trim()+"..."),a}function lr(l){if(typeof l=="number")return l;if(!l)return 0;if(typeof l=="object"){const a=parseFloat(l.quantity||l.amount||0),s=(l.unit||l.currency||"gp").toLowerCase();return el(a,s)}const t=String(l).trim().match(/^(\d+(?:\.\d+)?)\s*([a-z]+)?$/i);if(t){const a=parseFloat(t[1]),s=(t[2]||"gp").toLowerCase();return el(a,s)}return 0}function el(l,e){return l*({cp:.01,sp:.1,ep:.5,gp:1,pp:10}[e]||1)}function ar(l,e){const t={};if(!l)return t;const a=Array.isArray(l)?l.map(i=>typeof i=="string"?i:i.name):[],s=new Set(a.map(i=>i.toLowerCase()));t.light=s.has("light"),t.finesse=s.has("finesse"),t.thrown=s.has("thrown"),t.twoHanded=s.has("two-handed"),t.reach=s.has("reach"),t.loading=s.has("loading"),t.heavy=s.has("heavy"),t.ammunition=s.has("ammunition");const n=a.find(i=>i.toLowerCase().startsWith("versatile"));if(n){const i=n.match(/\(([0-9]+d[0-9]+)\)/);i&&(t.versatile=i[1])}return t}function tl(l){const e=l.match(/\+(\d+)/);return e?parseInt(e[1],10):0}function sr(l){if(typeof l=="number")return l;if(typeof l=="object"&&(l!=null&&l.base))return l.base;if(typeof l=="string"){const e=parseInt(l);if(!isNaN(e))return e}return 10}function rr(l){const e=(l.category||"").toLowerCase();return{"Heavy Armor":"none","Medium Armor":"max2","Light Armor":"full"}[e]||"full"}function ll(l,e,t){const a=l.slice();return a[35]=e[t],a}function al(l,e,t){const a=l.slice();return a[32]=e[t],a}function sl(l){let e,t,a,s,n="‚úï",i,o,u,m,v,d,b,_,E,g="Cancelar",C,w,I;function A(q,F){return q[1]?ir:nr}let x=A(l),P=x(l);function N(q,F){return q[1]?cr:or}let T=N(l),H=T(l);function V(q,F){return q[1]?ur:fr}let L=V(l),S=L(l),O=l[1]&&ml(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("button"),s.textContent=n,i=D(),o=h("h3"),P.c(),u=D(),m=h("p"),H.c(),v=D(),d=h("div"),S.c(),b=D(),_=h("div"),E=h("button"),E.textContent=g,C=D(),O&&O.c(),this.h()},l(q){e=p(q,"DIV",{class:!0});var F=y(e);t=p(F,"DIV",{class:!0});var W=y(t);a=p(W,"DIV",{class:!0});var z=y(a);s=p(z,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-drx0cs"&&(s.textContent=n),i=k(z),o=p(z,"H3",{class:!0});var U=y(o);P.l(U),U.forEach(f),u=k(z),m=p(z,"P",{class:!0});var ae=y(m);H.l(ae),ae.forEach(f),z.forEach(f),v=k(W),d=p(W,"DIV",{class:!0});var R=y(d);S.l(R),R.forEach(f),b=k(W),_=p(W,"DIV",{class:!0});var J=y(_);E=p(J,"BUTTON",{class:!0,"data-svelte-h":!0}),K(E)!=="svelte-kn08kh"&&(E.textContent=g),C=k(J),O&&O.l(J),J.forEach(f),W.forEach(f),F.forEach(f),this.h()},h(){c(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-3xl font-medieval text-neutral text-center mb-2"),c(m,"class","text-center text-neutral/60 text-sm font-body italic"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(d,"class","flex-1 overflow-y-auto p-6"),c(E,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),c(_,"class","flex justify-center gap-4 p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-4xl max-h-[90vh] relative flex flex-col"),c(e,"class","modal modal-open z-50")},m(q,F){j(q,e,F),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),P.m(o,null),r(a,u),r(a,m),H.m(m,null),r(t,v),r(t,d),S.m(d,null),r(t,b),r(t,_),r(_,E),r(_,C),O&&O.m(_,null),w||(I=[le(s,"click",l[12]),le(E,"click",l[12]),le(t,"click",kt(l[16])),le(e,"click",l[12]),le(e,"keydown",l[28])],w=!0)},p(q,F){x!==(x=A(q))&&(P.d(1),P=x(q),P&&(P.c(),P.m(o,null))),T!==(T=N(q))&&(H.d(1),H=T(q),H&&(H.c(),H.m(m,null))),L===(L=V(q))&&S?S.p(q,F):(S.d(1),S=L(q),S&&(S.c(),S.m(d,null))),q[1]?O?O.p(q,F):(O=ml(q),O.c(),O.m(_,null)):O&&(O.d(1),O=null)},d(q){q&&f(e),P.d(),H.d(),S.d(),O&&O.d(),w=!1,at(I)}}}function nr(l){let e;return{c(){e=B("üîç Buscar Item")},l(t){e=M(t,"üîç Buscar Item")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function ir(l){let e;return{c(){e=B("‚ûï Agregar Item")},l(t){e=M(t,"‚ûï Agregar Item")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function or(l){let e;return{c(){e=B("Busca en la base de datos oficial de D&D 5e")},l(t){e=M(t,"Busca en la base de datos oficial de D&D 5e")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function cr(l){let e;return{c(){e=B("Completa los detalles del item")},l(t){e=M(t,"Completa los detalles del item")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function ur(l){let e,t,a,s,n='<span class="label-text font-medieval text-neutral text-lg">Nombre <span class="text-error">*</span></span>',i,o,u,m,v,d='<span class="label-text font-medieval text-neutral text-lg">Tipo</span>',b,_,E,g,C,w,I='<span class="label-text font-medieval text-neutral">Cantidad</span>',A,x,P,N,T,H='<span class="label-text font-medieval text-neutral">Valor (GP)</span>',V,L,S,O,q,F='<span class="label-text font-medieval text-neutral text-lg">Descripci√≥n</span>',W,z,U,ae,R=l[8]&&rl(l),J=Je(l[14]),X=[];for(let Y=0;Y<J.length;Y+=1)X[Y]=nl(ll(l,J,Y));return{c(){e=h("div"),R&&R.c(),t=D(),a=h("div"),s=h("label"),s.innerHTML=n,i=D(),o=h("input"),u=D(),m=h("div"),v=h("label"),v.innerHTML=d,b=D(),_=h("select");for(let Y=0;Y<X.length;Y+=1)X[Y].c();E=D(),g=h("div"),C=h("div"),w=h("label"),w.innerHTML=I,A=D(),x=h("input"),P=D(),N=h("div"),T=h("label"),T.innerHTML=H,V=D(),L=h("input"),S=D(),O=h("div"),q=h("label"),q.innerHTML=F,W=D(),z=h("textarea"),this.h()},l(Y){e=p(Y,"DIV",{class:!0});var Q=y(e);R&&R.l(Q),t=k(Q),a=p(Q,"DIV",{class:!0});var G=y(a);s=p(G,"LABEL",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-euejpb"&&(s.innerHTML=n),i=k(G),o=p(G,"INPUT",{type:!0,placeholder:!0,class:!0}),G.forEach(f),u=k(Q),m=p(Q,"DIV",{class:!0});var te=y(m);v=p(te,"LABEL",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-6k7s5m"&&(v.innerHTML=d),b=k(te),_=p(te,"SELECT",{class:!0});var se=y(_);for(let Z=0;Z<X.length;Z+=1)X[Z].l(se);se.forEach(f),te.forEach(f),E=k(Q),g=p(Q,"DIV",{class:!0});var ce=y(g);C=p(ce,"DIV",{class:!0});var fe=y(C);w=p(fe,"LABEL",{class:!0,"data-svelte-h":!0}),K(w)!=="svelte-o3y95x"&&(w.innerHTML=I),A=k(fe),x=p(fe,"INPUT",{type:!0,min:!0,class:!0}),fe.forEach(f),P=k(ce),N=p(ce,"DIV",{class:!0});var ye=y(N);T=p(ye,"LABEL",{class:!0,"data-svelte-h":!0}),K(T)!=="svelte-o9rbfr"&&(T.innerHTML=H),V=k(ye),L=p(ye,"INPUT",{type:!0,min:!0,step:!0,class:!0}),ye.forEach(f),ce.forEach(f),S=k(Q),O=p(Q,"DIV",{class:!0});var we=y(O);q=p(we,"LABEL",{class:!0,"data-svelte-h":!0}),K(q)!=="svelte-1igpr5h"&&(q.innerHTML=F),W=k(we),z=p(we,"TEXTAREA",{placeholder:!0,class:!0}),y(z).forEach(f),we.forEach(f),Q.forEach(f),this.h()},h(){c(s,"class","label"),c(o,"type","text"),c(o,"placeholder","Ej: Espada Larga +1"),c(o,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(a,"class","form-control"),c(v,"class","label"),c(_,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50"),l[2].type===void 0&&xs(()=>l[21].call(_)),c(m,"class","form-control"),c(w,"class","label"),c(x,"type","number"),c(x,"min","1"),c(x,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(C,"class","form-control"),c(T,"class","label"),c(L,"type","number"),c(L,"min","0"),c(L,"step","0.01"),c(L,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(N,"class","form-control"),c(g,"class","grid grid-cols-3 gap-4"),c(q,"class","label"),c(z,"placeholder","Descripci√≥n del item..."),c(z,"class","textarea textarea-bordered bg-[#2d241c] text-base-content border-primary/50 h-24"),c(O,"class","form-control"),c(e,"class","space-y-4")},m(Y,Q){j(Y,e,Q),R&&R.m(e,null),r(e,t),r(e,a),r(a,s),r(a,i),r(a,o),xe(o,l[2].name),r(e,u),r(e,m),r(m,v),r(m,b),r(m,_);for(let G=0;G<X.length;G+=1)X[G]&&X[G].m(_,null);jt(_,l[2].type,!0),r(e,E),r(e,g),r(g,C),r(C,w),r(C,A),r(C,x),xe(x,l[2].quantity),r(g,P),r(g,N),r(N,T),r(N,V),r(N,L),xe(L,l[2].value),r(e,S),r(e,O),r(O,q),r(O,W),r(O,z),xe(z,l[2].description),U||(ae=[le(o,"input",l[19]),le(o,"input",l[20]),le(_,"change",l[21]),le(x,"input",l[22]),le(x,"input",l[23]),le(L,"input",l[24]),le(L,"input",l[25]),le(z,"input",l[26]),le(z,"input",l[27])],U=!0)},p(Y,Q){if(Y[8]?R?R.p(Y,Q):(R=rl(Y),R.c(),R.m(e,t)):R&&(R.d(1),R=null),Q[0]&16388&&o.value!==Y[2].name&&xe(o,Y[2].name),Q[0]&16384){J=Je(Y[14]);let G;for(G=0;G<J.length;G+=1){const te=ll(Y,J,G);X[G]?X[G].p(te,Q):(X[G]=nl(te),X[G].c(),X[G].m(_,null))}for(;G<X.length;G+=1)X[G].d(1);X.length=J.length}Q[0]&16388&&jt(_,Y[2].type),Q[0]&16388&&Ue(x.value)!==Y[2].quantity&&xe(x,Y[2].quantity),Q[0]&16388&&Ue(L.value)!==Y[2].value&&xe(L,Y[2].value),Q[0]&16388&&xe(z,Y[2].description)},d(Y){Y&&f(e),R&&R.d(),lt(X,Y),U=!1,at(ae)}}}function fr(l){let e,t,a,s,n,i,o,u,m='<span class="label-text-alt text-neutral/60 italic">üí° Busca armas, armaduras y equipo de aventurero</span>',v,d,b,_,E,g,C="O",w,I,A="‚úèÔ∏è Agregar Item Manualmente",x,P;function N(q,F){return q[6]?pr:dr}let T=N(l),H=T(l),V=l[6]&&!l[5].length&&il(),L=l[7]&&!l[6]&&ol(),S=l[5].length>0&&cl(l),O=!l[4]&&!l[6]&&l[5].length===0&&hl();return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("input"),n=D(),i=h("div"),H.c(),o=D(),u=h("label"),u.innerHTML=m,v=D(),V&&V.c(),d=D(),L&&L.c(),b=D(),S&&S.c(),_=D(),O&&O.c(),E=D(),g=h("div"),g.textContent=C,w=D(),I=h("button"),I.textContent=A,this.h()},l(q){e=p(q,"DIV",{class:!0});var F=y(e);t=p(F,"DIV",{class:!0});var W=y(t);a=p(W,"DIV",{class:!0});var z=y(a);s=p(z,"INPUT",{type:!0,placeholder:!0,class:!0}),n=k(z),i=p(z,"DIV",{class:!0});var U=y(i);H.l(U),U.forEach(f),z.forEach(f),o=k(W),u=p(W,"LABEL",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-cpq4bn"&&(u.innerHTML=m),W.forEach(f),v=k(F),V&&V.l(F),d=k(F),L&&L.l(F),b=k(F),S&&S.l(F),_=k(F),O&&O.l(F),E=k(F),g=p(F,"DIV",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-18dior4"&&(g.textContent=C),w=k(F),I=p(F,"BUTTON",{class:!0,"data-svelte-h":!0}),K(I)!=="svelte-1u4112e"&&(I.textContent=A),F.forEach(f),this.h()},h(){c(s,"type","text"),c(s,"placeholder","Buscar: plate armor, longsword, rope, health potion..."),c(s,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full pr-10"),s.autofocus=!0,c(i,"class","absolute right-3 top-1/2 -translate-y-1/2 text-neutral/50"),c(a,"class","relative"),c(u,"class","label"),c(t,"class","form-control"),c(g,"class","divider text-neutral/50"),c(I,"class","btn btn-outline border-2 border-primary text-primary hover:bg-primary hover:text-white w-full"),c(e,"class","space-y-4")},m(q,F){j(q,e,F),r(e,t),r(t,a),r(a,s),xe(s,l[4]),r(a,n),r(a,i),H.m(i,null),r(t,o),r(t,u),r(e,v),V&&V.m(e,null),r(e,d),L&&L.m(e,null),r(e,b),S&&S.m(e,null),r(e,_),O&&O.m(e,null),r(e,E),r(e,g),r(e,w),r(e,I),s.focus(),x||(P=[le(s,"input",l[17]),le(s,"input",l[9]),le(I,"click",l[13])],x=!0)},p(q,F){F[0]&16&&s.value!==q[4]&&xe(s,q[4]),T!==(T=N(q))&&(H.d(1),H=T(q),H&&(H.c(),H.m(i,null))),q[6]&&!q[5].length?V||(V=il(),V.c(),V.m(e,d)):V&&(V.d(1),V=null),q[7]&&!q[6]?L||(L=ol(),L.c(),L.m(e,b)):L&&(L.d(1),L=null),q[5].length>0?S?S.p(q,F):(S=cl(q),S.c(),S.m(e,_)):S&&(S.d(1),S=null),!q[4]&&!q[6]&&q[5].length===0?O||(O=hl(),O.c(),O.m(e,E)):O&&(O.d(1),O=null)},d(q){q&&f(e),H.d(),V&&V.d(),L&&L.d(),S&&S.d(),O&&O.d(),x=!1,at(P)}}}function rl(l){let e,t,a;return{c(){e=h("div"),t=h("span"),a=B(l[8]),this.h()},l(s){e=p(s,"DIV",{class:!0});var n=y(e);t=p(n,"SPAN",{});var i=y(t);a=M(i,l[8]),i.forEach(f),n.forEach(f),this.h()},h(){c(e,"class","alert alert-error")},m(s,n){j(s,e,n),r(e,t),r(t,a)},p(s,n){n[0]&256&&ee(a,s[8])},d(s){s&&f(e)}}}function nl(l){let e,t=l[35].label+"",a;return{c(){e=h("option"),a=B(t),this.h()},l(s){e=p(s,"OPTION",{});var n=y(e);a=M(n,t),n.forEach(f),this.h()},h(){e.__value=l[35].value,xe(e,e.__value)},m(s,n){j(s,e,n),r(e,a)},p:Ke,d(s){s&&f(e)}}}function dr(l){let e;return{c(){e=B("üîç")},l(t){e=M(t,"üîç")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function pr(l){let e;return{c(){e=h("span"),this.h()},l(t){e=p(t,"SPAN",{class:!0}),y(e).forEach(f),this.h()},h(){c(e,"class","loading loading-spinner loading-sm")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function il(l){let e,t='<span class="loading loading-spinner loading-md text-secondary"></span> <span class="ml-3 text-neutral/70">Buscando items...</span>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1dq7orb"&&(e.innerHTML=t),this.h()},h(){c(e,"class","flex justify-center items-center py-8")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function ol(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-warning" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> <div><p class="font-bold">No se encontraron resultados</p> <p class="text-xs">Intenta con otro nombre o agrega el item manualmente</p></div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1yuuv3j"&&(e.innerHTML=t),this.h()},h(){c(e,"class","alert bg-warning/20 border-warning/40")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function cl(l){let e,t,a,s=l[5].length+"",n,i,o=l[5].length!==1?"s":"",u,m,v=l[5].length!==1?"s":"",d,b,_,E=Je(l[5]),g=[];for(let C=0;C<E.length;C+=1)g[C]=pl(al(l,E,C));return{c(){e=h("div"),t=h("p"),a=B("üìñ "),n=B(s),i=B(" item"),u=B(o),m=B(" encontrado"),d=B(v),b=D(),_=h("div");for(let C=0;C<g.length;C+=1)g[C].c();this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"P",{class:!0});var I=y(t);a=M(I,"üìñ "),n=M(I,s),i=M(I," item"),u=M(I,o),m=M(I," encontrado"),d=M(I,v),I.forEach(f),b=k(w),_=p(w,"DIV",{class:!0});var A=y(_);for(let x=0;x<g.length;x+=1)g[x].l(A);A.forEach(f),w.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/70"),c(_,"class","grid grid-cols-1 gap-2 max-h-96 overflow-y-auto"),c(e,"class","space-y-2")},m(C,w){j(C,e,w),r(e,t),r(t,a),r(t,n),r(t,i),r(t,u),r(t,m),r(t,d),r(e,b),r(e,_);for(let I=0;I<g.length;I+=1)g[I]&&g[I].m(_,null)},p(C,w){if(w[0]&32&&s!==(s=C[5].length+"")&&ee(n,s),w[0]&32&&o!==(o=C[5].length!==1?"s":"")&&ee(u,o),w[0]&32&&v!==(v=C[5].length!==1?"s":"")&&ee(d,v),w[0]&1120){E=Je(C[5]);let I;for(I=0;I<E.length;I+=1){const A=al(C,E,I);g[I]?g[I].p(A,w):(g[I]=pl(A),g[I].c(),g[I].m(_,null))}for(;I<g.length;I+=1)g[I].d(1);g.length=E.length}},d(C){C&&f(e),lt(g,C)}}}function ul(l){let e,t=l[32].rarity+"",a,s;return{c(){e=h("span"),a=B(t),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=M(i,t),i.forEach(f),this.h()},h(){c(e,"class",s="badge badge-sm "+vl(l[32].rarity)+" ml-2 flex-shrink-0 svelte-efadq")},m(n,i){j(n,e,i),r(e,a)},p(n,i){i[0]&32&&t!==(t=n[32].rarity+"")&&ee(a,t),i[0]&32&&s!==(s="badge badge-sm "+vl(n[32].rarity)+" ml-2 flex-shrink-0 svelte-efadq")&&c(e,"class",s)},d(n){n&&f(e)}}}function fl(l){let e,t=Rt(l[32])+"",a;return{c(){e=h("span"),a=B(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var n=y(e);a=M(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-xs badge-info")},m(s,n){j(s,e,n),r(e,a)},p(s,n){n[0]&32&&t!==(t=Rt(s[32])+"")&&ee(a,t)},d(s){s&&f(e)}}}function dl(l){let e,t=l[32].category+"",a;return{c(){e=h("span"),a=B(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var n=y(e);a=M(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-xs badge-secondary")},m(s,n){j(s,e,n),r(e,a)},p(s,n){n[0]&32&&t!==(t=s[32].category+"")&&ee(a,t)},d(s){s&&f(e)}}}function pl(l){let e,t,a,s,n=l[32].name+"",i,o,u,m,v=Rt(l[32]),d,b,_,E=mt.cleanDescription(l[32].desc||"",120)+"",g,C,w,I,A=l[32].rarity&&ul(l),x=v&&fl(l),P=l[32].category&&dl(l);function N(){return l[18](l[32])}return{c(){e=h("button"),t=h("div"),a=h("div"),s=h("span"),i=B(n),o=D(),A&&A.c(),u=D(),m=h("div"),x&&x.c(),d=D(),P&&P.c(),b=D(),_=h("p"),g=B(E),C=D(),this.h()},l(T){e=p(T,"BUTTON",{class:!0});var H=y(e);t=p(H,"DIV",{class:!0});var V=y(t);a=p(V,"DIV",{class:!0});var L=y(a);s=p(L,"SPAN",{class:!0});var S=y(s);i=M(S,n),S.forEach(f),L.forEach(f),o=k(V),A&&A.l(V),V.forEach(f),u=k(H),m=p(H,"DIV",{class:!0});var O=y(m);x&&x.l(O),d=k(O),P&&P.l(O),O.forEach(f),b=k(H),_=p(H,"P",{class:!0});var q=y(_);g=M(q,E),q.forEach(f),C=k(H),H.forEach(f),this.h()},h(){c(s,"class","font-bold text-neutral text-lg block"),c(a,"class","flex-1"),c(t,"class","flex justify-between items-start w-full mb-2"),c(m,"class","flex flex-wrap gap-2 mb-2 w-full"),c(_,"class","text-xs text-neutral/70 line-clamp-2 w-full svelte-efadq"),c(e,"class","btn btn-ghost text-left border border-primary/30 hover:bg-primary/20 flex flex-col items-start w-full p-4 h-auto min-h-[6rem]"),e.disabled=l[6]},m(T,H){j(T,e,H),r(e,t),r(t,a),r(a,s),r(s,i),r(t,o),A&&A.m(t,null),r(e,u),r(e,m),x&&x.m(m,null),r(m,d),P&&P.m(m,null),r(e,b),r(e,_),r(_,g),r(e,C),w||(I=le(e,"click",N),w=!0)},p(T,H){l=T,H[0]&32&&n!==(n=l[32].name+"")&&ee(i,n),l[32].rarity?A?A.p(l,H):(A=ul(l),A.c(),A.m(t,null)):A&&(A.d(1),A=null),H[0]&32&&(v=Rt(l[32])),v?x?x.p(l,H):(x=fl(l),x.c(),x.m(m,d)):x&&(x.d(1),x=null),l[32].category?P?P.p(l,H):(P=dl(l),P.c(),P.m(m,null)):P&&(P.d(1),P=null),H[0]&32&&E!==(E=mt.cleanDescription(l[32].desc||"",120)+"")&&ee(g,E),H[0]&64&&(e.disabled=l[6])},d(T){T&&f(e),A&&A.d(),x&&x.d(),P&&P.d(),w=!1,I()}}}function hl(l){let e,t='<div class="text-6xl mb-4">üì¶</div> <p class="text-neutral/70 font-body mb-4">Escribe para buscar items en la base de datos oficial</p> <div class="flex flex-wrap gap-2 justify-center text-xs text-neutral/50"><span class="bg-neutral/10 px-3 py-1 rounded">plate armor</span> <span class="bg-neutral/10 px-3 py-1 rounded">longsword</span> <span class="bg-neutral/10 px-3 py-1 rounded">health potion</span> <span class="bg-neutral/10 px-3 py-1 rounded">rope</span></div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1hxe8a3"&&(e.innerHTML=t),this.h()},h(){c(e,"class","text-center py-12")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function ml(l){let e,t,a="‚ûï",s,n,i,o;return{c(){e=h("button"),t=h("span"),t.textContent=a,s=B(`\r
            Agregar al Inventario`),this.h()},l(u){e=p(u,"BUTTON",{class:!0});var m=y(e);t=p(m,"SPAN",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1vjg05e"&&(t.textContent=a),s=M(m,`\r
            Agregar al Inventario`),m.forEach(f),this.h()},h(){c(t,"class","text-xl"),c(e,"class","btn btn-dnd"),e.disabled=n=!l[2].name.trim()||!!l[8]},m(u,m){j(u,e,m),r(e,t),r(e,s),i||(o=le(e,"click",l[11]),i=!0)},p(u,m){m[0]&16644&&n!==(n=!u[2].name.trim()||!!u[8])&&(e.disabled=n)},d(u){u&&f(e),i=!1,o()}}}function hr(l){let e,t=l[0]&&sl(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,s){t&&t.m(a,s),j(a,e,s)},p(a,s){a[0]?t?t.p(a,s):(t=sl(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ke,o:Ke,d(a){a&&f(e),t&&t.d(a)}}}const mr=800;function vl(l){return{common:"badge-ghost",uncommon:"badge-success",rare:"badge-primary","very rare":"badge-secondary",legendary:"badge-warning",artifact:"badge-error"}[l==null?void 0:l.toLowerCase()]||"badge-ghost"}function Rt(l){return l.cost?`üí∞ ${l.cost}`:""}function vr(l,e,t){let{isOpen:a=!1}=e,{characterId:s=""}=e;const n=Bt();let i="",o=[],u=null,m=!1,v=!1,d=null,b=!1,_={name:"",type:"other",description:"",quantity:1,value:0},E="",g=!1;const C=Bs(async()=>{const R=i.trim();if(!R){t(5,o=[]),t(7,v=!1);return}d&&d.abort(),d=new AbortController,t(6,m=!0),t(7,v=!1);try{const J=await mt.searchItems(R);t(5,o=(J.results||[]).slice(0,20)),t(7,v=o.length===0)}catch(J){if(J.name==="AbortError")return;console.error("Error buscando items:",J),t(5,o=[]),t(7,v=!0)}finally{t(6,m=!1),d=null}},mr);async function w(R){t(6,m=!0),t(7,v=!1);try{const J=R.source||"magicitems";let X=R;if(R.source)try{X=await mt.getItem(R.slug,J)}catch(Q){console.warn("Could not fetch full item, using summary:",Q),X=R}u=X;const Y=mt.convertToInventoryItem(X);t(2,_={name:Y.name||X.name||"",type:Y.type||"other",description:mt.cleanDescription(Y.description||X.desc||"",500),quantity:1,value:typeof Y.value=="number"?Y.value:parseFloat(String(Y.value||0))||0}),t(5,o=[]),t(4,i=""),t(1,b=!0)}catch(J){console.error("Error selecting item:",J),t(8,E="Error al cargar el item. Por favor intenta de nuevo.")}finally{t(6,m=!1)}}function I(){if(t(3,g=!0),!_.name.trim()){t(8,E="El nombre no puede estar vac√≠o");return}const R={name:_.name,type:_.type,description:_.description,quantity:_.quantity,value:_.value},J=Zt(R);if(!J.valid){t(8,E=J.error||"");return}const X={...R,weaponData:u&&_.type==="weapon"?mt.convertToInventoryItem(u).weaponData:void 0,armorData:u&&(_.type==="armor"||_.type==="shield")?mt.convertToInventoryItem(u).armorData:void 0,open5eSlug:u==null?void 0:u.slug};n("add",X),A()}function A(){d&&(d.abort(),d=null),t(4,i=""),t(5,o=[]),u=null,t(1,b=!1),t(2,_={name:"",type:"other",description:"",quantity:1,value:0}),t(7,v=!1),t(6,m=!1),t(8,E=""),t(3,g=!1),n("close")}function x(){t(1,b=!0),t(5,o=[]),t(4,i="")}const P=[{value:"weapon",label:"‚öîÔ∏è Arma",icon:"‚öîÔ∏è"},{value:"armor",label:"üõ°Ô∏è Armadura",icon:"üõ°Ô∏è"},{value:"shield",label:"üõ°Ô∏è Escudo",icon:"üõ°Ô∏è"},{value:"tool",label:"üîß Herramienta",icon:"üîß"},{value:"consumable",label:"üß™ Consumible",icon:"üß™"},{value:"treasure",label:"üíé Tesoro",icon:"üíé"},{value:"other",label:"üì¶ Otro",icon:"üì¶"}];function N(R){St.call(this,l,R)}function T(){i=this.value,t(4,i)}const H=R=>w(R);function V(){_.name=this.value,t(2,_),t(14,P)}const L=()=>t(3,g=!0);function S(){_.type=Is(this),t(2,_),t(14,P)}function O(){_.quantity=Ue(this.value),t(2,_),t(14,P)}const q=()=>t(3,g=!0);function F(){_.value=Ue(this.value),t(2,_),t(14,P)}const W=()=>t(3,g=!0);function z(){_.description=this.value,t(2,_),t(14,P)}const U=()=>t(3,g=!0),ae=R=>R.key==="Escape"&&A();return l.$$set=R=>{"isOpen"in R&&t(0,a=R.isOpen),"characterId"in R&&t(15,s=R.characterId)},l.$$.update=()=>{if(l.$$.dirty[0]&14&&g&&b){const R={name:_.name,type:_.type,description:_.description,quantity:_.quantity,value:_.value},J=Zt(R);t(8,E=J.valid?"":J.error||"")}},[a,b,_,g,i,o,m,v,E,C,w,I,A,x,P,s,N,T,H,V,L,S,O,q,F,W,z,U,ae]}class br extends Dt{constructor(e){super(),wt(this,e,vr,hr,It,{isOpen:0,characterId:15},null,[-1,-1])}}function bl(l){let e,t,a,s,n="‚úï",i,o,u,m=Ql(l[1].type)+"",v,d,b,_,E=l[1].name+"",g,C,w,I,A=Jl(l[1].type)+"",x,P,N,T,H,V,L,S,O,q,F,W,z="CANTIDAD",U,ae,R=l[1].quantity+"",J,X,Y,Q,G="VALOR TOTAL",te,se,ce=Gt(l[1].value*l[1].quantity)+"",fe,ye,we,Z,de,be="Cerrar",Ce,Fe,Ve=l[1].quantity>1&&_l(l),ke=l[1].value>0&&gl(l),oe=l[1].rarity&&El(l),ue=l[1].description&&yl(l),me=l[1].weaponData&&Cl(l),Te=l[1].armorData&&Hl(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("button"),s.textContent=n,i=D(),o=h("div"),u=h("div"),v=B(m),d=D(),b=h("div"),_=h("h3"),g=B(E),C=D(),w=h("div"),I=h("span"),x=B(A),P=D(),Ve&&Ve.c(),N=D(),ke&&ke.c(),T=D(),oe&&oe.c(),H=D(),V=h("div"),ue&&ue.c(),L=D(),me&&me.c(),S=D(),Te&&Te.c(),O=D(),q=h("div"),F=h("div"),W=h("p"),W.textContent=z,U=D(),ae=h("p"),J=B(R),X=D(),Y=h("div"),Q=h("p"),Q.textContent=G,te=D(),se=h("p"),fe=B(ce),ye=B(" gp"),we=D(),Z=h("div"),de=h("button"),de.textContent=be,this.h()},l(he){e=p(he,"DIV",{class:!0});var _e=y(e);t=p(_e,"DIV",{class:!0});var Be=y(t);a=p(Be,"DIV",{class:!0});var He=y(a);s=p(He,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-drx0cs"&&(s.textContent=n),i=k(He),o=p(He,"DIV",{class:!0});var Pe=y(o);u=p(Pe,"DIV",{class:!0});var ne=y(u);v=M(ne,m),ne.forEach(f),d=k(Pe),b=p(Pe,"DIV",{class:!0});var Ie=y(b);_=p(Ie,"H3",{class:!0});var ze=y(_);g=M(ze,E),ze.forEach(f),C=k(Ie),w=p(Ie,"DIV",{class:!0});var Ge=y(w);I=p(Ge,"SPAN",{class:!0});var je=y(I);x=M(je,A),je.forEach(f),P=k(Ge),Ve&&Ve.l(Ge),N=k(Ge),ke&&ke.l(Ge),T=k(Ge),oe&&oe.l(Ge),Ge.forEach(f),Ie.forEach(f),Pe.forEach(f),He.forEach(f),H=k(Be),V=p(Be,"DIV",{class:!0});var Ne=y(V);ue&&ue.l(Ne),L=k(Ne),me&&me.l(Ne),S=k(Ne),Te&&Te.l(Ne),O=k(Ne),q=p(Ne,"DIV",{class:!0});var Oe=y(q);F=p(Oe,"DIV",{class:!0});var Se=y(F);W=p(Se,"P",{class:!0,"data-svelte-h":!0}),K(W)!=="svelte-1x7xzoi"&&(W.textContent=z),U=k(Se),ae=p(Se,"P",{class:!0});var Re=y(ae);J=M(Re,R),Re.forEach(f),Se.forEach(f),X=k(Oe),Y=p(Oe,"DIV",{class:!0});var ge=y(Y);Q=p(ge,"P",{class:!0,"data-svelte-h":!0}),K(Q)!=="svelte-1glp02g"&&(Q.textContent=G),te=k(ge),se=p(ge,"P",{class:!0});var Me=y(se);fe=M(Me,ce),ye=M(Me," gp"),Me.forEach(f),ge.forEach(f),Oe.forEach(f),Ne.forEach(f),we=k(Be),Z=p(Be,"DIV",{class:!0});var re=y(Z);de=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),K(de)!=="svelte-13wbmk8"&&(de.textContent=be),re.forEach(f),Be.forEach(f),_e.forEach(f),this.h()},h(){c(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(u,"class","text-5xl"),c(_,"class","font-bold text-3xl font-medieval text-neutral mb-2"),c(I,"class","badge badge-primary"),c(w,"class","flex flex-wrap gap-2"),c(b,"class","flex-1"),c(o,"class","flex items-start gap-4"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(W,"class","text-xs font-medieval text-neutral/60 mb-1"),c(ae,"class","text-2xl font-bold text-neutral"),c(F,"class","bg-neutral/10 p-3 rounded-lg border border-primary/20"),c(Q,"class","text-xs font-medieval text-neutral/60 mb-1"),c(se,"class","text-2xl font-bold text-neutral"),c(Y,"class","bg-warning/10 p-3 rounded-lg border border-warning/30"),c(q,"class","grid grid-cols-2 gap-3"),c(V,"class","flex-1 overflow-y-auto p-6"),c(de,"class","btn btn-dnd w-full"),c(Z,"class","p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-2xl relative max-h-[90vh] flex flex-col"),c(e,"class","modal modal-open z-50")},m(he,_e){j(he,e,_e),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),r(o,u),r(u,v),r(o,d),r(o,b),r(b,_),r(_,g),r(b,C),r(b,w),r(w,I),r(I,x),r(w,P),Ve&&Ve.m(w,null),r(w,N),ke&&ke.m(w,null),r(w,T),oe&&oe.m(w,null),r(t,H),r(t,V),ue&&ue.m(V,null),r(V,L),me&&me.m(V,null),r(V,S),Te&&Te.m(V,null),r(V,O),r(V,q),r(q,F),r(F,W),r(F,U),r(F,ae),r(ae,J),r(q,X),r(q,Y),r(Y,Q),r(Y,te),r(Y,se),r(se,fe),r(se,ye),r(t,we),r(t,Z),r(Z,de),Ce||(Fe=[le(s,"click",l[2]),le(de,"click",l[2]),le(t,"click",kt(l[4])),le(e,"click",l[2])],Ce=!0)},p(he,_e){_e&2&&m!==(m=Ql(he[1].type)+"")&&ee(v,m),_e&2&&E!==(E=he[1].name+"")&&ee(g,E),_e&2&&A!==(A=Jl(he[1].type)+"")&&ee(x,A),he[1].quantity>1?Ve?Ve.p(he,_e):(Ve=_l(he),Ve.c(),Ve.m(w,N)):Ve&&(Ve.d(1),Ve=null),he[1].value>0?ke?ke.p(he,_e):(ke=gl(he),ke.c(),ke.m(w,T)):ke&&(ke.d(1),ke=null),he[1].rarity?oe?oe.p(he,_e):(oe=El(he),oe.c(),oe.m(w,null)):oe&&(oe.d(1),oe=null),he[1].description?ue?ue.p(he,_e):(ue=yl(he),ue.c(),ue.m(V,L)):ue&&(ue.d(1),ue=null),he[1].weaponData?me?me.p(he,_e):(me=Cl(he),me.c(),me.m(V,S)):me&&(me.d(1),me=null),he[1].armorData?Te?Te.p(he,_e):(Te=Hl(he),Te.c(),Te.m(V,O)):Te&&(Te.d(1),Te=null),_e&2&&R!==(R=he[1].quantity+"")&&ee(J,R),_e&2&&ce!==(ce=Gt(he[1].value*he[1].quantity)+"")&&ee(fe,ce)},d(he){he&&f(e),Ve&&Ve.d(),ke&&ke.d(),oe&&oe.d(),ue&&ue.d(),me&&me.d(),Te&&Te.d(),Ce=!1,at(Fe)}}}function _l(l){let e,t,a=l[1].quantity+"",s;return{c(){e=h("span"),t=B("√ó"),s=B(a),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);t=M(i,"√ó"),s=M(i,a),i.forEach(f),this.h()},h(){c(e,"class","badge badge-neutral")},m(n,i){j(n,e,i),r(e,t),r(e,s)},p(n,i){i&2&&a!==(a=n[1].quantity+"")&&ee(s,a)},d(n){n&&f(e)}}}function gl(l){let e,t,a=Gt(l[1].value)+"",s,n;return{c(){e=h("span"),t=B("üí∞ "),s=B(a),n=B(" gp c/u"),this.h()},l(i){e=p(i,"SPAN",{class:!0});var o=y(e);t=M(o,"üí∞ "),s=M(o,a),n=M(o," gp c/u"),o.forEach(f),this.h()},h(){c(e,"class","badge badge-warning")},m(i,o){j(i,e,o),r(e,t),r(e,s),r(e,n)},p(i,o){o&2&&a!==(a=Gt(i[1].value)+"")&&ee(s,a)},d(i){i&&f(e)}}}function El(l){let e,t=l[1].rarity+"",a;return{c(){e=h("span"),a=B(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var n=y(e);a=M(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-secondary")},m(s,n){j(s,e,n),r(e,a)},p(s,n){n&2&&t!==(t=s[1].rarity+"")&&ee(a,t)},d(s){s&&f(e)}}}function yl(l){let e,t,a="üìñ Descripci√≥n",s,n,i,o=l[1].description+"",u;return{c(){e=h("div"),t=h("h4"),t.textContent=a,s=D(),n=h("div"),i=h("p"),u=B(o),this.h()},l(m){e=p(m,"DIV",{class:!0});var v=y(e);t=p(v,"H4",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-pm9cqs"&&(t.textContent=a),s=k(v),n=p(v,"DIV",{class:!0});var d=y(n);i=p(d,"P",{class:!0});var b=y(i);u=M(b,o),b.forEach(f),d.forEach(f),v.forEach(f),this.h()},h(){c(t,"class","font-medieval text-lg text-neutral mb-2"),c(i,"class","text-neutral/80 font-body whitespace-pre-wrap"),c(n,"class","bg-neutral/10 p-4 rounded-lg border border-primary/20"),c(e,"class","mb-6")},m(m,v){j(m,e,v),r(e,t),r(e,s),r(e,n),r(n,i),r(i,u)},p(m,v){v&2&&o!==(o=m[1].description+"")&&ee(u,o)},d(m){m&&f(e)}}}function Cl(l){var ae,R;let e,t,a="‚öîÔ∏è Datos de Arma",s,n,i,o,u="TIPO",m,v,d=l[1].weaponData.weaponType+"",b,_,E,g,C="DA√ëO",w,I,A=l[1].weaponData.damageDice+"",x,P,N,T=l[1].weaponData.damageType+"",H,V,L,S,O,q=l[1].weaponData.properties&&Object.keys(l[1].weaponData.properties).length>0,F=l[1].weaponData.magicBonus&&kl(l),W=((ae=l[1].weaponData.properties)==null?void 0:ae.range)&&Dl(l),z=((R=l[1].weaponData.properties)==null?void 0:R.versatile)&&Il(l),U=q&&xl(l);return{c(){e=h("div"),t=h("h4"),t.textContent=a,s=D(),n=h("div"),i=h("div"),o=h("p"),o.textContent=u,m=D(),v=h("p"),b=B(d),_=D(),E=h("div"),g=h("p"),g.textContent=C,w=D(),I=h("p"),x=B(A),P=D(),N=h("p"),H=B(T),V=D(),F&&F.c(),L=D(),W&&W.c(),S=D(),z&&z.c(),O=D(),U&&U.c(),this.h()},l(J){e=p(J,"DIV",{class:!0});var X=y(e);t=p(X,"H4",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-ng0kxz"&&(t.textContent=a),s=k(X),n=p(X,"DIV",{class:!0});var Y=y(n);i=p(Y,"DIV",{class:!0});var Q=y(i);o=p(Q,"P",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-bx8juq"&&(o.textContent=u),m=k(Q),v=p(Q,"P",{class:!0});var G=y(v);b=M(G,d),G.forEach(f),Q.forEach(f),_=k(Y),E=p(Y,"DIV",{class:!0});var te=y(E);g=p(te,"P",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-l3cq1j"&&(g.textContent=C),w=k(te),I=p(te,"P",{class:!0});var se=y(I);x=M(se,A),se.forEach(f),P=k(te),N=p(te,"P",{class:!0});var ce=y(N);H=M(ce,T),ce.forEach(f),te.forEach(f),V=k(Y),F&&F.l(Y),L=k(Y),W&&W.l(Y),S=k(Y),z&&z.l(Y),Y.forEach(f),O=k(X),U&&U.l(X),X.forEach(f),this.h()},h(){c(t,"class","font-medieval text-lg text-neutral mb-3"),c(o,"class","text-xs font-medieval text-neutral/60 mb-1"),c(v,"class","text-lg font-bold text-neutral capitalize"),c(i,"class","bg-primary/10 p-3 rounded-lg border border-primary/30 col-span-2"),c(g,"class","text-xs font-medieval text-neutral/60 mb-1"),c(I,"class","text-xl font-bold text-neutral"),c(N,"class","text-sm text-neutral/70 capitalize"),c(E,"class","bg-error/10 p-3 rounded-lg border border-error/30"),c(n,"class","grid grid-cols-2 gap-3"),c(e,"class","mb-6")},m(J,X){j(J,e,X),r(e,t),r(e,s),r(e,n),r(n,i),r(i,o),r(i,m),r(i,v),r(v,b),r(n,_),r(n,E),r(E,g),r(E,w),r(E,I),r(I,x),r(E,P),r(E,N),r(N,H),r(n,V),F&&F.m(n,null),r(n,L),W&&W.m(n,null),r(n,S),z&&z.m(n,null),r(e,O),U&&U.m(e,null)},p(J,X){var Y,Q;X&2&&d!==(d=J[1].weaponData.weaponType+"")&&ee(b,d),X&2&&A!==(A=J[1].weaponData.damageDice+"")&&ee(x,A),X&2&&T!==(T=J[1].weaponData.damageType+"")&&ee(H,T),J[1].weaponData.magicBonus?F?F.p(J,X):(F=kl(J),F.c(),F.m(n,L)):F&&(F.d(1),F=null),(Y=J[1].weaponData.properties)!=null&&Y.range?W?W.p(J,X):(W=Dl(J),W.c(),W.m(n,S)):W&&(W.d(1),W=null),(Q=J[1].weaponData.properties)!=null&&Q.versatile?z?z.p(J,X):(z=Il(J),z.c(),z.m(n,null)):z&&(z.d(1),z=null),X&2&&(q=J[1].weaponData.properties&&Object.keys(J[1].weaponData.properties).length>0),q?U?U.p(J,X):(U=xl(J),U.c(),U.m(e,null)):U&&(U.d(1),U=null)},d(J){J&&f(e),F&&F.d(),W&&W.d(),z&&z.d(),U&&U.d()}}}function kl(l){let e,t,a="BONUS M√ÅGICO",s,n,i,o=l[1].weaponData.magicBonus+"",u,m,v,d="Al ataque y da√±o";return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("p"),i=B("+"),u=B(o),m=D(),v=h("p"),v.textContent=d,this.h()},l(b){e=p(b,"DIV",{class:!0});var _=y(e);t=p(_,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1ygfgxp"&&(t.textContent=a),s=k(_),n=p(_,"P",{class:!0});var E=y(n);i=M(E,"+"),u=M(E,o),E.forEach(f),m=k(_),v=p(_,"P",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-ot632o"&&(v.textContent=d),_.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-2xl font-bold text-success"),c(v,"class","text-xs text-neutral/60"),c(e,"class","bg-success/10 p-3 rounded-lg border border-success/30")},m(b,_){j(b,e,_),r(e,t),r(e,s),r(e,n),r(n,i),r(n,u),r(e,m),r(e,v)},p(b,_){_&2&&o!==(o=b[1].weaponData.magicBonus+"")&&ee(u,o)},d(b){b&&f(e)}}}function Dl(l){let e,t,a="üéØ ALCANCE",s,n,i,o=l[1].weaponData.properties.range.normal+"",u,m,v=l[1].weaponData.properties.range.max!==l[1].weaponData.properties.range.normal&&wl(l);return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("p"),i=B("Normal: "),u=B(o),m=B(` pies\r
                    `),v&&v.c(),this.h()},l(d){e=p(d,"DIV",{class:!0});var b=y(e);t=p(b,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-tpmsqg"&&(t.textContent=a),s=k(b),n=p(b,"P",{class:!0});var _=y(n);i=M(_,"Normal: "),u=M(_,o),m=M(_,` pies\r
                    `),v&&v.l(_),_.forEach(f),b.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-lg font-bold text-neutral"),c(e,"class","col-span-2 bg-warning/10 p-3 rounded-lg border border-warning/30")},m(d,b){j(d,e,b),r(e,t),r(e,s),r(e,n),r(n,i),r(n,u),r(n,m),v&&v.m(n,null)},p(d,b){b&2&&o!==(o=d[1].weaponData.properties.range.normal+"")&&ee(u,o),d[1].weaponData.properties.range.max!==d[1].weaponData.properties.range.normal?v?v.p(d,b):(v=wl(d),v.c(),v.m(n,null)):v&&(v.d(1),v=null)},d(d){d&&f(e),v&&v.d()}}}function wl(l){let e,t=l[1].weaponData.properties.range.max+"",a,s;return{c(){e=B("‚Ä¢ M√°ximo: "),a=B(t),s=B(" pies")},l(n){e=M(n,"‚Ä¢ M√°ximo: "),a=M(n,t),s=M(n," pies")},m(n,i){j(n,e,i),j(n,a,i),j(n,s,i)},p(n,i){i&2&&t!==(t=n[1].weaponData.properties.range.max+"")&&ee(a,t)},d(n){n&&(f(e),f(a),f(s))}}}function Il(l){let e,t,a="ü§≤ VERS√ÅTIL",s,n,i=l[1].weaponData.properties.versatile+"",o,u;return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("p"),o=B(i),u=B(" a dos manos"),this.h()},l(m){e=p(m,"DIV",{class:!0});var v=y(e);t=p(v,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-kn83p2"&&(t.textContent=a),s=k(v),n=p(v,"P",{class:!0});var d=y(n);o=M(d,i),u=M(d," a dos manos"),d.forEach(f),v.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-lg font-bold text-neutral"),c(e,"class","col-span-2 bg-success/10 p-3 rounded-lg border border-success/30")},m(m,v){j(m,e,v),r(e,t),r(e,s),r(e,n),r(n,o),r(n,u)},p(m,v){v&2&&i!==(i=m[1].weaponData.properties.versatile+"")&&ee(o,i)},d(m){m&&f(e)}}}function xl(l){let e,t,a="PROPIEDADES",s,n,i,o,u,m,v,d,b,_,E=l[1].weaponData.properties.light&&Tl(),g=l[1].weaponData.properties.finesse&&Vl(),C=l[1].weaponData.properties.thrown&&Al(),w=l[1].weaponData.properties.twoHanded&&Ll(),I=l[1].weaponData.properties.reach&&Pl(),A=l[1].weaponData.properties.loading&&Sl(),x=l[1].weaponData.properties.heavy&&Nl(),P=l[1].weaponData.properties.ammunition&&Ml(),N=l[1].weaponData.properties.versatile&&Bl();return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div"),E&&E.c(),i=D(),g&&g.c(),o=D(),C&&C.c(),u=D(),w&&w.c(),m=D(),I&&I.c(),v=D(),A&&A.c(),d=D(),x&&x.c(),b=D(),P&&P.c(),_=D(),N&&N.c(),this.h()},l(T){e=p(T,"DIV",{class:!0});var H=y(e);t=p(H,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1wxxjy9"&&(t.textContent=a),s=k(H),n=p(H,"DIV",{class:!0});var V=y(n);E&&E.l(V),i=k(V),g&&g.l(V),o=k(V),C&&C.l(V),u=k(V),w&&w.l(V),m=k(V),I&&I.l(V),v=k(V),A&&A.l(V),d=k(V),x&&x.l(V),b=k(V),P&&P.l(V),_=k(V),N&&N.l(V),V.forEach(f),H.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-2"),c(n,"class","flex flex-wrap gap-2"),c(e,"class","mt-3")},m(T,H){j(T,e,H),r(e,t),r(e,s),r(e,n),E&&E.m(n,null),r(n,i),g&&g.m(n,null),r(n,o),C&&C.m(n,null),r(n,u),w&&w.m(n,null),r(n,m),I&&I.m(n,null),r(n,v),A&&A.m(n,null),r(n,d),x&&x.m(n,null),r(n,b),P&&P.m(n,null),r(n,_),N&&N.m(n,null)},p(T,H){T[1].weaponData.properties.light?E||(E=Tl(),E.c(),E.m(n,i)):E&&(E.d(1),E=null),T[1].weaponData.properties.finesse?g||(g=Vl(),g.c(),g.m(n,o)):g&&(g.d(1),g=null),T[1].weaponData.properties.thrown?C||(C=Al(),C.c(),C.m(n,u)):C&&(C.d(1),C=null),T[1].weaponData.properties.twoHanded?w||(w=Ll(),w.c(),w.m(n,m)):w&&(w.d(1),w=null),T[1].weaponData.properties.reach?I||(I=Pl(),I.c(),I.m(n,v)):I&&(I.d(1),I=null),T[1].weaponData.properties.loading?A||(A=Sl(),A.c(),A.m(n,d)):A&&(A.d(1),A=null),T[1].weaponData.properties.heavy?x||(x=Nl(),x.c(),x.m(n,b)):x&&(x.d(1),x=null),T[1].weaponData.properties.ammunition?P||(P=Ml(),P.c(),P.m(n,_)):P&&(P.d(1),P=null),T[1].weaponData.properties.versatile?N||(N=Bl(),N.c(),N.m(n,null)):N&&(N.d(1),N=null)},d(T){T&&f(e),E&&E.d(),g&&g.d(),C&&C.d(),w&&w.d(),I&&I.d(),A&&A.d(),x&&x.d(),P&&P.d(),N&&N.d()}}}function Tl(l){let e,t="Ligera";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1y27iqk"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-info")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Vl(l){let e,t="Fineza";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-8ktt1o"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-success")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Al(l){let e,t="Arrojadiza";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-5ritif"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-warning")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Ll(l){let e,t="Dos manos";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-ka14v0"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-error")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Pl(l){let e,t="Alcance";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-uliad1"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-primary")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Sl(l){let e,t="Recarga";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-11q0pb2"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-ghost")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Nl(l){let e,t="Pesada";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1p78jor"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-neutral")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Ml(l){let e,t="Munici√≥n";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-ohlcsu"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-accent")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Bl(l){let e,t="Vers√°til";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1w0goua"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-secondary")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Hl(l){let e,t,a="üõ°Ô∏è Datos de Armadura",s,n,i,o,u="TIPO",m,v,d=l[1].armorData.armorType+"",b,_,E,g,C="CLASE DE ARMADURA",w,I,A,x,P,N;function T(F,W){return F[1].armorData.armorType==="Shield"?gr:_r}let H=T(l),V=H(l),L=l[1].armorData.magicBonus&&Ol(l),S=l[1].armorData&&ql(l),O=l[1].armorData.strengthRequirement&&l[1].armorData.strengthRequirement>0&&Rl(l),q=l[1].armorData.stealthDisadvantage&&Gl();return{c(){e=h("div"),t=h("h4"),t.textContent=a,s=D(),n=h("div"),i=h("div"),o=h("p"),o.textContent=u,m=D(),v=h("p"),b=B(d),_=D(),E=h("div"),g=h("p"),g.textContent=C,w=D(),I=h("p"),V.c(),A=D(),L&&L.c(),x=D(),S&&S.c(),P=D(),O&&O.c(),N=D(),q&&q.c(),this.h()},l(F){e=p(F,"DIV",{class:!0});var W=y(e);t=p(W,"H4",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-115vair"&&(t.textContent=a),s=k(W),n=p(W,"DIV",{class:!0});var z=y(n);i=p(z,"DIV",{class:!0});var U=y(i);o=p(U,"P",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-bx8juq"&&(o.textContent=u),m=k(U),v=p(U,"P",{class:!0});var ae=y(v);b=M(ae,d),ae.forEach(f),U.forEach(f),_=k(z),E=p(z,"DIV",{class:!0});var R=y(E);g=p(R,"P",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-1skf8w4"&&(g.textContent=C),w=k(R),I=p(R,"P",{class:!0});var J=y(I);V.l(J),A=k(J),L&&L.l(J),J.forEach(f),R.forEach(f),x=k(z),S&&S.l(z),P=k(z),O&&O.l(z),N=k(z),q&&q.l(z),z.forEach(f),W.forEach(f),this.h()},h(){c(t,"class","font-medieval text-lg text-neutral mb-3"),c(o,"class","text-xs font-medieval text-neutral/60 mb-1"),c(v,"class","text-lg font-bold text-neutral capitalize"),c(i,"class","bg-primary/10 p-3 rounded-lg border border-primary/30 col-span-2"),c(g,"class","text-xs font-medieval text-neutral/60 mb-1"),c(I,"class","text-2xl font-bold text-neutral"),c(E,"class","bg-info/10 p-3 rounded-lg border border-info/30"),c(n,"class","grid grid-cols-2 gap-3"),c(e,"class","mb-6")},m(F,W){j(F,e,W),r(e,t),r(e,s),r(e,n),r(n,i),r(i,o),r(i,m),r(i,v),r(v,b),r(n,_),r(n,E),r(E,g),r(E,w),r(E,I),V.m(I,null),r(I,A),L&&L.m(I,null),r(n,x),S&&S.m(n,null),r(n,P),O&&O.m(n,null),r(n,N),q&&q.m(n,null)},p(F,W){W&2&&d!==(d=F[1].armorData.armorType+"")&&ee(b,d),H===(H=T(F))&&V?V.p(F,W):(V.d(1),V=H(F),V&&(V.c(),V.m(I,A))),F[1].armorData.magicBonus?L?L.p(F,W):(L=Ol(F),L.c(),L.m(I,null)):L&&(L.d(1),L=null),F[1].armorData?S?S.p(F,W):(S=ql(F),S.c(),S.m(n,P)):S&&(S.d(1),S=null),F[1].armorData.strengthRequirement&&F[1].armorData.strengthRequirement>0?O?O.p(F,W):(O=Rl(F),O.c(),O.m(n,N)):O&&(O.d(1),O=null),F[1].armorData.stealthDisadvantage?q||(q=Gl(),q.c(),q.m(n,null)):q&&(q.d(1),q=null)},d(F){F&&f(e),V.d(),L&&L.d(),S&&S.d(),O&&O.d(),q&&q.d()}}}function _r(l){let e=l[1].armorData.baseAC+"",t;return{c(){t=B(e)},l(a){t=M(a,e)},m(a,s){j(a,t,s)},p(a,s){s&2&&e!==(e=a[1].armorData.baseAC+"")&&ee(t,e)},d(a){a&&f(t)}}}function gr(l){let e,t="2",a;return{c(){e=B("+"),a=B(t)},l(s){e=M(s,"+"),a=M(s,t)},m(s,n){j(s,e,n),j(s,a,n)},p:Ke,d(s){s&&(f(e),f(a))}}}function Ol(l){let e,t,a=l[1].armorData.magicBonus+"",s;return{c(){e=h("span"),t=B("+"),s=B(a),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);t=M(i,"+"),s=M(i,a),i.forEach(f),this.h()},h(){c(e,"class","text-success")},m(n,i){j(n,e,i),r(e,t),r(e,s)},p(n,i){i&2&&a!==(a=n[1].armorData.magicBonus+"")&&ee(s,a)},d(n){n&&f(e)}}}function ql(l){let e,t,a="MODIFICADOR DES",s,n,i,o,u,m=l[1].armorData.armorType==="Light Armor"&&jl(),v=l[1].armorData.armorType==="Medium Armor"&&Fl(),d=l[1].armorData.armorType==="Heavy Armor"&&Ul(),b=l[1].armorData.armorType==="Shield"&&zl();return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("p"),m&&m.c(),i=D(),v&&v.c(),o=D(),d&&d.c(),u=D(),b&&b.c(),this.h()},l(_){e=p(_,"DIV",{class:!0});var E=y(e);t=p(E,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1nnjn91"&&(t.textContent=a),s=k(E),n=p(E,"P",{class:!0});var g=y(n);m&&m.l(g),i=k(g),v&&v.l(g),o=k(g),d&&d.l(g),u=k(g),b&&b.l(g),g.forEach(f),E.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-lg font-bold text-neutral"),c(e,"class","bg-success/10 p-3 rounded-lg border border-success/30")},m(_,E){j(_,e,E),r(e,t),r(e,s),r(e,n),m&&m.m(n,null),r(n,i),v&&v.m(n,null),r(n,o),d&&d.m(n,null),r(n,u),b&&b.m(n,null)},p(_,E){_[1].armorData.armorType==="Light Armor"?m||(m=jl(),m.c(),m.m(n,i)):m&&(m.d(1),m=null),_[1].armorData.armorType==="Medium Armor"?v||(v=Fl(),v.c(),v.m(n,o)):v&&(v.d(1),v=null),_[1].armorData.armorType==="Heavy Armor"?d||(d=Ul(),d.c(),d.m(n,u)):d&&(d.d(1),d=null),_[1].armorData.armorType==="Shield"?b||(b=zl(),b.c(),b.m(n,null)):b&&(b.d(1),b=null)},d(_){_&&f(e),m&&m.d(),v&&v.d(),d&&d.d(),b&&b.d()}}}function jl(l){let e;return{c(){e=B("Completo")},l(t){e=M(t,"Completo")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Fl(l){let e;return{c(){e=B("M√°ximo +2")},l(t){e=M(t,"M√°ximo +2")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Ul(l){let e;return{c(){e=B("Sin modificador")},l(t){e=M(t,"Sin modificador")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function zl(l){let e;return{c(){e=B("Sin modificador")},l(t){e=M(t,"Sin modificador")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Rl(l){let e,t,a="REQ. FUERZA",s,n,i=l[1].armorData.strengthRequirement+"",o,u,m,v="Requerido para uso completo";return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("p"),o=B(i),u=D(),m=h("p"),m.textContent=v,this.h()},l(d){e=p(d,"DIV",{class:!0});var b=y(e);t=p(b,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-xatstb"&&(t.textContent=a),s=k(b),n=p(b,"P",{class:!0});var _=y(n);o=M(_,i),_.forEach(f),u=k(b),m=p(b,"P",{class:!0,"data-svelte-h":!0}),K(m)!=="svelte-1rmeg3m"&&(m.textContent=v),b.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-2xl font-bold text-neutral"),c(m,"class","text-xs text-neutral/60"),c(e,"class","bg-warning/10 p-3 rounded-lg border border-warning/30")},m(d,b){j(d,e,b),r(e,t),r(e,s),r(e,n),r(n,o),r(e,u),r(e,m)},p(d,b){b&2&&i!==(i=d[1].armorData.strengthRequirement+"")&&ee(o,i)},d(d){d&&f(e)}}}function Gl(l){let e,t='<p class="text-center"><span class="text-2xl">‚ö†Ô∏è</span> <span class="font-medieval text-neutral ml-2">Desventaja en Sigilo</span></p>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1bgu9r2"&&(e.innerHTML=t),this.h()},h(){c(e,"class","col-span-2 bg-error/10 p-3 rounded-lg border border-error/30")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Er(l){let e,t=l[0]&&l[1]&&bl(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,s){t&&t.m(a,s),j(a,e,s)},p(a,[s]){a[0]&&a[1]?t?t.p(a,s):(t=bl(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ke,o:Ke,d(a){a&&f(e),t&&t.d(a)}}}function Gt(l){return l%1===0?l.toString():l.toFixed(2)}function Ql(l){return{weapon:"‚öîÔ∏è",armor:"üõ°Ô∏è",shield:"üõ°Ô∏è",tool:"üîß",consumable:"üß™",treasure:"üíé",other:"üì¶"}[l]||"üì¶"}function Jl(l){return{weapon:"Arma",armor:"Armadura",shield:"Escudo",tool:"Herramienta",consumable:"Consumible",treasure:"Tesoro",other:"Otro"}[l]||"Item"}function yr(l,e,t){let{isOpen:a=!1}=e,{item:s=null}=e,{character:n=null}=e;const i=Bt();function o(){i("close")}function u(m){St.call(this,l,m)}return l.$$set=m=>{"isOpen"in m&&t(0,a=m.isOpen),"item"in m&&t(1,s=m.item),"character"in m&&t(3,n=m.character)},[a,s,o,n,u]}class Cr extends Dt{constructor(e){super(),wt(this,e,yr,Er,It,{isOpen:0,item:1,character:3})}}function kr(l){let e,t,a,s="üö´",n,i,o="Acceso Denegado",u,m,v="Solo el due√±o del personaje puede modificar items.",d,b,_="Entendido",E,g;return{c(){e=h("div"),t=h("div"),a=h("div"),a.textContent=s,n=D(),i=h("h3"),i.textContent=o,u=D(),m=h("p"),m.textContent=v,d=D(),b=h("button"),b.textContent=_,this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);a=p(I,"DIV",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-13ghcez"&&(a.textContent=s),n=k(I),i=p(I,"H3",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-13fk1x3"&&(i.textContent=o),u=k(I),m=p(I,"P",{class:!0,"data-svelte-h":!0}),K(m)!=="svelte-1va22cv"&&(m.textContent=v),d=k(I),b=p(I,"BUTTON",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-1fvcsye"&&(b.textContent=_),I.forEach(f),w.forEach(f),this.h()},h(){c(a,"class","text-6xl mb-4"),c(i,"class","text-2xl font-medieval text-neutral mb-3"),c(m,"class","text-neutral/70 font-body mb-6"),c(b,"class","btn btn-dnd"),c(t,"class","card-parchment border-4 border-error w-11/12 max-w-md text-center p-8"),c(e,"class","modal modal-open z-50")},m(C,w){j(C,e,w),r(e,t),r(t,a),r(t,n),r(t,i),r(t,u),r(t,m),r(t,d),r(t,b),E||(g=[le(b,"click",l[10]),le(e,"click",l[10])],E=!0)},p:Ke,d(C){C&&f(e),E=!1,at(g)}}}function Dr(l){let e,t,a,s,n="‚úï",i,o,u="‚úèÔ∏è Modificar Item",m,v,d="Edita los detalles de tu objeto",b,_,E,g,C='<span class="label-text font-medieval text-neutral text-lg">Nombre <span class="text-error">*</span></span>',w,I,A,x,P,N,T,H,V='<span class="label-text font-medieval text-neutral">Cantidad</span>',L,S,O,q,F,W,z,U,ae,R,J,X,Y,Q,G,te,se='<span class="label-text font-medieval text-neutral">Valor (gp)</span>',ce,fe,ye,we,Z,de,be,Ce,Fe='<span class="label-text font-medieval text-neutral text-lg">Descripci√≥n</span>',Ve,ke,oe,ue,me,Te,he,_e,Be,He="Cancelar",Pe,ne,Ie,ze="üíæ",Ge,je=l[6]?"Guardar Cambios":"Sin Cambios",Ne,Oe,Se,Re,ge=l[4].name&&l[5].name&&Kl(l);function Me(pe,qe){return pe[4].quantity&&pe[5].quantity?Ir:wr}let re=Me(l),Ae=re(l);function $(pe,qe){return pe[4].value&&pe[5].value?Lr:Ar}let ve=$(l),Le=ve(l),ie=l[3].quantity>1&&Wl(l);function De(pe,qe){return pe[4].description&&pe[5].description?Sr:Pr}let Ee=De(l),Qe=Ee(l),Xe=(l[1].weaponData||l[1].armorData)&&Xl(l),We=(l[1].weaponData||l[1].armorData)&&$l(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("button"),s.textContent=n,i=D(),o=h("h3"),o.textContent=u,m=D(),v=h("p"),v.textContent=d,b=D(),_=h("div"),E=h("div"),g=h("label"),g.innerHTML=C,w=D(),I=h("input"),x=D(),ge&&ge.c(),P=D(),N=h("div"),T=h("div"),H=h("label"),H.innerHTML=V,L=D(),S=h("div"),O=h("button"),q=B("‚ûñ"),W=D(),z=h("input"),ae=D(),R=h("button"),J=B("‚ûï"),Y=D(),Ae.c(),Q=D(),G=h("div"),te=h("label"),te.innerHTML=se,ce=D(),fe=h("input"),we=D(),Le.c(),Z=D(),ie&&ie.c(),de=D(),be=h("div"),Ce=h("label"),Ce.innerHTML=Fe,Ve=D(),ke=h("textarea"),ue=D(),Qe.c(),me=D(),Xe&&Xe.c(),Te=D(),We&&We.c(),he=D(),_e=h("div"),Be=h("button"),Be.textContent=He,Pe=D(),ne=h("button"),Ie=h("span"),Ie.textContent=ze,Ge=D(),Ne=B(je),this.h()},l(pe){e=p(pe,"DIV",{class:!0});var qe=y(e);t=p(qe,"DIV",{class:!0});var et=y(t);a=p(et,"DIV",{class:!0});var st=y(a);s=p(st,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-drx0cs"&&(s.textContent=n),i=k(st),o=p(st,"H3",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-xx3jjx"&&(o.textContent=u),m=k(st),v=p(st,"P",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-d9zk7o"&&(v.textContent=d),st.forEach(f),b=k(et),_=p(et,"DIV",{class:!0});var tt=y(_);E=p(tt,"DIV",{class:!0});var ut=y(E);g=p(ut,"LABEL",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-1dje1j3"&&(g.innerHTML=C),w=k(ut),I=p(ut,"INPUT",{type:!0,placeholder:!0,class:!0}),x=k(ut),ge&&ge.l(ut),ut.forEach(f),P=k(tt),N=p(tt,"DIV",{class:!0});var pt=y(N);T=p(pt,"DIV",{class:!0});var ft=y(T);H=p(ft,"LABEL",{class:!0,"data-svelte-h":!0}),K(H)!=="svelte-1x30kpx"&&(H.innerHTML=V),L=k(ft),S=p(ft,"DIV",{class:!0});var dt=y(S);O=p(dt,"BUTTON",{type:!0,class:!0});var xt=y(O);q=M(xt,"‚ûñ"),xt.forEach(f),W=k(dt),z=p(dt,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ae=k(dt),R=p(dt,"BUTTON",{type:!0,class:!0});var vt=y(R);J=M(vt,"‚ûï"),vt.forEach(f),dt.forEach(f),Y=k(ft),Ae.l(ft),ft.forEach(f),Q=k(pt),G=p(pt,"DIV",{class:!0});var ht=y(G);te=p(ht,"LABEL",{class:!0,"data-svelte-h":!0}),K(te)!=="svelte-julzfr"&&(te.innerHTML=se),ce=k(ht),fe=p(ht,"INPUT",{type:!0,min:!0,step:!0,class:!0}),we=k(ht),Le.l(ht),ht.forEach(f),pt.forEach(f),Z=k(tt),ie&&ie.l(tt),de=k(tt),be=p(tt,"DIV",{class:!0});var ot=y(be);Ce=p(ot,"LABEL",{class:!0,"data-svelte-h":!0}),K(Ce)!=="svelte-7selh1"&&(Ce.innerHTML=Fe),Ve=k(ot),ke=p(ot,"TEXTAREA",{placeholder:!0,class:!0}),y(ke).forEach(f),ue=k(ot),Qe.l(ot),ot.forEach(f),me=k(tt),Xe&&Xe.l(tt),Te=k(tt),We&&We.l(tt),tt.forEach(f),he=k(et),_e=p(et,"DIV",{class:!0});var ct=y(_e);Be=p(ct,"BUTTON",{class:!0,"data-svelte-h":!0}),K(Be)!=="svelte-kn08kh"&&(Be.textContent=He),Pe=k(ct),ne=p(ct,"BUTTON",{class:!0});var Ht=y(ne);Ie=p(Ht,"SPAN",{class:!0,"data-svelte-h":!0}),K(Ie)!=="svelte-fwlof0"&&(Ie.textContent=ze),Ge=k(Ht),Ne=M(Ht,je),Ht.forEach(f),ct.forEach(f),et.forEach(f),qe.forEach(f),this.h()},h(){c(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-3xl font-medieval text-neutral text-center"),c(v,"class","text-center text-neutral/60 font-body italic mt-2"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(g,"class","label"),c(I,"type","text"),c(I,"placeholder","Nombre del item"),c(I,"class",A="input input-bordered bg-[#2d241c] text-base-content "+(l[4].name&&l[5].name?"border-error border-2":"border-primary/50")),I.required=!0,c(E,"class","form-control"),c(H,"class","label"),c(O,"type","button"),c(O,"class","btn btn-outline join-item flex-shrink-0"),O.disabled=F=l[3].quantity<=0,c(z,"type","number"),c(z,"min","0"),c(z,"max","999"),c(z,"step","1"),c(z,"class",U="input input-bordered bg-[#2d241c] text-base-content "+(l[4].quantity&&l[5].quantity?"border-error border-2":"border-primary/50")+" join-item text-center flex-1 w-full"),c(R,"type","button"),c(R,"class","btn btn-outline join-item flex-shrink-0"),R.disabled=X=l[3].quantity>=999,c(S,"class","join w-full"),c(T,"class","form-control"),c(te,"class","label"),c(fe,"type","number"),c(fe,"min","0"),c(fe,"step","0.01"),c(fe,"class",ye="input input-bordered bg-[#2d241c] text-base-content "+(l[4].value&&l[5].value?"border-error border-2":"border-primary/50")),c(G,"class","form-control"),c(N,"class","grid grid-cols-2 gap-4"),c(Ce,"class","label"),c(ke,"placeholder","Descripci√≥n del item..."),c(ke,"class",oe="textarea textarea-bordered bg-[#2d241c] text-base-content "+(l[4].description&&l[5].description?"border-error border-2":"border-primary/50")+" h-32 resize-none"),c(be,"class","form-control"),c(_,"class","flex-1 overflow-y-auto p-6 space-y-4"),c(Be,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),c(Ie,"class","text-xl"),c(ne,"class","btn btn-dnd"),ne.disabled=Oe=!l[7]||!l[6],c(_e,"class","flex justify-center gap-4 p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-2xl relative max-h-[90vh] flex flex-col"),c(e,"class","modal modal-open z-50")},m(pe,qe){j(pe,e,qe),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),r(a,m),r(a,v),r(t,b),r(t,_),r(_,E),r(E,g),r(E,w),r(E,I),xe(I,l[3].name),r(E,x),ge&&ge.m(E,null),r(_,P),r(_,N),r(N,T),r(T,H),r(T,L),r(T,S),r(S,O),r(O,q),r(S,W),r(S,z),xe(z,l[3].quantity),r(S,ae),r(S,R),r(R,J),r(T,Y),Ae.m(T,null),r(N,Q),r(N,G),r(G,te),r(G,ce),r(G,fe),xe(fe,l[3].value),r(G,we),Le.m(G,null),r(_,Z),ie&&ie.m(_,null),r(_,de),r(_,be),r(be,Ce),r(be,Ve),r(be,ke),xe(ke,l[3].description),r(be,ue),Qe.m(be,null),r(_,me),Xe&&Xe.m(_,null),r(_,Te),We&&We.m(_,null),r(t,he),r(t,_e),r(_e,Be),r(_e,Pe),r(_e,ne),r(ne,Ie),r(ne,Ge),r(ne,Ne),Se||(Re=[le(s,"click",l[10]),le(I,"input",l[17]),le(I,"input",l[18]),le(I,"blur",l[19]),le(O,"click",l[12]),le(z,"input",l[20]),le(z,"input",l[21]),le(z,"blur",l[22]),le(z,"change",l[13]),le(R,"click",l[11]),le(fe,"input",l[23]),le(fe,"input",l[24]),le(fe,"blur",l[25]),le(ke,"input",l[26]),le(ke,"blur",l[27]),le(Be,"click",l[10]),le(ne,"click",l[9]),le(t,"click",kt(l[16])),le(e,"click",l[10])],Se=!0)},p(pe,qe){qe[0]&48&&A!==(A="input input-bordered bg-[#2d241c] text-base-content "+(pe[4].name&&pe[5].name?"border-error border-2":"border-primary/50"))&&c(I,"class",A),qe[0]&8&&I.value!==pe[3].name&&xe(I,pe[3].name),pe[4].name&&pe[5].name?ge?ge.p(pe,qe):(ge=Kl(pe),ge.c(),ge.m(E,null)):ge&&(ge.d(1),ge=null),qe[0]&8&&F!==(F=pe[3].quantity<=0)&&(O.disabled=F),qe[0]&48&&U!==(U="input input-bordered bg-[#2d241c] text-base-content "+(pe[4].quantity&&pe[5].quantity?"border-error border-2":"border-primary/50")+" join-item text-center flex-1 w-full")&&c(z,"class",U),qe[0]&8&&Ue(z.value)!==pe[3].quantity&&xe(z,pe[3].quantity),qe[0]&8&&X!==(X=pe[3].quantity>=999)&&(R.disabled=X),re===(re=Me(pe))&&Ae?Ae.p(pe,qe):(Ae.d(1),Ae=re(pe),Ae&&(Ae.c(),Ae.m(T,null))),qe[0]&48&&ye!==(ye="input input-bordered bg-[#2d241c] text-base-content "+(pe[4].value&&pe[5].value?"border-error border-2":"border-primary/50"))&&c(fe,"class",ye),qe[0]&8&&Ue(fe.value)!==pe[3].value&&xe(fe,pe[3].value),ve===(ve=$(pe))&&Le?Le.p(pe,qe):(Le.d(1),Le=ve(pe),Le&&(Le.c(),Le.m(G,null))),pe[3].quantity>1?ie?ie.p(pe,qe):(ie=Wl(pe),ie.c(),ie.m(_,de)):ie&&(ie.d(1),ie=null),qe[0]&48&&oe!==(oe="textarea textarea-bordered bg-[#2d241c] text-base-content "+(pe[4].description&&pe[5].description?"border-error border-2":"border-primary/50")+" h-32 resize-none")&&c(ke,"class",oe),qe[0]&8&&xe(ke,pe[3].description),Ee===(Ee=De(pe))&&Qe?Qe.p(pe,qe):(Qe.d(1),Qe=Ee(pe),Qe&&(Qe.c(),Qe.m(be,null))),pe[1].weaponData||pe[1].armorData?Xe?Xe.p(pe,qe):(Xe=Xl(pe),Xe.c(),Xe.m(_,Te)):Xe&&(Xe.d(1),Xe=null),pe[1].weaponData||pe[1].armorData?We?We.p(pe,qe):(We=$l(pe),We.c(),We.m(_,null)):We&&(We.d(1),We=null),qe[0]&64&&je!==(je=pe[6]?"Guardar Cambios":"Sin Cambios")&&ee(Ne,je),qe[0]&192&&Oe!==(Oe=!pe[7]||!pe[6])&&(ne.disabled=Oe)},d(pe){pe&&f(e),ge&&ge.d(),Ae.d(),Le.d(),ie&&ie.d(),Qe.d(),Xe&&Xe.d(),We&&We.d(),Se=!1,at(Re)}}}function Kl(l){let e,t,a,s=l[4].name+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].name+"")&&ee(n,s)},d(i){i&&f(e)}}}function wr(l){let e,t;function a(i,o){return i[3].quantity===0?Vr:i[3].quantity>99?Tr:xr}let s=a(l),n=s(l);return{c(){e=h("label"),t=h("span"),n.c(),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);n.l(u),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-neutral/60 italic text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),n.m(t,null)},p(i,o){s!==(s=a(i))&&(n.d(1),n=s(i),n&&(n.c(),n.m(t,null)))},d(i){i&&f(e),n.d()}}}function Ir(l){let e,t,a,s=l[4].quantity+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].quantity+"")&&ee(n,s)},d(i){i&&f(e)}}}function xr(l){let e;return{c(){e=B("Cantidad disponible")},l(t){e=M(t,"Cantidad disponible")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Tr(l){let e;return{c(){e=B("üì¶ Gran cantidad de items")},l(t){e=M(t,"üì¶ Gran cantidad de items")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Vr(l){let e;return{c(){e=B("‚ö†Ô∏è Si llegas a 0, el item se eliminar√°")},l(t){e=M(t,"‚ö†Ô∏è Si llegas a 0, el item se eliminar√°")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Ar(l){let e,t='<span class="label-text-alt text-neutral/60 italic text-xs">Precio por unidad</span>';return{c(){e=h("label"),e.innerHTML=t,this.h()},l(a){e=p(a,"LABEL",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1gshcwu"&&(e.innerHTML=t),this.h()},h(){c(e,"class","label")},m(a,s){j(a,e,s)},p:Ke,d(a){a&&f(e)}}}function Lr(l){let e,t,a,s=l[4].value+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].value+"")&&ee(n,s)},d(i){i&&f(e)}}}function Wl(l){let e,t,a,s="üí∞ Valor Total:",n,i,o=(l[3].value*l[3].quantity).toFixed(2)+"",u,m;return{c(){e=h("div"),t=h("div"),a=h("span"),a.textContent=s,n=D(),i=h("span"),u=B(o),m=B(" gp"),this.h()},l(v){e=p(v,"DIV",{class:!0});var d=y(e);t=p(d,"DIV",{class:!0});var b=y(t);a=p(b,"SPAN",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1tcs01g"&&(a.textContent=s),n=k(b),i=p(b,"SPAN",{class:!0});var _=y(i);u=M(_,o),m=M(_," gp"),_.forEach(f),b.forEach(f),d.forEach(f),this.h()},h(){c(a,"class","font-medieval text-neutral"),c(i,"class","text-2xl font-bold text-neutral"),c(t,"class","flex justify-between items-center"),c(e,"class","bg-warning/10 p-3 rounded-lg border border-warning/30")},m(v,d){j(v,e,d),r(e,t),r(t,a),r(t,n),r(t,i),r(i,u),r(i,m)},p(v,d){d[0]&8&&o!==(o=(v[3].value*v[3].quantity).toFixed(2)+"")&&ee(u,o)},d(v){v&&f(e)}}}function Pr(l){let e,t='<span class="label-text-alt text-neutral/60 italic text-xs">Informaci√≥n adicional sobre el item</span>';return{c(){e=h("label"),e.innerHTML=t,this.h()},l(a){e=p(a,"LABEL",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1unjb8"&&(e.innerHTML=t),this.h()},h(){c(e,"class","label")},m(a,s){j(a,e,s)},p:Ke,d(a){a&&f(e)}}}function Sr(l){let e,t,a,s=l[4].description+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].description+"")&&ee(n,s)},d(i){i&&f(e)}}}function Xl(l){let e,t="‚ö° Bonus M√°gicos",a,s,n,i=l[1].weaponData&&Yl(l),o=l[1].armorData&&Zl(l);return{c(){e=h("div"),e.textContent=t,a=D(),i&&i.c(),s=D(),o&&o.c(),n=Ye(),this.h()},l(u){e=p(u,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-19r1se0"&&(e.textContent=t),a=k(u),i&&i.l(u),s=k(u),o&&o.l(u),n=Ye(),this.h()},h(){c(e,"class","divider text-neutral/50")},m(u,m){j(u,e,m),j(u,a,m),i&&i.m(u,m),j(u,s,m),o&&o.m(u,m),j(u,n,m)},p(u,m){u[1].weaponData?i?i.p(u,m):(i=Yl(u),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null),u[1].armorData?o?o.p(u,m):(o=Zl(u),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(u){u&&(f(e),f(a),f(s),f(n)),i&&i.d(u),o&&o.d(u)}}}function Yl(l){let e,t,a='<span class="label-text font-medieval text-neutral">‚öîÔ∏è Bonus de Ataque/Da√±o</span>',s,n,i,o,u='<span class="label-text-alt text-neutral/60 italic text-xs">+0 a +5 (t√≠pico para armas m√°gicas)</span>',m,v;return{c(){e=h("div"),t=h("label"),t.innerHTML=a,s=D(),n=h("input"),i=D(),o=h("label"),o.innerHTML=u,this.h()},l(d){e=p(d,"DIV",{class:!0});var b=y(e);t=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1i1mik1"&&(t.innerHTML=a),s=k(b),n=p(b,"INPUT",{type:!0,min:!0,max:!0,class:!0}),i=k(b),o=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-yrmf50"&&(o.innerHTML=u),b.forEach(f),this.h()},h(){c(t,"class","label"),c(n,"type","number"),c(n,"min","0"),c(n,"max","5"),c(n,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-24"),c(o,"class","label"),c(e,"class","form-control")},m(d,b){j(d,e,b),r(e,t),r(e,s),r(e,n),xe(n,l[3].weaponMagicBonus),r(e,i),r(e,o),m||(v=le(n,"input",l[28]),m=!0)},p(d,b){b[0]&8&&Ue(n.value)!==d[3].weaponMagicBonus&&xe(n,d[3].weaponMagicBonus)},d(d){d&&f(e),m=!1,v()}}}function Zl(l){let e,t,a='<span class="label-text font-medieval text-neutral">üõ°Ô∏è Bonus de AC</span>',s,n,i,o,u='<span class="label-text-alt text-neutral/60 italic text-xs">+0 a +3 (t√≠pico para armaduras m√°gicas)</span>',m,v;return{c(){e=h("div"),t=h("label"),t.innerHTML=a,s=D(),n=h("input"),i=D(),o=h("label"),o.innerHTML=u,this.h()},l(d){e=p(d,"DIV",{class:!0});var b=y(e);t=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-h7myuy"&&(t.innerHTML=a),s=k(b),n=p(b,"INPUT",{type:!0,min:!0,max:!0,class:!0}),i=k(b),o=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-62w0n8"&&(o.innerHTML=u),b.forEach(f),this.h()},h(){c(t,"class","label"),c(n,"type","number"),c(n,"min","0"),c(n,"max","3"),c(n,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-24"),c(o,"class","label"),c(e,"class","form-control")},m(d,b){j(d,e,b),r(e,t),r(e,s),r(e,n),xe(n,l[3].armorMagicBonus),r(e,i),r(e,o),m||(v=le(n,"input",l[29]),m=!0)},p(d,b){b[0]&8&&Ue(n.value)!==d[3].armorMagicBonus&&xe(n,d[3].armorMagicBonus)},d(d){d&&f(e),m=!1,v()}}}function $l(l){let e,t="üìä Estad√≠sticas Base",a,s,n,i=l[1].weaponData&&ea(l),o=l[1].armorData&&ta(l);return{c(){e=h("div"),e.textContent=t,a=D(),i&&i.c(),s=D(),o&&o.c(),n=Ye(),this.h()},l(u){e=p(u,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1waewyq"&&(e.textContent=t),a=k(u),i&&i.l(u),s=k(u),o&&o.l(u),n=Ye(),this.h()},h(){c(e,"class","divider text-neutral/50")},m(u,m){j(u,e,m),j(u,a,m),i&&i.m(u,m),j(u,s,m),o&&o.m(u,m),j(u,n,m)},p(u,m){u[1].weaponData?i?i.p(u,m):(i=ea(u),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null),u[1].armorData?o?o.p(u,m):(o=ta(u),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(u){u&&(f(e),f(a),f(s),f(n)),i&&i.d(u),o&&o.d(u)}}}function ea(l){let e,t,a="‚öîÔ∏è Datos de Arma",s,n,i,o,u="Da√±o Base:",m,v,d=l[1].weaponData.damageDice+"",b,_,E=l[1].weaponData.damageType+"",g,C,w,I,A="Tipo:",x,P,N=l[1].weaponData.weaponType.replace("_"," ")+"",T,H,V,L="* El da√±o base y tipo no son editables";return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div"),i=h("div"),o=h("span"),o.textContent=u,m=D(),v=h("span"),b=B(d),_=D(),g=B(E),C=D(),w=h("div"),I=h("span"),I.textContent=A,x=D(),P=h("span"),T=B(N),H=D(),V=h("p"),V.textContent=L,this.h()},l(S){e=p(S,"DIV",{class:!0});var O=y(e);t=p(O,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-jconqs"&&(t.textContent=a),s=k(O),n=p(O,"DIV",{class:!0});var q=y(n);i=p(q,"DIV",{});var F=y(i);o=p(F,"SPAN",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-1daq6lz"&&(o.textContent=u),m=k(F),v=p(F,"SPAN",{class:!0});var W=y(v);b=M(W,d),_=k(W),g=M(W,E),W.forEach(f),F.forEach(f),C=k(q),w=p(q,"DIV",{});var z=y(w);I=p(z,"SPAN",{class:!0,"data-svelte-h":!0}),K(I)!=="svelte-hs3lz9"&&(I.textContent=A),x=k(z),P=p(z,"SPAN",{class:!0});var U=y(P);T=M(U,N),U.forEach(f),z.forEach(f),q.forEach(f),H=k(O),V=p(O,"P",{class:!0,"data-svelte-h":!0}),K(V)!=="svelte-1sqtuh2"&&(V.textContent=L),O.forEach(f),this.h()},h(){c(t,"class","font-medieval text-neutral font-bold mb-2"),c(o,"class","text-neutral/60"),c(v,"class","font-bold ml-2"),c(I,"class","text-neutral/60"),c(P,"class","font-bold ml-2 capitalize"),c(n,"class","grid grid-cols-2 gap-2 text-sm"),c(V,"class","text-xs text-neutral/60 italic mt-2"),c(e,"class","bg-error/10 p-4 rounded-lg border border-error/30")},m(S,O){j(S,e,O),r(e,t),r(e,s),r(e,n),r(n,i),r(i,o),r(i,m),r(i,v),r(v,b),r(v,_),r(v,g),r(n,C),r(n,w),r(w,I),r(w,x),r(w,P),r(P,T),r(e,H),r(e,V)},p(S,O){O[0]&2&&d!==(d=S[1].weaponData.damageDice+"")&&ee(b,d),O[0]&2&&E!==(E=S[1].weaponData.damageType+"")&&ee(g,E),O[0]&2&&N!==(N=S[1].weaponData.weaponType.replace("_"," ")+"")&&ee(T,N)},d(S){S&&f(e)}}}function ta(l){let e,t,a="üõ°Ô∏è Datos de Armadura",s,n,i,o,u="AC Base:",m,v,d=l[1].armorData.baseAC+"",b,_,E,g,C="Tipo:",w,I,A=l[1].armorData.armorType+"",x,P,N,T="* La AC base y tipo no son editables";return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div"),i=h("div"),o=h("span"),o.textContent=u,m=D(),v=h("span"),b=B(d),_=D(),E=h("div"),g=h("span"),g.textContent=C,w=D(),I=h("span"),x=B(A),P=D(),N=h("p"),N.textContent=T,this.h()},l(H){e=p(H,"DIV",{class:!0});var V=y(e);t=p(V,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1pyu6rc"&&(t.textContent=a),s=k(V),n=p(V,"DIV",{class:!0});var L=y(n);i=p(L,"DIV",{});var S=y(i);o=p(S,"SPAN",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-dcift0"&&(o.textContent=u),m=k(S),v=p(S,"SPAN",{class:!0});var O=y(v);b=M(O,d),O.forEach(f),S.forEach(f),_=k(L),E=p(L,"DIV",{});var q=y(E);g=p(q,"SPAN",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-hs3lz9"&&(g.textContent=C),w=k(q),I=p(q,"SPAN",{class:!0});var F=y(I);x=M(F,A),F.forEach(f),q.forEach(f),L.forEach(f),P=k(V),N=p(V,"P",{class:!0,"data-svelte-h":!0}),K(N)!=="svelte-1kkotj1"&&(N.textContent=T),V.forEach(f),this.h()},h(){c(t,"class","font-medieval text-neutral font-bold mb-2"),c(o,"class","text-neutral/60"),c(v,"class","font-bold ml-2"),c(g,"class","text-neutral/60"),c(I,"class","font-bold ml-2 capitalize"),c(n,"class","grid grid-cols-2 gap-2 text-sm"),c(N,"class","text-xs text-neutral/60 italic mt-2"),c(e,"class","bg-info/10 p-4 rounded-lg border border-info/30")},m(H,V){j(H,e,V),r(e,t),r(e,s),r(e,n),r(n,i),r(i,o),r(i,m),r(i,v),r(v,b),r(n,_),r(n,E),r(E,g),r(E,w),r(E,I),r(I,x),r(e,P),r(e,N)},p(H,V){V[0]&2&&d!==(d=H[1].armorData.baseAC+"")&&ee(b,d),V[0]&2&&A!==(A=H[1].armorData.armorType+"")&&ee(x,A)},d(H){H&&f(e)}}}function Nr(l){let e;function t(n,i){if(n[0]&&n[1]&&n[2])return Dr;if(n[0]&&n[1]&&!n[2])return kr}let a=t(l),s=a&&a(l);return{c(){s&&s.c(),e=Ye()},l(n){s&&s.l(n),e=Ye()},m(n,i){s&&s.m(n,i),j(n,e,i)},p(n,i){a===(a=t(n))&&s?s.p(n,i):(s&&s.d(1),s=a&&a(n),s&&(s.c(),s.m(e.parentNode,e)))},i:Ke,o:Ke,d(n){n&&f(e),s&&s.d(n)}}}function Mr(l,e,t){let{isOpen:a=!1}=e,{item:s=null}=e,{isOwner:n=!1}=e;const i=Bt();let o={name:"",description:"",quantity:1,value:0,weaponMagicBonus:0,armorMagicBonus:0},u={name:"",quantity:"",value:"",description:""},m={name:!1,quantity:!1,value:!1,description:!1},v=!1,d=!1,b=!1,_=null;function E(R){t(5,m[R]=!0,m)}function g(){if(!n||(Object.keys(m).forEach(J=>{t(5,m[J]=!0,m)}),!d))return;if(!v){C();return}const R={};o.name!==(s==null?void 0:s.name)&&(R.name=o.name),o.description!==((s==null?void 0:s.description)||"")&&(R.description=o.description),o.quantity!==(s==null?void 0:s.quantity)&&(R.quantity=o.quantity),o.value!==(s==null?void 0:s.value)&&(R.value=o.value),s!=null&&s.weaponData&&o.weaponMagicBonus!==(s.weaponData.magicBonus||0)&&(R.weaponData={...s.weaponData,magicBonus:o.weaponMagicBonus}),s!=null&&s.armorData&&o.armorMagicBonus!==(s.armorData.magicBonus||0)&&(R.armorData={...s.armorData,magicBonus:o.armorMagicBonus}),i("update",R),C()}function C(){w(),t(14,b=!1),t(15,_=null),i("close")}function w(){Object.keys(m).forEach(R=>{t(5,m[R]=!1,m)}),Object.keys(u).forEach(R=>{t(4,u[R]="",u)})}function I(){o.quantity<999&&(t(3,o.quantity++,o),t(5,m.quantity=!0,m))}function A(){o.quantity>0&&(t(3,o.quantity--,o),t(5,m.quantity=!0,m))}function x(){o.quantity===0&&s&&s.quantity>0&&(confirm("‚ö†Ô∏è Si la cantidad llega a 0, el item se eliminar√°. ¬øContinuar?")||t(3,o.quantity=1,o))}function P(R){St.call(this,l,R)}function N(){o.name=this.value,t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}const T=()=>t(5,m.name=!0,m),H=()=>E("name");function V(){o.quantity=Ue(this.value),t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}const L=()=>t(5,m.quantity=!0,m),S=()=>{E("quantity"),x()};function O(){o.value=Ue(this.value),t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}const q=()=>t(5,m.value=!0,m),F=()=>E("value");function W(){o.description=this.value,t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}const z=()=>E("description");function U(){o.weaponMagicBonus=Ue(this.value),t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}function ae(){o.armorMagicBonus=Ue(this.value),t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}return l.$$set=R=>{"isOpen"in R&&t(0,a=R.isOpen),"item"in R&&t(1,s=R.item),"isOwner"in R&&t(2,n=R.isOwner)},l.$$.update=()=>{var R,J;if(l.$$.dirty[0]&49155&&s&&a&&(!b||_!==s.id)&&(t(3,o={name:s.name,description:s.description||"",quantity:s.quantity,value:s.value,weaponMagicBonus:((R=s.weaponData)==null?void 0:R.magicBonus)||0,armorMagicBonus:((J=s.armorData)==null?void 0:J.magicBonus)||0}),w(),t(14,b=!0),t(15,_=s.id)),l.$$.dirty[0]&1&&(a||(t(14,b=!1),t(15,_=null))),l.$$.dirty[0]&40&&m.name&&o.name!==void 0){const X=Hs(o.name);t(4,u.name=X.valid?"":X.error||"",u)}if(l.$$.dirty[0]&40&&m.quantity&&o.quantity!==void 0){const X=Os(o.quantity);t(4,u.quantity=X.valid?"":X.error||"",u)}if(l.$$.dirty[0]&40&&m.value&&o.value!==void 0){const X=qs(o.value);t(4,u.value=X.valid?"":X.error||"",u)}if(l.$$.dirty[0]&40&&m.description&&o.description!==void 0){const X=js(o.description);t(4,u.description=X.valid?"":X.error||"",u)}if(l.$$.dirty[0]&16394)if(s&&b){const X=o.name!==s.name,Y=o.description!==(s.description||""),Q=Number(o.quantity)!==Number(s.quantity),G=Number(o.value)!==Number(s.value);let te=!1;s.weaponData&&(te=Number(o.weaponMagicBonus)!==Number(s.weaponData.magicBonus||0));let se=!1;s.armorData&&(se=Number(o.armorMagicBonus)!==Number(s.armorData.magicBonus||0)),t(6,v=X||Y||Q||G||te||se)}else t(6,v=!1);l.$$.dirty[0]&24&&t(7,d=!u.name&&!u.quantity&&!u.value&&!u.description&&o.name.trim().length>0)},[a,s,n,o,u,m,v,d,E,g,C,I,A,x,b,_,P,N,T,H,V,L,S,O,q,F,W,z,U,ae]}class Br extends Dt{constructor(e){super(),wt(this,e,Mr,Nr,It,{isOpen:0,item:1,isOwner:2},null,[-1,-1])}}function la(l,e,t){const a=l.slice();a[76]=e[t];const s=a[10][a[76]];a[77]=s;const n=a[32](a[76]);a[78]=n;const i=a[33](a[76]);a[79]=i;const o=a[7][a[76]]||0;return a[80]=o,a}function aa(l,e,t){const a=l.slice();return a[83]=e[t],a}function Hr(l,e,t){const a=l.slice();return a[73]=e[t],a}function sa(l){let e,t,a,s,n,i,o,u,m="‚úï",v,d;return{c(){e=h("div"),t=Ut("svg"),a=Ut("path"),s=D(),n=h("span"),i=B(l[12]),o=D(),u=h("button"),u.textContent=m,this.h()},l(b){e=p(b,"DIV",{class:!0});var _=y(e);t=Ft(_,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var E=y(t);a=Ft(E,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(a).forEach(f),E.forEach(f),s=k(_),n=p(_,"SPAN",{});var g=y(n);i=M(g,l[12]),g.forEach(f),o=k(_),u=p(_,"BUTTON",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-4f72mu"&&(u.textContent=m),_.forEach(f),this.h()},h(){c(a,"fill-rule","evenodd"),c(a,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"),c(a,"clip-rule","evenodd"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-5 w-5"),c(t,"viewBox","0 0 20 20"),c(t,"fill","currentColor"),c(u,"class","btn btn-sm btn-ghost"),c(e,"class","alert alert-error")},m(b,_){j(b,e,_),r(e,t),r(t,a),r(e,s),r(e,n),r(n,i),r(e,o),r(e,u),v||(d=le(u,"click",l[39]),v=!0)},p(b,_){_[0]&4096&&ee(i,b[12])},d(b){b&&f(e),v=!1,d()}}}function Or(l){let e,t,a,s,n,i="üí∞",o,u,m,v="MONEDAS",d,b,_,E,g,C,w,I,A,x,P="üì¶",N,T,H,V="ITEMS",L,S,O,q,F,W,z=l[2].items.length+"",U,ae,R,J,X,Y="üíé",Q,G,te,se="VALOR",ce,fe,ye=rt(l[2].totalValue)+"",we,Z,de,be,Ce,Fe,Ve,ke=l[2].items.length>0&&ra(l),oe=l[2].currency.platinum>0&&oa(l),ue=l[2].currency.gold>0&&ca(l),me=l[2].currency.silver>0&&ua(l),Te=l[2].currency.copper>0&&fa(l),he=l[2].currency.platinum===0&&l[2].currency.gold===0&&l[2].currency.silver===0&&l[2].currency.copper===0&&da(),_e=l[1]&&pa(l);function Be(ne,Ie){return ne[2].items.length===0?Ur:Fr}let He=Be(l),Pe=He(l);return{c(){ke&&ke.c(),e=D(),t=h("div"),a=h("div"),s=h("button"),n=h("div"),n.textContent=i,o=D(),u=h("div"),m=h("p"),m.textContent=v,d=D(),b=h("div"),oe&&oe.c(),_=D(),ue&&ue.c(),E=D(),me&&me.c(),g=D(),Te&&Te.c(),C=D(),he&&he.c(),I=D(),A=h("div"),x=h("div"),x.textContent=P,N=D(),T=h("div"),H=h("p"),H.textContent=V,L=D(),S=h("p"),O=B(l[20]),q=B(" items"),F=D(),W=h("p"),U=B(z),ae=B(" tipos"),R=D(),J=h("div"),X=h("div"),X.textContent=Y,Q=D(),G=h("div"),te=h("p"),te.textContent=se,ce=D(),fe=h("p"),we=B(ye),Z=B(" gp"),de=D(),_e&&_e.c(),be=D(),Pe.c(),Ce=Ye(),this.h()},l(ne){ke&&ke.l(ne),e=k(ne),t=p(ne,"DIV",{class:!0});var Ie=y(t);a=p(Ie,"DIV",{class:!0});var ze=y(a);s=p(ze,"BUTTON",{class:!0});var Ge=y(s);n=p(Ge,"DIV",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-1vd21yd"&&(n.textContent=i),o=k(Ge),u=p(Ge,"DIV",{class:!0});var je=y(u);m=p(je,"P",{class:!0,"data-svelte-h":!0}),K(m)!=="svelte-xkj9ha"&&(m.textContent=v),d=k(je),b=p(je,"DIV",{class:!0});var Ne=y(b);oe&&oe.l(Ne),_=k(Ne),ue&&ue.l(Ne),E=k(Ne),me&&me.l(Ne),g=k(Ne),Te&&Te.l(Ne),C=k(Ne),he&&he.l(Ne),Ne.forEach(f),je.forEach(f),Ge.forEach(f),I=k(ze),A=p(ze,"DIV",{class:!0});var Oe=y(A);x=p(Oe,"DIV",{class:!0,"data-svelte-h":!0}),K(x)!=="svelte-nk72pb"&&(x.textContent=P),N=k(Oe),T=p(Oe,"DIV",{});var Se=y(T);H=p(Se,"P",{class:!0,"data-svelte-h":!0}),K(H)!=="svelte-kwvj0d"&&(H.textContent=V),L=k(Se),S=p(Se,"P",{class:!0});var Re=y(S);O=M(Re,l[20]),q=M(Re," items"),Re.forEach(f),F=k(Se),W=p(Se,"P",{class:!0});var ge=y(W);U=M(ge,z),ae=M(ge," tipos"),ge.forEach(f),Se.forEach(f),Oe.forEach(f),R=k(ze),J=p(ze,"DIV",{class:!0});var Me=y(J);X=p(Me,"DIV",{class:!0,"data-svelte-h":!0}),K(X)!=="svelte-ucifnb"&&(X.textContent=Y),Q=k(Me),G=p(Me,"DIV",{});var re=y(G);te=p(re,"P",{class:!0,"data-svelte-h":!0}),K(te)!=="svelte-1g54e5b"&&(te.textContent=se),ce=k(re),fe=p(re,"P",{class:!0});var Ae=y(fe);we=M(Ae,ye),Z=M(Ae," gp"),Ae.forEach(f),re.forEach(f),Me.forEach(f),de=k(ze),_e&&_e.l(ze),ze.forEach(f),Ie.forEach(f),be=k(ne),Pe.l(ne),Ce=Ye(),this.h()},h(){c(n,"class","text-3xl"),c(m,"class","text-xs font-medieval text-neutral/60"),c(b,"class","flex gap-2 text-sm font-bold flex-wrap"),c(u,"class","text-left"),c(s,"class","flex items-center gap-3 hover:bg-primary/10 p-2 rounded-lg transition-colors flex-1 min-w-[200px]"),s.disabled=w=!l[1],c(x,"class","text-3xl"),c(H,"class","text-xs font-medieval text-neutral/60"),c(S,"class","text-sm font-bold"),c(W,"class","text-xs text-neutral/60"),c(A,"class","flex items-center gap-3 flex-1 min-w-[150px]"),c(X,"class","text-3xl"),c(te,"class","text-xs font-medieval text-neutral/60"),c(fe,"class","text-sm font-bold"),c(J,"class","flex items-center gap-3 flex-1 min-w-[150px]"),c(a,"class","flex flex-wrap justify-between items-center gap-4"),c(t,"class","bg-gradient-to-r from-primary/10 to-accent/10 p-4 rounded-lg border-2 border-primary/30")},m(ne,Ie){ke&&ke.m(ne,Ie),j(ne,e,Ie),j(ne,t,Ie),r(t,a),r(a,s),r(s,n),r(s,o),r(s,u),r(u,m),r(u,d),r(u,b),oe&&oe.m(b,null),r(b,_),ue&&ue.m(b,null),r(b,E),me&&me.m(b,null),r(b,g),Te&&Te.m(b,null),r(b,C),he&&he.m(b,null),r(a,I),r(a,A),r(A,x),r(A,N),r(A,T),r(T,H),r(T,L),r(T,S),r(S,O),r(S,q),r(T,F),r(T,W),r(W,U),r(W,ae),r(a,R),r(a,J),r(J,X),r(J,Q),r(J,G),r(G,te),r(G,ce),r(G,fe),r(fe,we),r(fe,Z),r(a,de),_e&&_e.m(a,null),j(ne,be,Ie),Pe.m(ne,Ie),j(ne,Ce,Ie),Fe||(Ve=le(s,"click",l[44]),Fe=!0)},p(ne,Ie){ne[2].items.length>0?ke?ke.p(ne,Ie):(ke=ra(ne),ke.c(),ke.m(e.parentNode,e)):ke&&(ke.d(1),ke=null),ne[2].currency.platinum>0?oe?oe.p(ne,Ie):(oe=oa(ne),oe.c(),oe.m(b,_)):oe&&(oe.d(1),oe=null),ne[2].currency.gold>0?ue?ue.p(ne,Ie):(ue=ca(ne),ue.c(),ue.m(b,E)):ue&&(ue.d(1),ue=null),ne[2].currency.silver>0?me?me.p(ne,Ie):(me=ua(ne),me.c(),me.m(b,g)):me&&(me.d(1),me=null),ne[2].currency.copper>0?Te?Te.p(ne,Ie):(Te=fa(ne),Te.c(),Te.m(b,C)):Te&&(Te.d(1),Te=null),ne[2].currency.platinum===0&&ne[2].currency.gold===0&&ne[2].currency.silver===0&&ne[2].currency.copper===0?he||(he=da(),he.c(),he.m(b,null)):he&&(he.d(1),he=null),Ie[0]&2&&w!==(w=!ne[1])&&(s.disabled=w),Ie[0]&1048576&&ee(O,ne[20]),Ie[0]&4&&z!==(z=ne[2].items.length+"")&&ee(U,z),Ie[0]&4&&ye!==(ye=rt(ne[2].totalValue)+"")&&ee(we,ye),ne[1]?_e?_e.p(ne,Ie):(_e=pa(ne),_e.c(),_e.m(a,null)):_e&&(_e.d(1),_e=null),He===(He=Be(ne))&&Pe?Pe.p(ne,Ie):(Pe.d(1),Pe=He(ne),Pe&&(Pe.c(),Pe.m(Ce.parentNode,Ce)))},d(ne){ne&&(f(e),f(t),f(be),f(Ce)),ke&&ke.d(ne),oe&&oe.d(),ue&&ue.d(),me&&me.d(),Te&&Te.d(),he&&he.d(),_e&&_e.d(),Pe.d(ne),Fe=!1,Ve()}}}function qr(l){let e,t,a="‚ö†Ô∏è",s,n,i="Error al Cargar",o,u,m="No se pudo cargar el inventario",v,d,b="üîÑ Reintentar",_,E;return{c(){e=h("div"),t=h("div"),t.textContent=a,s=D(),n=h("h3"),n.textContent=i,o=D(),u=h("p"),u.textContent=m,v=D(),d=h("button"),d.textContent=b,this.h()},l(g){e=p(g,"DIV",{class:!0});var C=y(e);t=p(C,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-173t1pq"&&(t.textContent=a),s=k(C),n=p(C,"H3",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-1vg6w0"&&(n.textContent=i),o=k(C),u=p(C,"P",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-6u3xlx"&&(u.textContent=m),v=k(C),d=p(C,"BUTTON",{class:!0,"data-svelte-h":!0}),K(d)!=="svelte-uz9fxp"&&(d.textContent=b),C.forEach(f),this.h()},h(){c(t,"class","text-4xl mb-4"),c(n,"class","text-xl font-medieval text-neutral mb-2"),c(u,"class","text-neutral/70 mb-4"),c(d,"class","btn btn-primary btn-sm"),c(e,"class","card-parchment p-8 text-center")},m(g,C){j(g,e,C),r(e,t),r(e,s),r(e,n),r(e,o),r(e,u),r(e,v),r(e,d),_||(E=le(d,"click",l[40]),_=!0)},p:Ke,d(g){g&&f(e),_=!1,E()}}}function jr(l){let e,t,a,s,n=Je(Array(4)),i=[];for(let o=0;o<n.length;o+=1)i[o]=Wr(Hr(l,n,o));return{c(){e=h("div"),t=h("div"),a=D(),s=h("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=p(o,"DIV",{class:!0});var u=y(e);t=p(u,"DIV",{class:!0}),y(t).forEach(f),a=k(u),s=p(u,"DIV",{class:!0});var m=y(s);for(let v=0;v<i.length;v+=1)i[v].l(m);m.forEach(f),u.forEach(f),this.h()},h(){c(t,"class","skeleton h-32 w-full"),c(s,"class","grid grid-cols-1 md:grid-cols-2 gap-3"),c(e,"class","space-y-4")},m(o,u){j(o,e,u),r(e,t),r(e,a),r(e,s);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(s,null)},p:Ke,d(o){o&&f(e),lt(i,o)}}}function ra(l){let e,t,a,s,n,i,o,u,m=l[3]&&na(l),v=l[3]&&ia(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("input"),n=D(),m&&m.c(),i=D(),v&&v.c(),this.h()},l(d){e=p(d,"DIV",{class:!0});var b=y(e);t=p(b,"DIV",{class:!0});var _=y(t);a=p(_,"DIV",{class:!0});var E=y(a);s=p(E,"INPUT",{type:!0,placeholder:!0,class:!0}),n=k(E),m&&m.l(E),E.forEach(f),i=k(_),v&&v.l(_),_.forEach(f),b.forEach(f),this.h()},h(){c(s,"type","text"),c(s,"placeholder","üîç Buscar en tu inventario..."),c(s,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full pr-10"),c(a,"class","relative"),c(t,"class","form-control"),c(e,"class","mb-4")},m(d,b){j(d,e,b),r(e,t),r(t,a),r(a,s),xe(s,l[3]),r(a,n),m&&m.m(a,null),r(t,i),v&&v.m(t,null),o||(u=le(s,"input",l[41]),o=!0)},p(d,b){b[0]&8&&s.value!==d[3]&&xe(s,d[3]),d[3]?m?m.p(d,b):(m=na(d),m.c(),m.m(a,null)):m&&(m.d(1),m=null),d[3]?v?v.p(d,b):(v=ia(d),v.c(),v.m(t,null)):v&&(v.d(1),v=null)},d(d){d&&f(e),m&&m.d(),v&&v.d(),o=!1,u()}}}function na(l){let e,t="‚úï",a,s;return{c(){e=h("button"),e.textContent=t,this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-15211rw"&&(e.textContent=t),this.h()},h(){c(e,"class","btn btn-ghost btn-sm btn-circle absolute right-2 top-1/2 -translate-y-1/2")},m(n,i){j(n,e,i),a||(s=le(e,"click",l[42]),a=!0)},p:Ke,d(n){n&&f(e),a=!1,s()}}}function ia(l){let e,t,a,s=l[2].items.filter(l[43]).length+"",n,i;return{c(){e=h("label"),t=h("span"),a=B("‚úì "),n=B(s),i=B(" items encontrados"),this.h()},l(o){e=p(o,"LABEL",{class:!0});var u=y(e);t=p(u,"SPAN",{class:!0});var m=y(t);a=M(m,"‚úì "),n=M(m,s),i=M(m," items encontrados"),m.forEach(f),u.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-success"),c(e,"class","label")},m(o,u){j(o,e,u),r(e,t),r(t,a),r(t,n),r(t,i)},p(o,u){u[0]&12&&s!==(s=o[2].items.filter(o[43]).length+"")&&ee(n,s)},d(o){o&&f(e)}}}function oa(l){let e,t=l[2].currency.platinum+"",a,s;return{c(){e=h("span"),a=B(t),s=B("pp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=M(i,t),s=M(i,"pp"),i.forEach(f),this.h()},h(){c(e,"class","text-primary")},m(n,i){j(n,e,i),r(e,a),r(e,s)},p(n,i){i[0]&4&&t!==(t=n[2].currency.platinum+"")&&ee(a,t)},d(n){n&&f(e)}}}function ca(l){let e,t=l[2].currency.gold+"",a,s;return{c(){e=h("span"),a=B(t),s=B("gp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=M(i,t),s=M(i,"gp"),i.forEach(f),this.h()},h(){c(e,"class","text-warning")},m(n,i){j(n,e,i),r(e,a),r(e,s)},p(n,i){i[0]&4&&t!==(t=n[2].currency.gold+"")&&ee(a,t)},d(n){n&&f(e)}}}function ua(l){let e,t=l[2].currency.silver+"",a,s;return{c(){e=h("span"),a=B(t),s=B("sp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=M(i,t),s=M(i,"sp"),i.forEach(f),this.h()},h(){c(e,"class","text-info")},m(n,i){j(n,e,i),r(e,a),r(e,s)},p(n,i){i[0]&4&&t!==(t=n[2].currency.silver+"")&&ee(a,t)},d(n){n&&f(e)}}}function fa(l){let e,t=l[2].currency.copper+"",a,s;return{c(){e=h("span"),a=B(t),s=B("cp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=M(i,t),s=M(i,"cp"),i.forEach(f),this.h()},h(){c(e,"class","text-error")},m(n,i){j(n,e,i),r(e,a),r(e,s)},p(n,i){i[0]&4&&t!==(t=n[2].currency.copper+"")&&ee(a,t)},d(n){n&&f(e)}}}function da(l){let e,t="0 gp";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1tcucg9"&&(e.textContent=t),this.h()},h(){c(e,"class","text-neutral/50")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function pa(l){let e,t='<span class="text-xl">‚ûï</span> <span class="hidden sm:inline">Agregar</span>',a,s;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-4tu0nu"&&(e.innerHTML=t),this.h()},h(){c(e,"class","btn btn-success gap-2")},m(n,i){j(n,e,i),a||(s=le(e,"click",l[45]),a=!0)},p:Ke,d(n){n&&f(e),a=!1,s()}}}function Fr(l){let e,t=Je(l[21]),a=[];for(let s=0;s<t.length;s+=1)a[s]=Ia(la(l,t,s));return{c(){e=h("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=p(s,"DIV",{class:!0});var n=y(e);for(let i=0;i<a.length;i+=1)a[i].l(n);n.forEach(f),this.h()},h(){c(e,"class","space-y-4")},m(s,n){j(s,e,n);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null)},p(s,n){if(n[0]&1210066050|n[1]&15){t=Je(s[21]);let i;for(i=0;i<t.length;i+=1){const o=la(s,t,i);a[i]?a[i].p(o,n):(a[i]=Ia(o),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(s){s&&f(e),lt(a,s)}}}function Ur(l){let e,t,a="üéí",s,n,i="Inventario Vac√≠o",o,u,m;function v(E,g){return E[1]?Kr:Jr}let d=v(l),b=d(l),_=l[1]&&xa(l);return{c(){e=h("div"),t=h("div"),t.textContent=a,s=D(),n=h("h3"),n.textContent=i,o=D(),u=h("p"),b.c(),m=D(),_&&_.c(),this.h()},l(E){e=p(E,"DIV",{class:!0});var g=y(e);t=p(g,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1bcp5wx"&&(t.textContent=a),s=k(g),n=p(g,"H3",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-1uno1fu"&&(n.textContent=i),o=k(g),u=p(g,"P",{class:!0});var C=y(u);b.l(C),C.forEach(f),m=k(g),_&&_.l(g),g.forEach(f),this.h()},h(){c(t,"class","text-6xl mb-4"),c(n,"class","text-2xl font-medieval text-neutral mb-2"),c(u,"class","text-neutral/70 font-body mb-4"),c(e,"class","card-parchment p-12 text-center")},m(E,g){j(E,e,g),r(e,t),r(e,s),r(e,n),r(e,o),r(e,u),b.m(u,null),r(e,m),_&&_.m(e,null)},p(E,g){d!==(d=v(E))&&(b.d(1),b=d(E),b&&(b.c(),b.m(u,null))),E[1]?_?_.p(E,g):(_=xa(E),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},d(E){E&&f(e),b.d(),_&&_.d()}}}function ha(l){let e,t,a,s,n,i,o=l[80]+1+"",u,m,v=l[79]+"",d,b,_,E,g,C,w;function I(){return l[47](l[76])}function A(){return l[48](l[76])}return{c(){e=h("div"),t=h("button"),a=B("‚óÄ"),n=D(),i=h("span"),u=B(o),m=B(" / "),d=B(v),b=D(),_=h("button"),E=B("‚ñ∂"),this.h()},l(x){e=p(x,"DIV",{class:!0});var P=y(e);t=p(P,"BUTTON",{class:!0});var N=y(t);a=M(N,"‚óÄ"),N.forEach(f),n=k(P),i=p(P,"SPAN",{class:!0});var T=y(i);u=M(T,o),m=M(T," / "),d=M(T,v),T.forEach(f),b=k(P),_=p(P,"BUTTON",{class:!0});var H=y(_);E=M(H,"‚ñ∂"),H.forEach(f),P.forEach(f),this.h()},h(){c(t,"class","btn btn-xs btn-circle btn-ghost"),t.disabled=s=l[80]===0,c(i,"class","text-xs"),c(_,"class","btn btn-xs btn-circle btn-ghost"),_.disabled=g=l[80]>=l[79]-1,c(e,"class","flex items-center gap-2")},m(x,P){j(x,e,P),r(e,t),r(t,a),r(e,n),r(e,i),r(i,u),r(i,m),r(i,d),r(e,b),r(e,_),r(_,E),C||(w=[le(t,"click",I),le(_,"click",A)],C=!0)},p(x,P){l=x,P[0]&2097280&&s!==(s=l[80]===0)&&(t.disabled=s),P[0]&2097280&&o!==(o=l[80]+1+"")&&ee(u,o),P[0]&2097152&&v!==(v=l[79]+"")&&ee(d,v),P[0]&2097280&&g!==(g=l[80]>=l[79]-1)&&(_.disabled=g)},d(x){x&&f(e),C=!1,at(w)}}}function ma(l){let e,t,a=l[83].quantity+"",s;return{c(){e=h("span"),t=B("√ó"),s=B(a),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);t=M(i,"√ó"),s=M(i,a),i.forEach(f),this.h()},h(){c(e,"class","badge badge-sm badge-neutral")},m(n,i){j(n,e,i),r(e,t),r(e,s)},p(n,i){i[0]&2097152&&a!==(a=n[83].quantity+"")&&ee(s,a)},d(n){n&&f(e)}}}function va(l){let e,t,a=rt(l[83].value*l[83].quantity)+"",s,n;return{c(){e=h("span"),t=B("üí∞ "),s=B(a),n=B(" gp"),this.h()},l(i){e=p(i,"SPAN",{class:!0});var o=y(e);t=M(o,"üí∞ "),s=M(o,a),n=M(o," gp"),o.forEach(f),this.h()},h(){c(e,"class","badge badge-ghost badge-xs")},m(i,o){j(i,e,o),r(e,t),r(e,s),r(e,n)},p(i,o){o[0]&2097152&&a!==(a=rt(i[83].value*i[83].quantity)+"")&&ee(s,a)},d(i){i&&f(e)}}}function ba(l){let e,t=Oa(l[83].rarity)+"",a,s;return{c(){e=h("span"),a=B(t),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=M(i,t),i.forEach(f),this.h()},h(){c(e,"class",s="badge badge-xs "+Ha(l[83].rarity))},m(n,i){j(n,e,i),r(e,a)},p(n,i){i[0]&2097152&&t!==(t=Oa(n[83].rarity)+"")&&ee(a,t),i[0]&2097152&&s!==(s="badge badge-xs "+Ha(n[83].rarity))&&c(e,"class",s)},d(n){n&&f(e)}}}function _a(l){let e,t,a=l[83].weaponData.damageDice+"",s,n,i,o=l[83].weaponData.properties.versatile&&ga(l),u=l[83].weaponData.damageType&&Ea(l),m=l[83].weaponData.magicBonus&&l[83].weaponData.magicBonus>0&&ya(l);return{c(){e=h("span"),t=B("‚öîÔ∏è "),s=B(a),o&&o.c(),n=D(),u&&u.c(),i=D(),m&&m.c(),this.h()},l(v){e=p(v,"SPAN",{class:!0});var d=y(e);t=M(d,"‚öîÔ∏è "),s=M(d,a),o&&o.l(d),n=k(d),u&&u.l(d),i=k(d),m&&m.l(d),d.forEach(f),this.h()},h(){c(e,"class","badge badge-error badge-xs")},m(v,d){j(v,e,d),r(e,t),r(e,s),o&&o.m(e,null),r(e,n),u&&u.m(e,null),r(e,i),m&&m.m(e,null)},p(v,d){d[0]&2097152&&a!==(a=v[83].weaponData.damageDice+"")&&ee(s,a),v[83].weaponData.properties.versatile?o?o.p(v,d):(o=ga(v),o.c(),o.m(e,n)):o&&(o.d(1),o=null),v[83].weaponData.damageType?u?u.p(v,d):(u=Ea(v),u.c(),u.m(e,i)):u&&(u.d(1),u=null),v[83].weaponData.magicBonus&&v[83].weaponData.magicBonus>0?m?m.p(v,d):(m=ya(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(v){v&&f(e),o&&o.d(),u&&u.d(),m&&m.d()}}}function ga(l){let e,t=l[83].weaponData.properties.versatile+"",a;return{c(){e=B("/"),a=B(t)},l(s){e=M(s,"/"),a=M(s,t)},m(s,n){j(s,e,n),j(s,a,n)},p(s,n){n[0]&2097152&&t!==(t=s[83].weaponData.properties.versatile+"")&&ee(a,t)},d(s){s&&(f(e),f(a))}}}function Ea(l){let e=l[83].weaponData.damageType+"",t;return{c(){t=B(e)},l(a){t=M(a,e)},m(a,s){j(a,t,s)},p(a,s){s[0]&2097152&&e!==(e=a[83].weaponData.damageType+"")&&ee(t,e)},d(a){a&&f(t)}}}function ya(l){let e,t=l[83].weaponData.magicBonus+"",a;return{c(){e=B("+"),a=B(t)},l(s){e=M(s,"+"),a=M(s,t)},m(s,n){j(s,e,n),j(s,a,n)},p(s,n){n[0]&2097152&&t!==(t=s[83].weaponData.magicBonus+"")&&ee(a,t)},d(s){s&&(f(e),f(a))}}}function Ca(l){let e;function t(n,i){return n[83].armorData.armorType==="Shield"?Rr:zr}let a=t(l),s=a(l);return{c(){e=h("span"),s.c(),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);s.l(i),i.forEach(f),this.h()},h(){c(e,"class","badge badge-info badge-xs")},m(n,i){j(n,e,i),s.m(e,null)},p(n,i){a===(a=t(n))&&s?s.p(n,i):(s.d(1),s=a(n),s&&(s.c(),s.m(e,null)))},d(n){n&&f(e),s.d()}}}function zr(l){let e,t=l[83].armorData.baseAC+"",a,s=l[83].armorData.magicBonus?`+${l[83].armorData.magicBonus}`:"",n;return{c(){e=B("AC "),a=B(t),n=B(s)},l(i){e=M(i,"AC "),a=M(i,t),n=M(i,s)},m(i,o){j(i,e,o),j(i,a,o),j(i,n,o)},p(i,o){o[0]&2097152&&t!==(t=i[83].armorData.baseAC+"")&&ee(a,t),o[0]&2097152&&s!==(s=i[83].armorData.magicBonus?`+${i[83].armorData.magicBonus}`:"")&&ee(n,s)},d(i){i&&(f(e),f(a),f(n))}}}function Rr(l){let e,t=(l[83].armorData.baseAC||2)+"",a,s=l[83].armorData.magicBonus?`+${l[83].armorData.magicBonus}`:"",n,i;return{c(){e=B("+"),a=B(t),n=B(s),i=B(" AC")},l(o){e=M(o,"+"),a=M(o,t),n=M(o,s),i=M(o," AC")},m(o,u){j(o,e,u),j(o,a,u),j(o,n,u),j(o,i,u)},p(o,u){u[0]&2097152&&t!==(t=(o[83].armorData.baseAC||2)+"")&&ee(a,t),u[0]&2097152&&s!==(s=o[83].armorData.magicBonus?`+${o[83].armorData.magicBonus}`:"")&&ee(n,s)},d(o){o&&(f(e),f(a),f(n),f(i))}}}function ka(l){let e,t,a;function s(o,u){return o[13]===o[83].id?Qr:Gr}let n=s(l),i=n(l);return{c(){e=h("div"),i.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var u=y(e);i.l(u),u.forEach(f),this.h()},h(){c(e,"class","dropdown dropdown-end flex-shrink-0")},m(o,u){j(o,e,u),i.m(e,null),t||(a=le(e,"click",kt(l[38])),t=!0)},p(o,u){n===(n=s(o))&&i?i.p(o,u):(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},d(o){o&&f(e),i.d(),t=!1,a()}}}function Gr(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',a,s,n,i,o="‚úèÔ∏è Modificar",u,m,v,d="üóëÔ∏è Eliminar",b,_;function E(){return l[49](l[83])}function g(){return l[50](l[83])}return{c(){e=h("label"),e.innerHTML=t,a=D(),s=h("ul"),n=h("li"),i=h("a"),i.textContent=o,u=D(),m=h("li"),v=h("a"),v.textContent=d,this.h()},l(C){e=p(C,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1k5uepk"&&(e.innerHTML=t),a=k(C),s=p(C,"UL",{tabindex:!0,class:!0});var w=y(s);n=p(w,"LI",{});var I=y(n);i=p(I,"A",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-jpzwe"&&(i.textContent=o),I.forEach(f),u=k(w),m=p(w,"LI",{});var A=y(m);v=p(A,"A",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-1312pp7"&&(v.textContent=d),A.forEach(f),w.forEach(f),this.h()},h(){c(e,"tabindex","0"),c(e,"class","btn btn-ghost btn-xs btn-circle"),c(i,"class","text-secondary"),c(v,"class","text-error"),c(s,"tabindex","0"),c(s,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-48 border-2 border-secondary text-xs")},m(C,w){j(C,e,w),j(C,a,w),j(C,s,w),r(s,n),r(n,i),r(s,u),r(s,m),r(m,v),b||(_=[le(i,"click",kt(E)),le(v,"click",kt(g))],b=!0)},p(C,w){l=C},d(C){C&&(f(e),f(a),f(s)),b=!1,at(_)}}}function Qr(l){let e,t='<span class="loading loading-spinner loading-xs"></span>';return{c(){e=h("button"),e.innerHTML=t,this.h()},l(a){e=p(a,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-vc12vo"&&(e.innerHTML=t),this.h()},h(){c(e,"class","btn btn-ghost btn-xs btn-circle"),e.disabled=!0},m(a,s){j(a,e,s)},p:Ke,d(a){a&&f(e)}}}function Da(l){let e,t=l[83].description+"",a;return{c(){e=h("p"),a=B(t),this.h()},l(s){e=p(s,"P",{class:!0});var n=y(e);a=M(n,t),n.forEach(f),this.h()},h(){c(e,"class","text-xs text-neutral/70 line-clamp-2 mt-1")},m(s,n){j(s,e,n),r(e,a)},p(s,n){n[0]&2097152&&t!==(t=s[83].description+"")&&ee(a,t)},d(s){s&&f(e)}}}function wa(l){let e,t,a,s,n=l[83].name+"",i,o,u,m,v,d,b,_,E,g,C,w,I,A=l[83].quantity>1&&ma(l),x=l[83].value>0&&va(l),P=l[83].rarity&&ba(l),N=l[83].weaponData&&_a(l),T=l[83].armorData&&Ca(l),H=l[1]&&ka(l),V=l[83].description&&Da(l);function L(){return l[51](l[83])}return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("h4"),i=B(n),o=D(),A&&A.c(),u=D(),m=h("div"),x&&x.c(),v=D(),P&&P.c(),d=D(),N&&N.c(),b=D(),T&&T.c(),_=D(),H&&H.c(),E=D(),V&&V.c(),g=D(),this.h()},l(S){e=p(S,"DIV",{class:!0});var O=y(e);t=p(O,"DIV",{class:!0});var q=y(t);a=p(q,"DIV",{class:!0});var F=y(a);s=p(F,"H4",{class:!0});var W=y(s);i=M(W,n),o=k(W),A&&A.l(W),W.forEach(f),u=k(F),m=p(F,"DIV",{class:!0});var z=y(m);x&&x.l(z),v=k(z),P&&P.l(z),d=k(z),N&&N.l(z),b=k(z),T&&T.l(z),z.forEach(f),F.forEach(f),_=k(q),H&&H.l(q),q.forEach(f),E=k(O),V&&V.l(O),g=k(O),O.forEach(f),this.h()},h(){c(s,"class","font-medieval font-bold text-neutral truncate flex items-center gap-2"),c(m,"class","flex flex-wrap gap-1 mt-1"),c(a,"class","flex-1 min-w-0"),c(t,"class","flex items-start justify-between gap-2 mb-2"),c(e,"class",C="bg-gradient-to-br from-primary/5 to-accent/5 p-3 rounded-lg border-2 "+(l[13]===l[83].id?"opacity-50":"")+" transition-all hover:shadow-md cursor-pointer")},m(S,O){j(S,e,O),r(e,t),r(t,a),r(a,s),r(s,i),r(s,o),A&&A.m(s,null),r(a,u),r(a,m),x&&x.m(m,null),r(m,v),P&&P.m(m,null),r(m,d),N&&N.m(m,null),r(m,b),T&&T.m(m,null),r(t,_),H&&H.m(t,null),r(e,E),V&&V.m(e,null),r(e,g),w||(I=le(e,"click",L),w=!0)},p(S,O){l=S,O[0]&2097152&&n!==(n=l[83].name+"")&&ee(i,n),l[83].quantity>1?A?A.p(l,O):(A=ma(l),A.c(),A.m(s,null)):A&&(A.d(1),A=null),l[83].value>0?x?x.p(l,O):(x=va(l),x.c(),x.m(m,v)):x&&(x.d(1),x=null),l[83].rarity?P?P.p(l,O):(P=ba(l),P.c(),P.m(m,d)):P&&(P.d(1),P=null),l[83].weaponData?N?N.p(l,O):(N=_a(l),N.c(),N.m(m,b)):N&&(N.d(1),N=null),l[83].armorData?T?T.p(l,O):(T=Ca(l),T.c(),T.m(m,null)):T&&(T.d(1),T=null),l[1]?H?H.p(l,O):(H=ka(l),H.c(),H.m(t,null)):H&&(H.d(1),H=null),l[83].description?V?V.p(l,O):(V=Da(l),V.c(),V.m(e,g)):V&&(V.d(1),V=null),O[0]&2105344&&C!==(C="bg-gradient-to-br from-primary/5 to-accent/5 p-3 rounded-lg border-2 "+(l[13]===l[83].id?"opacity-50":"")+" transition-all hover:shadow-md cursor-pointer")&&c(e,"class",C)},d(S){S&&f(e),A&&A.d(),x&&x.d(),P&&P.d(),N&&N.d(),T&&T.d(),H&&H.d(),V&&V.d(),w=!1,I()}}}function Ia(l){let e,t,a,s,n,i=Ma(l[76])+"",o,u,m,v=Ba(l[76])+"",d,b,_,E=l[77].length+"",g,C,w,I=l[77].reduce(qa,0)+"",A,x,P,N,T,H,V=l[79]>1&&ha(l),L=Je(l[78]),S=[];for(let O=0;O<L.length;O+=1)S[O]=wa(aa(l,L,O));return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("div"),n=h("span"),o=B(i),u=D(),m=h("h3"),d=B(v),b=D(),_=h("span"),g=B(E),C=D(),w=h("span"),A=B(I),x=B(" items"),P=D(),V&&V.c(),N=D(),T=h("div");for(let O=0;O<S.length;O+=1)S[O].c();H=D(),this.h()},l(O){e=p(O,"DIV",{class:!0});var q=y(e);t=p(q,"DIV",{class:!0});var F=y(t);a=p(F,"DIV",{class:!0});var W=y(a);s=p(W,"DIV",{class:!0});var z=y(s);n=p(z,"SPAN",{class:!0});var U=y(n);o=M(U,i),U.forEach(f),u=k(z),m=p(z,"H3",{class:!0});var ae=y(m);d=M(ae,v),ae.forEach(f),b=k(z),_=p(z,"SPAN",{class:!0});var R=y(_);g=M(R,E),R.forEach(f),C=k(z),w=p(z,"SPAN",{class:!0});var J=y(w);A=M(J,I),x=M(J," items"),J.forEach(f),z.forEach(f),P=k(W),V&&V.l(W),W.forEach(f),N=k(F),T=p(F,"DIV",{class:!0});var X=y(T);for(let Y=0;Y<S.length;Y+=1)S[Y].l(X);X.forEach(f),F.forEach(f),H=k(q),q.forEach(f),this.h()},h(){c(n,"class","text-2xl"),c(m,"class","text-xl font-medieval text-neutral"),c(_,"class","badge badge-secondary badge-sm"),c(w,"class","badge badge-ghost badge-sm"),c(s,"class","flex items-center gap-2 flex-1"),c(a,"class","flex items-center justify-between mb-3"),c(T,"class","grid grid-cols-1 md:grid-cols-2 gap-3"),c(t,"class","card-body p-4"),c(e,"class","card-parchment")},m(O,q){j(O,e,q),r(e,t),r(t,a),r(a,s),r(s,n),r(n,o),r(s,u),r(s,m),r(m,d),r(s,b),r(s,_),r(_,g),r(s,C),r(s,w),r(w,A),r(w,x),r(a,P),V&&V.m(a,null),r(t,N),r(t,T);for(let F=0;F<S.length;F+=1)S[F]&&S[F].m(T,null);r(e,H)},p(O,q){if(q[0]&2097152&&i!==(i=Ma(O[76])+"")&&ee(o,i),q[0]&2097152&&v!==(v=Ba(O[76])+"")&&ee(d,v),q[0]&2098176&&E!==(E=O[77].length+"")&&ee(g,E),q[0]&2098176&&I!==(I=O[77].reduce(qa,0)+"")&&ee(A,I),O[79]>1?V?V.p(O,q):(V=ha(O),V.c(),V.m(a,null)):V&&(V.d(1),V=null),q[0]&1210064898|q[1]&3){L=Je(O[78]);let F;for(F=0;F<L.length;F+=1){const W=aa(O,L,F);S[F]?S[F].p(W,q):(S[F]=wa(W),S[F].c(),S[F].m(T,null))}for(;F<S.length;F+=1)S[F].d(1);S.length=L.length}},d(O){O&&f(e),V&&V.d(),lt(S,O)}}}function Jr(l){let e;return{c(){e=B("Este personaje no tiene items a√∫n")},l(t){e=M(t,"Este personaje no tiene items a√∫n")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Kr(l){let e;return{c(){e=B("Agrega tu primer item para comenzar")},l(t){e=M(t,"Agrega tu primer item para comenzar")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function xa(l){let e,t=`<span class="text-xl">‚ûï</span>
            Agregar Primer Item`,a,s;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1gd3ivp"&&(e.innerHTML=t),this.h()},h(){c(e,"class","btn btn-primary")},m(n,i){j(n,e,i),a||(s=le(e,"click",l[46]),a=!0)},p:Ke,d(n){n&&f(e),a=!1,s()}}}function Wr(l){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),y(e).forEach(f),this.h()},h(){c(e,"class","skeleton h-24 w-full")},m(t,a){j(t,e,a)},p:Ke,d(t){t&&f(e)}}}function Ta(l){let e,t,a,s="‚úï",n,i,o,u="üí∞ Gestionar Monedas",m,v,d,b,_=l[19]?"Ocultar":"Mostrar",E,g,C,w,I,A,x,P='<span class="label-text font-medieval text-neutral">Platino (pp)</span> <span class="label-text-alt text-neutral/60">10 gp c/u</span>',N,T,H,V,L,S,O,q='<span class="label-text font-medieval text-neutral">Oro (gp)</span>',F,W,z,U,ae,R,J,X='<span class="label-text font-medieval text-neutral">Plata (sp)</span> <span class="label-text-alt text-neutral/60">0.1 gp c/u</span>',Y,Q,G,te,se,ce,fe,ye='<span class="label-text font-medieval text-neutral">Cobre (cp)</span> <span class="label-text-alt text-neutral/60">0.01 gp c/u</span>',we,Z,de,be,Ce,Fe,Ve,ke="Valor Total en Oro (gp):",oe,ue,me=rt(l[4].platinum*10+l[4].gold+l[4].silver*.1+l[4].copper*.01)+"",Te,he,_e,Be,He,Pe="Cancelar",ne,Ie,ze,Ge,je,Ne,Oe=l[19]&&Va(l),Se=l[5].platinum&&l[6].platinum&&La(l),Re=l[5].gold&&l[6].gold&&Pa(l),ge=l[5].silver&&l[6].silver&&Sa(l),Me=l[5].copper&&l[6].copper&&Na(l);return{c(){e=h("div"),t=h("div"),a=h("button"),a.textContent=s,n=D(),i=h("div"),o=h("h3"),o.textContent=u,m=D(),v=h("div"),d=h("button"),b=B("üîÑ "),E=B(_),g=B(" Calculadora de Conversi√≥n"),C=D(),Oe&&Oe.c(),w=D(),I=h("div"),A=h("div"),x=h("label"),x.innerHTML=P,N=D(),T=h("input"),V=D(),Se&&Se.c(),L=D(),S=h("div"),O=h("label"),O.innerHTML=q,F=D(),W=h("input"),U=D(),Re&&Re.c(),ae=D(),R=h("div"),J=h("label"),J.innerHTML=X,Y=D(),Q=h("input"),te=D(),ge&&ge.c(),se=D(),ce=h("div"),fe=h("label"),fe.innerHTML=ye,we=D(),Z=h("input"),be=D(),Me&&Me.c(),Ce=D(),Fe=h("div"),Ve=h("p"),Ve.textContent=ke,oe=D(),ue=h("p"),Te=B(me),he=B(" gp"),_e=D(),Be=h("div"),He=h("button"),He.textContent=Pe,ne=D(),Ie=h("button"),ze=B("üí∞ Actualizar Monedas"),this.h()},l(re){e=p(re,"DIV",{class:!0});var Ae=y(e);t=p(Ae,"DIV",{class:!0});var $=y(t);a=p($,"BUTTON",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1bq4q6z"&&(a.textContent=s),n=k($),i=p($,"DIV",{class:!0});var ve=y(i);o=p(ve,"H3",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-1bizsdp"&&(o.textContent=u),m=k(ve),v=p(ve,"DIV",{class:!0});var Le=y(v);d=p(Le,"BUTTON",{class:!0});var ie=y(d);b=M(ie,"üîÑ "),E=M(ie,_),g=M(ie," Calculadora de Conversi√≥n"),ie.forEach(f),Le.forEach(f),C=k(ve),Oe&&Oe.l(ve),w=k(ve),I=p(ve,"DIV",{class:!0});var De=y(I);A=p(De,"DIV",{class:!0});var Ee=y(A);x=p(Ee,"LABEL",{class:!0,"data-svelte-h":!0}),K(x)!=="svelte-yyxksc"&&(x.innerHTML=P),N=k(Ee),T=p(Ee,"INPUT",{type:!0,min:!0,class:!0}),V=k(Ee),Se&&Se.l(Ee),Ee.forEach(f),L=k(De),S=p(De,"DIV",{class:!0});var Qe=y(S);O=p(Qe,"LABEL",{class:!0,"data-svelte-h":!0}),K(O)!=="svelte-1hnm55z"&&(O.innerHTML=q),F=k(Qe),W=p(Qe,"INPUT",{type:!0,min:!0,class:!0}),U=k(Qe),Re&&Re.l(Qe),Qe.forEach(f),ae=k(De),R=p(De,"DIV",{class:!0});var Xe=y(R);J=p(Xe,"LABEL",{class:!0,"data-svelte-h":!0}),K(J)!=="svelte-auuhws"&&(J.innerHTML=X),Y=k(Xe),Q=p(Xe,"INPUT",{type:!0,min:!0,class:!0}),te=k(Xe),ge&&ge.l(Xe),Xe.forEach(f),se=k(De),ce=p(De,"DIV",{class:!0});var We=y(ce);fe=p(We,"LABEL",{class:!0,"data-svelte-h":!0}),K(fe)!=="svelte-glv807"&&(fe.innerHTML=ye),we=k(We),Z=p(We,"INPUT",{type:!0,min:!0,class:!0}),be=k(We),Me&&Me.l(We),We.forEach(f),De.forEach(f),Ce=k(ve),Fe=p(ve,"DIV",{class:!0});var pe=y(Fe);Ve=p(pe,"P",{class:!0,"data-svelte-h":!0}),K(Ve)!=="svelte-13m8np5"&&(Ve.textContent=ke),oe=k(pe),ue=p(pe,"P",{class:!0});var qe=y(ue);Te=M(qe,me),he=M(qe," gp"),qe.forEach(f),pe.forEach(f),_e=k(ve),Be=p(ve,"DIV",{class:!0});var et=y(Be);He=p(et,"BUTTON",{class:!0,"data-svelte-h":!0}),K(He)!=="svelte-e287bb"&&(He.textContent=Pe),ne=k(et),Ie=p(et,"BUTTON",{class:!0});var st=y(Ie);ze=M(st,"üí∞ Actualizar Monedas"),st.forEach(f),et.forEach(f),ve.forEach(f),$.forEach(f),Ae.forEach(f),this.h()},h(){c(a,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-2xl font-medieval text-neutral text-center mb-4"),c(d,"class","btn btn-sm btn-outline w-full"),c(v,"class","mb-4"),c(x,"class","label"),c(T,"type","number"),c(T,"min","0"),c(T,"class",H="input input-bordered bg-[#2d241c] text-base-content "+(l[5].platinum&&l[6].platinum?"border-error border-2":"border-primary/50")),c(A,"class","form-control"),c(O,"class","label"),c(W,"type","number"),c(W,"min","0"),c(W,"class",z="input input-bordered bg-[#2d241c] text-base-content "+(l[5].gold&&l[6].gold?"border-error border-2":"border-primary/50")),c(S,"class","form-control"),c(J,"class","label"),c(Q,"type","number"),c(Q,"min","0"),c(Q,"class",G="input input-bordered bg-[#2d241c] text-base-content "+(l[5].silver&&l[6].silver?"border-error border-2":"border-primary/50")),c(R,"class","form-control"),c(fe,"class","label"),c(Z,"type","number"),c(Z,"min","0"),c(Z,"class",de="input input-bordered bg-[#2d241c] text-base-content "+(l[5].copper&&l[6].copper?"border-error border-2":"border-primary/50")),c(ce,"class","form-control"),c(I,"class","space-y-3"),c(Ve,"class","text-xs font-medieval mb-1"),c(ue,"class","text-lg font-bold text-success"),c(Fe,"class","bg-success/10 p-3 rounded-lg border border-success/30 mt-3"),c(He,"class","btn btn-ghost"),c(Ie,"class","btn btn-primary"),Ie.disabled=Ge=!l[22],c(Be,"class","card-actions justify-end mt-4"),c(i,"class","card-body"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-2xl relative"),c(e,"class","modal modal-open z-50")},m(re,Ae){j(re,e,Ae),r(e,t),r(t,a),r(t,n),r(t,i),r(i,o),r(i,m),r(i,v),r(v,d),r(d,b),r(d,E),r(d,g),r(i,C),Oe&&Oe.m(i,null),r(i,w),r(i,I),r(I,A),r(A,x),r(A,N),r(A,T),xe(T,l[4].platinum),r(A,V),Se&&Se.m(A,null),r(I,L),r(I,S),r(S,O),r(S,F),r(S,W),xe(W,l[4].gold),r(S,U),Re&&Re.m(S,null),r(I,ae),r(I,R),r(R,J),r(R,Y),r(R,Q),xe(Q,l[4].silver),r(R,te),ge&&ge.m(R,null),r(I,se),r(I,ce),r(ce,fe),r(ce,we),r(ce,Z),xe(Z,l[4].copper),r(ce,be),Me&&Me.m(ce,null),r(i,Ce),r(i,Fe),r(Fe,Ve),r(Fe,oe),r(Fe,ue),r(ue,Te),r(ue,he),r(i,_e),r(i,Be),r(Be,He),r(Be,ne),r(Be,Ie),r(Ie,ze),je||(Ne=[le(a,"click",l[58]),le(d,"click",l[59]),le(T,"input",l[62]),le(T,"blur",l[63]),le(W,"input",l[64]),le(W,"blur",l[65]),le(Q,"input",l[66]),le(Q,"blur",l[67]),le(Z,"input",l[68]),le(Z,"blur",l[69]),le(He,"click",l[70]),le(Ie,"click",l[28]),le(t,"click",kt(l[37])),le(e,"click",l[71])],je=!0)},p(re,Ae){Ae[0]&524288&&_!==(_=re[19]?"Ocultar":"Mostrar")&&ee(E,_),re[19]?Oe?Oe.p(re,Ae):(Oe=Va(re),Oe.c(),Oe.m(i,w)):Oe&&(Oe.d(1),Oe=null),Ae[0]&96&&H!==(H="input input-bordered bg-[#2d241c] text-base-content "+(re[5].platinum&&re[6].platinum?"border-error border-2":"border-primary/50"))&&c(T,"class",H),Ae[0]&16&&Ue(T.value)!==re[4].platinum&&xe(T,re[4].platinum),re[5].platinum&&re[6].platinum?Se?Se.p(re,Ae):(Se=La(re),Se.c(),Se.m(A,null)):Se&&(Se.d(1),Se=null),Ae[0]&96&&z!==(z="input input-bordered bg-[#2d241c] text-base-content "+(re[5].gold&&re[6].gold?"border-error border-2":"border-primary/50"))&&c(W,"class",z),Ae[0]&16&&Ue(W.value)!==re[4].gold&&xe(W,re[4].gold),re[5].gold&&re[6].gold?Re?Re.p(re,Ae):(Re=Pa(re),Re.c(),Re.m(S,null)):Re&&(Re.d(1),Re=null),Ae[0]&96&&G!==(G="input input-bordered bg-[#2d241c] text-base-content "+(re[5].silver&&re[6].silver?"border-error border-2":"border-primary/50"))&&c(Q,"class",G),Ae[0]&16&&Ue(Q.value)!==re[4].silver&&xe(Q,re[4].silver),re[5].silver&&re[6].silver?ge?ge.p(re,Ae):(ge=Sa(re),ge.c(),ge.m(R,null)):ge&&(ge.d(1),ge=null),Ae[0]&96&&de!==(de="input input-bordered bg-[#2d241c] text-base-content "+(re[5].copper&&re[6].copper?"border-error border-2":"border-primary/50"))&&c(Z,"class",de),Ae[0]&16&&Ue(Z.value)!==re[4].copper&&xe(Z,re[4].copper),re[5].copper&&re[6].copper?Me?Me.p(re,Ae):(Me=Na(re),Me.c(),Me.m(ce,null)):Me&&(Me.d(1),Me=null),Ae[0]&16&&me!==(me=rt(re[4].platinum*10+re[4].gold+re[4].silver*.1+re[4].copper*.01)+"")&&ee(Te,me),Ae[0]&4194304&&Ge!==(Ge=!re[22])&&(Ie.disabled=Ge)},d(re){re&&f(e),Oe&&Oe.d(),Se&&Se.d(),Re&&Re.d(),ge&&ge.d(),Me&&Me.d(),je=!1,at(Ne)}}}function Va(l){let e,t,a="Calculadora de Monedas",s,n,i,o,u,m,v="Cobre (cp)",d,b="Plata (sp)",_,E="Oro (gp)",g,C="Platino (pp)",w,I,A,x=l[8]>0&&Aa(l);return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div"),i=h("input"),o=D(),u=h("select"),m=h("option"),m.textContent=v,d=h("option"),d.textContent=b,_=h("option"),_.textContent=E,g=h("option"),g.textContent=C,w=D(),x&&x.c(),this.h()},l(P){e=p(P,"DIV",{class:!0});var N=y(e);t=p(N,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-xg16f"&&(t.textContent=a),s=k(N),n=p(N,"DIV",{class:!0});var T=y(n);i=p(T,"INPUT",{type:!0,placeholder:!0,class:!0}),o=k(T),u=p(T,"SELECT",{class:!0});var H=y(u);m=p(H,"OPTION",{"data-svelte-h":!0}),K(m)!=="svelte-ep68vs"&&(m.textContent=v),d=p(H,"OPTION",{"data-svelte-h":!0}),K(d)!=="svelte-t2zfkx"&&(d.textContent=b),_=p(H,"OPTION",{"data-svelte-h":!0}),K(_)!=="svelte-gdqh7j"&&(_.textContent=E),g=p(H,"OPTION",{"data-svelte-h":!0}),K(g)!=="svelte-fp2d4o"&&(g.textContent=C),H.forEach(f),T.forEach(f),w=k(N),x&&x.l(N),N.forEach(f),this.h()},h(){c(t,"class","font-medieval text-sm mb-2"),c(i,"type","number"),c(i,"placeholder","Cantidad"),c(i,"class","input input-sm input-bordered bg-[#2d241c]"),m.__value="cp",xe(m,m.__value),d.__value="sp",xe(d,d.__value),_.__value="gp",xe(_,_.__value),g.__value="pp",xe(g,g.__value),c(u,"class","select select-sm select-bordered bg-[#2d241c]"),l[9]===void 0&&xs(()=>l[61].call(u)),c(n,"class","grid grid-cols-2 gap-2"),c(e,"class","bg-info/10 p-4 rounded-lg border border-info/30 mb-4")},m(P,N){j(P,e,N),r(e,t),r(e,s),r(e,n),r(n,i),xe(i,l[8]),r(n,o),r(n,u),r(u,m),r(u,d),r(u,_),r(u,g),jt(u,l[9],!0),r(e,w),x&&x.m(e,null),I||(A=[le(i,"input",l[60]),le(u,"change",l[61])],I=!0)},p(P,N){N[0]&256&&Ue(i.value)!==P[8]&&xe(i,P[8]),N[0]&512&&jt(u,P[9]),P[8]>0?x?x.p(P,N):(x=Aa(P),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},d(P){P&&f(e),x&&x.d(),I=!1,at(A)}}}function Aa(l){let e,t,a,s,n,i,o,u,m,v,d=rt(l[23].cp)+"",b,_,E,g,C,w=rt(l[23].sp)+"",I,A,x,P,N,T=rt(l[23].gp)+"",H,V,L,S,O,q=rt(l[23].pp)+"",F,W;return{c(){e=h("div"),t=h("p"),a=h("strong"),s=B(l[8]),n=D(),i=B(l[9]),o=B(" equivale a:"),u=D(),m=h("p"),v=B("ü•â "),b=B(d),_=B(" cp"),E=D(),g=h("p"),C=B("ü•à "),I=B(w),A=B(" sp"),x=D(),P=h("p"),N=B("ü•á "),H=B(T),V=B(" gp"),L=D(),S=h("p"),O=B("üíé "),F=B(q),W=B(" pp"),this.h()},l(z){e=p(z,"DIV",{class:!0});var U=y(e);t=p(U,"P",{});var ae=y(t);a=p(ae,"STRONG",{});var R=y(a);s=M(R,l[8]),n=k(R),i=M(R,l[9]),R.forEach(f),o=M(ae," equivale a:"),ae.forEach(f),u=k(U),m=p(U,"P",{});var J=y(m);v=M(J,"ü•â "),b=M(J,d),_=M(J," cp"),J.forEach(f),E=k(U),g=p(U,"P",{});var X=y(g);C=M(X,"ü•à "),I=M(X,w),A=M(X," sp"),X.forEach(f),x=k(U),P=p(U,"P",{});var Y=y(P);N=M(Y,"ü•á "),H=M(Y,T),V=M(Y," gp"),Y.forEach(f),L=k(U),S=p(U,"P",{});var Q=y(S);O=M(Q,"üíé "),F=M(Q,q),W=M(Q," pp"),Q.forEach(f),U.forEach(f),this.h()},h(){c(e,"class","mt-3 text-xs space-y-1")},m(z,U){j(z,e,U),r(e,t),r(t,a),r(a,s),r(a,n),r(a,i),r(t,o),r(e,u),r(e,m),r(m,v),r(m,b),r(m,_),r(e,E),r(e,g),r(g,C),r(g,I),r(g,A),r(e,x),r(e,P),r(P,N),r(P,H),r(P,V),r(e,L),r(e,S),r(S,O),r(S,F),r(S,W)},p(z,U){U[0]&256&&ee(s,z[8]),U[0]&512&&ee(i,z[9]),U[0]&8388608&&d!==(d=rt(z[23].cp)+"")&&ee(b,d),U[0]&8388608&&w!==(w=rt(z[23].sp)+"")&&ee(I,w),U[0]&8388608&&T!==(T=rt(z[23].gp)+"")&&ee(H,T),U[0]&8388608&&q!==(q=rt(z[23].pp)+"")&&ee(F,q)},d(z){z&&f(e)}}}function La(l){let e,t,a,s=l[5].platinum+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&32&&s!==(s=i[5].platinum+"")&&ee(n,s)},d(i){i&&f(e)}}}function Pa(l){let e,t,a,s=l[5].gold+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&32&&s!==(s=i[5].gold+"")&&ee(n,s)},d(i){i&&f(e)}}}function Sa(l){let e,t,a,s=l[5].silver+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&32&&s!==(s=i[5].silver+"")&&ee(n,s)},d(i){i&&f(e)}}}function Na(l){let e,t,a,s=l[5].copper+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&32&&s!==(s=i[5].copper+"")&&ee(n,s)},d(i){i&&f(e)}}}function Xr(l){let e,t,a,s,n,i,o,u,m,v,d,b,_,E,g=l[12]&&sa(l);function C(L,S){return L[11]?jr:L[2]?Or:qr}let w=C(l),I=w(l);function A(L){l[52](L)}let x={characterId:l[0]};l[14]!==void 0&&(x.isOpen=l[14]),s=new br({props:x}),At.push(()=>Lt(s,"isOpen",A)),s.$on("add",l[25]),s.$on("close",l[53]);function P(L){l[54](L)}let N={item:l[18]};l[16]!==void 0&&(N.isOpen=l[16]),o=new Cr({props:N}),At.push(()=>Lt(o,"isOpen",P)),o.$on("close",l[55]);function T(L){l[56](L)}let H={item:l[18],isOwner:l[1]};l[17]!==void 0&&(H.isOpen=l[17]),v=new Br({props:H}),At.push(()=>Lt(v,"isOpen",T)),v.$on("update",l[26]),v.$on("close",l[57]);let V=l[15]&&l[2]&&Ta(l);return{c(){e=h("div"),g&&g.c(),t=D(),I.c(),a=D(),yt(s.$$.fragment),i=D(),yt(o.$$.fragment),m=D(),yt(v.$$.fragment),b=D(),V&&V.c(),_=Ye(),this.h()},l(L){e=p(L,"DIV",{class:!0});var S=y(e);g&&g.l(S),t=k(S),I.l(S),S.forEach(f),a=k(L),Et(s.$$.fragment,L),i=k(L),Et(o.$$.fragment,L),m=k(L),Et(v.$$.fragment,L),b=k(L),V&&V.l(L),_=Ye(),this.h()},h(){c(e,"class","space-y-4")},m(L,S){j(L,e,S),g&&g.m(e,null),r(e,t),I.m(e,null),j(L,a,S),gt(s,L,S),j(L,i,S),gt(o,L,S),j(L,m,S),gt(v,L,S),j(L,b,S),V&&V.m(L,S),j(L,_,S),E=!0},p(L,S){L[12]?g?g.p(L,S):(g=sa(L),g.c(),g.m(e,t)):g&&(g.d(1),g=null),w===(w=C(L))&&I?I.p(L,S):(I.d(1),I=w(L),I&&(I.c(),I.m(e,null)));const O={};S[0]&1&&(O.characterId=L[0]),!n&&S[0]&16384&&(n=!0,O.isOpen=L[14],Pt(()=>n=!1)),s.$set(O);const q={};S[0]&262144&&(q.item=L[18]),!u&&S[0]&65536&&(u=!0,q.isOpen=L[16],Pt(()=>u=!1)),o.$set(q);const F={};S[0]&262144&&(F.item=L[18]),S[0]&2&&(F.isOwner=L[1]),!d&&S[0]&131072&&(d=!0,F.isOpen=L[17],Pt(()=>d=!1)),v.$set(F),L[15]&&L[2]?V?V.p(L,S):(V=Ta(L),V.c(),V.m(_.parentNode,_)):V&&(V.d(1),V=null)},i(L){E||(Ze(s.$$.fragment,L),Ze(o.$$.fragment,L),Ze(v.$$.fragment,L),E=!0)},o(L){$e(s.$$.fragment,L),$e(o.$$.fragment,L),$e(v.$$.fragment,L),E=!1},d(L){L&&(f(e),f(a),f(i),f(m),f(b),f(_)),g&&g.d(),I.d(),_t(s,L),_t(o,L),_t(v,L),V&&V.d(L)}}}const Yr=5e3,Jt=20;function Ma(l){return{weapon:"‚öîÔ∏è",armor:"üõ°Ô∏è",shield:"üõ°Ô∏è",tool:"üîß",consumable:"üß™",treasure:"üíé",other:"üì¶"}[l]||"üì¶"}function rt(l){return l%1===0?l.toString():l.toFixed(2)}function Ba(l){return{weapon:"Armas",armor:"Armaduras",shield:"Escudos",tool:"Herramientas",consumable:"Consumibles",treasure:"Tesoros",other:"Otros"}[l]||"Items"}function Ha(l){return l&&{common:"badge-ghost",uncommon:"badge-success",rare:"badge-primary","very rare":"badge-secondary",legendary:"badge-warning",artifact:"badge-error"}[l.toLowerCase()]||"badge-ghost"}function Oa(l){return l?l.charAt(0).toUpperCase()+l.slice(1):"Com√∫n"}function Zr(l,e){if(!l||l<=0)return{cp:0,sp:0,gp:0,pp:0};let t=0;switch(e){case"cp":t=l;break;case"sp":t=l*10;break;case"gp":t=l*100;break;case"pp":t=l*1e3;break}return{cp:t,sp:t/10,gp:t/100,pp:t/1e3}}const qa=(l,e)=>l+e.quantity;function $r(l,e,t){let a,s,n,i,o,u,{characterId:m}=e,{isOwner:v=!1}=e,d=null,b=!0,_="",E=null,g="",C=0,w=!1,I=!1,A=!1,x=!1,P=null,N={copper:0,silver:0,gold:0,platinum:0},T={copper:"",silver:"",gold:"",platinum:""},H={copper:!1,silver:!1,gold:!1,platinum:!1},V=(()=>{if(typeof window>"u")return{};const $=sessionStorage.getItem(`inventory-pages-${m}`);return $?JSON.parse($):{}})(),L=!1,S=0,O="gp";Ts(async()=>{await q()});async function q($=!1){const ve=Date.now();if(!(!$&&d&&ve-C<Yr))try{t(11,b=!0),t(12,_=""),t(2,d=await Vt.getInventory(m)),C=ve,d&&t(4,N={...d.currency})}catch(Le){t(12,_=Le.message||"Error cargando inventario"),console.error("Error loading inventory:",Le)}finally{t(11,b=!1)}}async function F($){try{t(12,_=""),await Vt.createItem(m,$.detail),await q(!0),t(14,w=!1)}catch(ve){t(12,_=ve.message||"Error agregando item"),console.error("Error adding item:",ve)}}async function W($){if(P)try{t(12,_=""),t(13,E=P.id);const ve=$.detail;await Vt.updateItem(P.id,ve),await q(!0),t(17,x=!1),t(18,P=null)}catch(ve){t(12,_=ve.message||"Error actualizando item"),console.error("Error updating item:",ve)}finally{t(13,E=null)}}async function z($){if(confirm(`¬øEliminar ${$.name}${$.quantity>1?` (√ó${$.quantity})`:""}?`))try{t(13,E=$.id),t(12,_=""),await Vt.deleteItem($.id),await q(!0)}catch(ve){t(12,_=ve.message||"Error eliminando item"),console.error("Error deleting item:",ve)}finally{t(13,E=null)}}async function U(){if(Object.keys(H).forEach($=>{t(6,H[$]=!0,H)}),!!a)try{t(12,_=""),await Vt.updateCurrency(m,N),await q(!0),t(15,I=!1),ae()}catch($){t(12,_=$.message||"Error actualizando monedas"),console.error("Error updating currency:",$)}}function ae(){Object.keys(H).forEach($=>{t(6,H[$]=!1,H)}),Object.keys(T).forEach($=>{t(5,T[$]="",T)})}function R($){t(18,P=$),t(16,A=!0)}function J($){t(18,P=$),t(17,x=!0)}function X($){const ve=i[$]||[],ie=(V[$]||0)*Jt,De=ie+Jt;return ve.slice(ie,De)}function Y($){const ve=i[$]||[];return Math.ceil(ve.length/Jt)}function Q($,ve){const Le=Y($),De=(V[$]||0)+ve;De>=0&&De<Le&&t(7,V={...V,[$]:De})}function G($){t(6,H[$]=!0,H)}function te($){St.call(this,l,$)}function se($){St.call(this,l,$)}const ce=()=>t(12,_=""),fe=()=>q(!0);function ye(){g=this.value,t(3,g)}const we=()=>t(3,g=""),Z=$=>$.name.toLowerCase().includes(g.toLowerCase())||$.description&&$.description.toLowerCase().includes(g.toLowerCase()),de=()=>t(15,I=!0),be=()=>t(14,w=!0),Ce=()=>t(14,w=!0),Fe=$=>Q($,-1),Ve=$=>Q($,1),ke=$=>J($),oe=$=>z($),ue=$=>R($);function me($){w=$,t(14,w)}const Te=()=>t(14,w=!1);function he($){A=$,t(16,A)}const _e=()=>{t(16,A=!1),t(18,P=null)};function Be($){x=$,t(17,x)}const He=()=>{t(17,x=!1),t(18,P=null)},Pe=()=>{t(15,I=!1),ae()},ne=()=>t(19,L=!L);function Ie(){S=Ue(this.value),t(8,S)}function ze(){O=Is(this),t(9,O)}function Ge(){N.platinum=Ue(this.value),t(4,N)}const je=()=>G("platinum");function Ne(){N.gold=Ue(this.value),t(4,N)}const Oe=()=>G("gold");function Se(){N.silver=Ue(this.value),t(4,N)}const Re=()=>G("silver");function ge(){N.copper=Ue(this.value),t(4,N)}const Me=()=>G("copper"),re=()=>{t(15,I=!1),ae()},Ae=()=>{t(15,I=!1),ae()};return l.$$set=$=>{"characterId"in $&&t(0,m=$.characterId),"isOwner"in $&&t(1,v=$.isOwner)},l.$$.update=()=>{if(l.$$.dirty[0]&136&&g&&Object.keys(V).forEach($=>{t(7,V[$]=0,V)}),l.$$.dirty[0]&129&&typeof window<"u"&&sessionStorage.setItem(`inventory-pages-${m}`,JSON.stringify(V)),l.$$.dirty[0]&80&&H.copper){const $=qt(N.copper);t(5,T.copper=$.valid?"":$.error||"",T)}if(l.$$.dirty[0]&80&&H.silver){const $=qt(N.silver);t(5,T.silver=$.valid?"":$.error||"",T)}if(l.$$.dirty[0]&80&&H.gold){const $=qt(N.gold);t(5,T.gold=$.valid?"":$.error||"",T)}if(l.$$.dirty[0]&80&&H.platinum){const $=qt(N.platinum);t(5,T.platinum=$.valid?"":$.error||"",T)}l.$$.dirty[0]&32&&t(22,a=!T.copper&&!T.silver&&!T.gold&&!T.platinum),l.$$.dirty[0]&768&&t(23,s=Zr(S,O)),l.$$.dirty[0]&4&&t(10,n=(d==null?void 0:d.items.reduce(($,ve)=>($[ve.type]||($[ve.type]=[]),$[ve.type].push(ve),$),{}))||{}),l.$$.dirty[0]&1032&&t(36,i=(()=>{if(!g.trim())return n;const $=g.toLowerCase(),ve={};return Object.keys(n).forEach(Le=>{const ie=n[Le].filter(De=>{var Ee,Qe;return De.name.toLowerCase().includes($)||De.description&&De.description.toLowerCase().includes($)||((Ee=De.weaponData)==null?void 0:Ee.weaponType.toLowerCase().includes($))||((Qe=De.armorData)==null?void 0:Qe.armorType.toLowerCase().includes($))||De.rarity&&De.rarity.toLowerCase().includes($)});ie.length>0&&(ve[Le]=ie)}),ve})()),l.$$.dirty[1]&32&&t(21,o=Object.keys(i).sort()),l.$$.dirty[0]&4&&t(20,u=(d==null?void 0:d.items.reduce(($,ve)=>$+ve.quantity,0))||0)},[m,v,d,g,N,T,H,V,S,O,n,b,_,E,w,I,A,x,P,L,u,o,a,s,q,F,W,z,U,ae,R,J,X,Y,Q,G,i,te,se,ce,fe,ye,we,Z,de,be,Ce,Fe,Ve,ke,oe,ue,me,Te,he,_e,Be,He,Pe,ne,Ie,ze,Ge,je,Ne,Oe,Se,Re,ge,Me,re,Ae]}class en extends Dt{constructor(e){super(),wt(this,e,$r,Xr,It,{characterId:0,isOwner:1},null,[-1,-1,-1])}}function ja(l,e,t){const a=l.slice();return a[22]=e[t],a}function Fa(l,e,t){const a=l.slice();return a[22]=e[t],a}function Ua(l,e,t){const a=l.slice();return a[27]=e[t],a}function za(l,e,t){const a=l.slice();return a[27]=e[t],a}function Ra(l,e,t){const a=l.slice();return a[32]=e[t],a}function Ga(l){let e,t,a,s='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',n,i,o,u,m="‚úèÔ∏è Editar",v,d,b,_="üóëÔ∏è Eliminar",E,g;return{c(){e=h("div"),t=h("div"),a=h("label"),a.innerHTML=s,n=D(),i=h("ul"),o=h("li"),u=h("a"),u.textContent=m,v=D(),d=h("li"),b=h("a"),b.textContent=_,this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);a=p(I,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),K(a)!=="svelte-peoic3"&&(a.innerHTML=s),n=k(I),i=p(I,"UL",{tabindex:!0,class:!0});var A=y(i);o=p(A,"LI",{});var x=y(o);u=p(x,"A",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-wsazpu"&&(u.textContent=m),x.forEach(f),v=k(A),d=p(A,"LI",{});var P=y(d);b=p(P,"A",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-14pabf4"&&(b.textContent=_),P.forEach(f),A.forEach(f),I.forEach(f),w.forEach(f),this.h()},h(){c(a,"tabindex","0"),c(a,"class","btn btn-ghost btn-sm btn-circle"),c(u,"class","text-secondary"),c(b,"class","text-error"),c(i,"tabindex","0"),c(i,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-52 border-2 border-secondary"),c(t,"class","dropdown dropdown-end"),c(e,"class","flex gap-2 flex-shrink-0")},m(C,w){j(C,e,w),r(e,t),r(t,a),r(t,n),r(t,i),r(i,o),r(o,u),r(i,v),r(i,d),r(d,b),E||(g=[le(u,"click",l[13]),le(b,"click",l[14])],E=!0)},p:Ke,d(C){C&&f(e),E=!1,at(g)}}}function tn(l){let e,t;return e=new en({props:{characterId:l[0].id,isOwner:l[1]}}),{c(){yt(e.$$.fragment)},l(a){Et(e.$$.fragment,a)},m(a,s){gt(e,a,s),t=!0},p(a,s){const n={};s[0]&1&&(n.characterId=a[0].id),s[0]&2&&(n.isOwner=a[1]),e.$set(n)},i(a){t||(Ze(e.$$.fragment,a),t=!0)},o(a){$e(e.$$.fragment,a),t=!1},d(a){_t(e,a)}}}function ln(l){let e,t,a,s,n="CA",i,o,u=l[0].armorClass+"",m,v,d,b,_="INIT",E,g,C,w=l[0].initiative+"",I,A,x,P,N="VELOCIDAD",T,H,V=l[0].speed+"",L,S,O,q,F,W="NIVEL",z,U,ae=l[0].level+"",R,J,X,Y,Q,G="PUNTOS DE VIDA",te,se,ce=l[0].currentHp+"",fe,ye,we=l[0].maxHp+"",Z,de,be,Ce,Fe,Ve,ke,oe,ue,me,Te="üí™ Puntuaciones de Habilidad",he,_e,Be,He,Pe,ne="üõ°Ô∏è Tiradas de Salvaci√≥n",Ie,ze,Ge,je,Ne,Oe="üéØ Habilidades",Se,Re,ge=l[9]&&Qa(l),Me=Je(l[8]),re=[];for(let ie=0;ie<Me.length;ie+=1)re[ie]=Ka(za(l,Me,ie));let Ae=Je(l[7]),$=[];for(let ie=0;ie<Ae.length;ie+=1)$[ie]=Wa(Ua(l,Ae,ie));let ve=l[6].length>0&&Xa(l),Le=l[5].length>0&&$a(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("p"),s.textContent=n,i=D(),o=h("p"),m=B(u),v=D(),d=h("div"),b=h("p"),b.textContent=_,E=D(),g=h("p"),C=B("+"),I=B(w),A=D(),x=h("div"),P=h("p"),P.textContent=N,T=D(),H=h("p"),L=B(V),S=B("'"),O=D(),q=h("div"),F=h("p"),F.textContent=W,z=D(),U=h("p"),R=B(ae),J=D(),X=h("div"),Y=h("div"),Q=h("span"),Q.textContent=G,te=D(),se=h("span"),fe=B(ce),ye=B("/"),Z=B(we),de=D(),be=h("progress"),ke=D(),ge&&ge.c(),oe=D(),ue=h("div"),me=h("h4"),me.textContent=Te,he=D(),_e=h("div");for(let ie=0;ie<re.length;ie+=1)re[ie].c();Be=D(),He=h("div"),Pe=h("h4"),Pe.textContent=ne,Ie=D(),ze=h("div");for(let ie=0;ie<$.length;ie+=1)$[ie].c();Ge=D(),je=h("div"),Ne=h("h4"),Ne.textContent=Oe,Se=D(),ve&&ve.c(),Re=D(),Le&&Le.c(),this.h()},l(ie){e=p(ie,"DIV",{class:!0});var De=y(e);t=p(De,"DIV",{class:!0});var Ee=y(t);a=p(Ee,"DIV",{class:!0});var Qe=y(a);s=p(Qe,"P",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-wol06o"&&(s.textContent=n),i=k(Qe),o=p(Qe,"P",{class:!0});var Xe=y(o);m=M(Xe,u),Xe.forEach(f),Qe.forEach(f),v=k(Ee),d=p(Ee,"DIV",{class:!0});var We=y(d);b=p(We,"P",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-kbusj2"&&(b.textContent=_),E=k(We),g=p(We,"P",{class:!0});var pe=y(g);C=M(pe,"+"),I=M(pe,w),pe.forEach(f),We.forEach(f),A=k(Ee),x=p(Ee,"DIV",{class:!0});var qe=y(x);P=p(qe,"P",{class:!0,"data-svelte-h":!0}),K(P)!=="svelte-gdgr"&&(P.textContent=N),T=k(qe),H=p(qe,"P",{class:!0});var et=y(H);L=M(et,V),S=M(et,"'"),et.forEach(f),qe.forEach(f),O=k(Ee),q=p(Ee,"DIV",{class:!0});var st=y(q);F=p(st,"P",{class:!0,"data-svelte-h":!0}),K(F)!=="svelte-16dg4q8"&&(F.textContent=W),z=k(st),U=p(st,"P",{class:!0});var tt=y(U);R=M(tt,ae),tt.forEach(f),st.forEach(f),Ee.forEach(f),J=k(De),X=p(De,"DIV",{class:!0});var ut=y(X);Y=p(ut,"DIV",{class:!0});var pt=y(Y);Q=p(pt,"SPAN",{class:!0,"data-svelte-h":!0}),K(Q)!=="svelte-13cywkd"&&(Q.textContent=G),te=k(pt),se=p(pt,"SPAN",{class:!0});var ft=y(se);fe=M(ft,ce),ye=M(ft,"/"),Z=M(ft,we),ft.forEach(f),pt.forEach(f),de=k(ut),be=p(ut,"PROGRESS",{class:!0,max:!0}),y(be).forEach(f),ut.forEach(f),ke=k(De),ge&&ge.l(De),oe=k(De),ue=p(De,"DIV",{});var dt=y(ue);me=p(dt,"H4",{class:!0,"data-svelte-h":!0}),K(me)!=="svelte-1279vkd"&&(me.textContent=Te),he=k(dt),_e=p(dt,"DIV",{class:!0});var xt=y(_e);for(let ct=0;ct<re.length;ct+=1)re[ct].l(xt);xt.forEach(f),dt.forEach(f),Be=k(De),He=p(De,"DIV",{});var vt=y(He);Pe=p(vt,"H4",{class:!0,"data-svelte-h":!0}),K(Pe)!=="svelte-14g2qgt"&&(Pe.textContent=ne),Ie=k(vt),ze=p(vt,"DIV",{class:!0});var ht=y(ze);for(let ct=0;ct<$.length;ct+=1)$[ct].l(ht);ht.forEach(f),vt.forEach(f),Ge=k(De),je=p(De,"DIV",{});var ot=y(je);Ne=p(ot,"H4",{class:!0,"data-svelte-h":!0}),K(Ne)!=="svelte-12uabm0"&&(Ne.textContent=Oe),Se=k(ot),ve&&ve.l(ot),Re=k(ot),Le&&Le.l(ot),ot.forEach(f),De.forEach(f),this.h()},h(){c(s,"class","text-xs font-medieval text-neutral/60 mb-1"),c(o,"class","text-2xl font-bold text-neutral"),c(a,"class","bg-gradient-to-br from-info/20 to-success/20 p-3 rounded-lg border border-info/30 text-center"),c(b,"class","text-xs font-medieval text-neutral/60 mb-1"),c(g,"class","text-2xl font-bold text-neutral"),c(d,"class","bg-gradient-to-br from-warning/20 to-error/20 p-3 rounded-lg border border-warning/30 text-center"),c(P,"class","text-xs font-medieval text-neutral/60 mb-1"),c(H,"class","text-2xl font-bold text-neutral"),c(x,"class","bg-gradient-to-br from-success/20 to-primary/20 p-3 rounded-lg border border-success/30 text-center"),c(F,"class","text-xs font-medieval text-neutral/60 mb-1"),c(U,"class","text-2xl font-bold text-neutral"),c(q,"class","bg-gradient-to-br from-primary/20 to-accent/20 p-3 rounded-lg border border-primary/30 text-center"),c(t,"class","grid grid-cols-2 sm:grid-cols-4 gap-3"),c(Q,"class","font-medieval text-neutral/70 text-sm"),c(se,"class","font-bold text-neutral"),c(Y,"class","flex justify-between items-center mb-2"),c(be,"class",Ce=`progress w-full h-4 progress-${l[10]}`),be.value=Fe=l[0].currentHp,c(be,"max",Ve=l[0].maxHp),c(X,"class","bg-gradient-to-r from-success/10 to-error/10 p-3 rounded-lg border border-success/30"),c(me,"class","font-medieval text-lg text-neutral mb-3 flex items-center gap-2"),c(_e,"class","grid grid-cols-3 md:grid-cols-6 gap-3"),c(Pe,"class","font-medieval text-lg text-neutral mb-3 flex items-center gap-2"),c(ze,"class","grid grid-cols-2 md:grid-cols-3 gap-2"),c(Ne,"class","font-medieval text-lg text-neutral mb-3 flex items-center gap-2"),c(e,"class","space-y-4")},m(ie,De){j(ie,e,De),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),r(o,m),r(t,v),r(t,d),r(d,b),r(d,E),r(d,g),r(g,C),r(g,I),r(t,A),r(t,x),r(x,P),r(x,T),r(x,H),r(H,L),r(H,S),r(t,O),r(t,q),r(q,F),r(q,z),r(q,U),r(U,R),r(e,J),r(e,X),r(X,Y),r(Y,Q),r(Y,te),r(Y,se),r(se,fe),r(se,ye),r(se,Z),r(X,de),r(X,be),r(e,ke),ge&&ge.m(e,null),r(e,oe),r(e,ue),r(ue,me),r(ue,he),r(ue,_e);for(let Ee=0;Ee<re.length;Ee+=1)re[Ee]&&re[Ee].m(_e,null);r(e,Be),r(e,He),r(He,Pe),r(He,Ie),r(He,ze);for(let Ee=0;Ee<$.length;Ee+=1)$[Ee]&&$[Ee].m(ze,null);r(e,Ge),r(e,je),r(je,Ne),r(je,Se),ve&&ve.m(je,null),r(je,Re),Le&&Le.m(je,null)},p(ie,De){if(De[0]&1&&u!==(u=ie[0].armorClass+"")&&ee(m,u),De[0]&1&&w!==(w=ie[0].initiative+"")&&ee(I,w),De[0]&1&&V!==(V=ie[0].speed+"")&&ee(L,V),De[0]&1&&ae!==(ae=ie[0].level+"")&&ee(R,ae),De[0]&1&&ce!==(ce=ie[0].currentHp+"")&&ee(fe,ce),De[0]&1&&we!==(we=ie[0].maxHp+"")&&ee(Z,we),De[0]&1024&&Ce!==(Ce=`progress w-full h-4 progress-${ie[10]}`)&&c(be,"class",Ce),De[0]&1&&Fe!==(Fe=ie[0].currentHp)&&(be.value=Fe),De[0]&1&&Ve!==(Ve=ie[0].maxHp)&&c(be,"max",Ve),ie[9]?ge?ge.p(ie,De):(ge=Qa(ie),ge.c(),ge.m(e,oe)):ge&&(ge.d(1),ge=null),De[0]&2321){Me=Je(ie[8]);let Ee;for(Ee=0;Ee<Me.length;Ee+=1){const Qe=za(ie,Me,Ee);re[Ee]?re[Ee].p(Qe,De):(re[Ee]=Ka(Qe),re[Ee].c(),re[Ee].m(_e,null))}for(;Ee<re.length;Ee+=1)re[Ee].d(1);re.length=Me.length}if(De[0]&69761){Ae=Je(ie[7]);let Ee;for(Ee=0;Ee<Ae.length;Ee+=1){const Qe=Ua(ie,Ae,Ee);$[Ee]?$[Ee].p(Qe,De):($[Ee]=Wa(Qe),$[Ee].c(),$[Ee].m(ze,null))}for(;Ee<$.length;Ee+=1)$[Ee].d(1);$.length=Ae.length}ie[6].length>0?ve?ve.p(ie,De):(ve=Xa(ie),ve.c(),ve.m(je,Re)):ve&&(ve.d(1),ve=null),ie[5].length>0?Le?Le.p(ie,De):(Le=$a(ie),Le.c(),Le.m(je,null)):Le&&(Le.d(1),Le=null)},i:Ke,o:Ke,d(ie){ie&&f(e),ge&&ge.d(),lt(re,ie),lt($,ie),ve&&ve.d(),Le&&Le.d()}}}function Qa(l){let e,t,a="‚ö†Ô∏è CONDICIONES ACTIVAS",s,n,i=Je(l[0].conditions),o=[];for(let u=0;u<i.length;u+=1)o[u]=Ja(Ra(l,i,u));return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=p(u,"DIV",{class:!0});var m=y(e);t=p(m,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-zymfnd"&&(t.textContent=a),s=k(m),n=p(m,"DIV",{class:!0});var v=y(n);for(let d=0;d<o.length;d+=1)o[d].l(v);v.forEach(f),m.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-2"),c(n,"class","flex flex-wrap gap-1"),c(e,"class","bg-warning/10 p-3 rounded-lg border border-warning/30")},m(u,m){j(u,e,m),r(e,t),r(e,s),r(e,n);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(n,null)},p(u,m){if(m[0]&1){i=Je(u[0].conditions);let v;for(v=0;v<i.length;v+=1){const d=Ra(u,i,v);o[v]?o[v].p(d,m):(o[v]=Ja(d),o[v].c(),o[v].m(n,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=i.length}},d(u){u&&f(e),lt(o,u)}}}function Ja(l){let e,t=l[32]+"",a;return{c(){e=h("div"),a=B(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var n=y(e);a=M(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-warning badge-sm")},m(s,n){j(s,e,n),r(e,a)},p(s,n){n[0]&1&&t!==(t=s[32]+"")&&ee(a,t)},d(s){s&&f(e)}}}function Ka(l){let e,t,a=l[11][l[27]]+"",s,n,i,o=it(l[4][l[27]])+"",u,m,v,d,b=l[0].abilityScores[l[27]]+"",_,E,g;return{c(){e=h("div"),t=h("div"),s=B(a),n=D(),i=h("div"),u=B(o),m=D(),v=h("div"),d=B("("),_=B(b),E=B(")"),g=D(),this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);s=M(I,a),I.forEach(f),n=k(w),i=p(w,"DIV",{class:!0});var A=y(i);u=M(A,o),A.forEach(f),m=k(w),v=p(w,"DIV",{class:!0});var x=y(v);d=M(x,"("),_=M(x,b),E=M(x,")"),x.forEach(f),g=k(w),w.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/70 mb-1"),c(i,"class","text-3xl font-bold text-neutral mb-1"),c(v,"class","text-sm text-neutral/60"),c(e,"class","bg-gradient-to-br from-primary/10 to-accent/10 p-3 rounded-lg border-2 border-primary/30 text-center")},m(C,w){j(C,e,w),r(e,t),r(t,s),r(e,n),r(e,i),r(i,u),r(e,m),r(e,v),r(v,d),r(v,_),r(v,E),r(e,g)},p(C,w){w[0]&256&&a!==(a=C[11][C[27]]+"")&&ee(s,a),w[0]&272&&o!==(o=it(C[4][C[27]])+"")&&ee(u,o),w[0]&257&&b!==(b=C[0].abilityScores[C[27]]+"")&&ee(_,b)},d(C){C&&f(e)}}}function Wa(l){let e,t,a,s,n,i,o=l[12][l[27]]+"",u,m,v,d=it(l[16](l[27]))+"",b,_,E;return{c(){e=h("div"),t=h("div"),s=D(),n=h("div"),i=h("div"),u=B(o),m=D(),v=h("div"),b=B(d),_=D(),this.h()},l(g){e=p(g,"DIV",{class:!0});var C=y(e);t=p(C,"DIV",{class:!0}),y(t).forEach(f),s=k(C),n=p(C,"DIV",{class:!0});var w=y(n);i=p(w,"DIV",{class:!0});var I=y(i);u=M(I,o),I.forEach(f),m=k(w),v=p(w,"DIV",{class:!0});var A=y(v);b=M(A,d),A.forEach(f),w.forEach(f),_=k(C),C.forEach(f),this.h()},h(){c(t,"class",a="w-4 h-4 rounded-full border-2 "+(l[0].savingThrows[l[27]]?"bg-success border-success":"border-neutral/50")),c(i,"class","text-sm font-medieval"),c(v,"class","text-xs text-neutral/70"),c(n,"class","flex-1"),c(e,"class",E="flex items-center gap-2 p-2 rounded-lg border-2 "+(l[0].savingThrows[l[27]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))},m(g,C){j(g,e,C),r(e,t),r(e,s),r(e,n),r(n,i),r(i,u),r(n,m),r(n,v),r(v,b),r(e,_)},p(g,C){C[0]&129&&a!==(a="w-4 h-4 rounded-full border-2 "+(g[0].savingThrows[g[27]]?"bg-success border-success":"border-neutral/50"))&&c(t,"class",a),C[0]&128&&o!==(o=g[12][g[27]]+"")&&ee(u,o),C[0]&128&&d!==(d=it(g[16](g[27]))+"")&&ee(b,d),C[0]&129&&E!==(E="flex items-center gap-2 p-2 rounded-lg border-2 "+(g[0].savingThrows[g[27]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))&&c(e,"class",E)},d(g){g&&f(e)}}}function Xa(l){let e,t,a="COMPETENTES",s,n,i=Je(l[6]),o=[];for(let u=0;u<i.length;u+=1)o[u]=Za(Fa(l,i,u));return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=p(u,"DIV",{class:!0});var m=y(e);t=p(m,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-776mjs"&&(t.textContent=a),s=k(m),n=p(m,"DIV",{class:!0});var v=y(n);for(let d=0;d<o.length;d+=1)o[d].l(v);v.forEach(f),m.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-2"),c(n,"class","grid grid-cols-1 md:grid-cols-2 gap-2"),c(e,"class","mb-3")},m(u,m){j(u,e,m),r(e,t),r(e,s),r(e,n);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(n,null)},p(u,m){if(m[0]&32832){i=Je(u[6]);let v;for(v=0;v<i.length;v+=1){const d=Fa(u,i,v);o[v]?o[v].p(d,m):(o[v]=Za(d),o[v].c(),o[v].m(n,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=i.length}},d(u){u&&f(e),lt(o,u)}}}function Ya(l){let e;return{c(){e=B("‚òÖ")},l(t){e=M(t,"‚òÖ")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Za(l){let e,t,a,s,n,i,o=Qt(l[22].name)+"",u,m,v,d=it(l[15](l[22]))+"",b,_,E,g=l[22].expertise&&Ya();return{c(){e=h("div"),t=h("div"),g&&g.c(),s=D(),n=h("div"),i=h("div"),u=B(o),m=D(),v=h("div"),b=B(d),_=D(),this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);g&&g.l(I),I.forEach(f),s=k(w),n=p(w,"DIV",{class:!0});var A=y(n);i=p(A,"DIV",{class:!0});var x=y(i);u=M(x,o),x.forEach(f),A.forEach(f),m=k(w),v=p(w,"DIV",{class:!0});var P=y(v);b=M(P,d),P.forEach(f),_=k(w),w.forEach(f),this.h()},h(){c(t,"class",a="w-4 h-4 rounded-full border-2 flex items-center justify-center text-xs "+(l[22].expertise?"bg-warning border-warning":"bg-success border-success")),c(i,"class","text-sm font-medieval truncate"),c(n,"class","flex-1 min-w-0"),c(v,"class","text-sm font-bold text-neutral"),c(e,"class",E="flex items-center gap-2 p-2 rounded-lg border-2 "+(l[22].expertise?"bg-warning/20 border-warning":"bg-success/20 border-success"))},m(C,w){j(C,e,w),r(e,t),g&&g.m(t,null),r(e,s),r(e,n),r(n,i),r(i,u),r(e,m),r(e,v),r(v,b),r(e,_)},p(C,w){C[22].expertise?g||(g=Ya(),g.c(),g.m(t,null)):g&&(g.d(1),g=null),w[0]&64&&a!==(a="w-4 h-4 rounded-full border-2 flex items-center justify-center text-xs "+(C[22].expertise?"bg-warning border-warning":"bg-success border-success"))&&c(t,"class",a),w[0]&64&&o!==(o=Qt(C[22].name)+"")&&ee(u,o),w[0]&64&&d!==(d=it(C[15](C[22]))+"")&&ee(b,d),w[0]&64&&E!==(E="flex items-center gap-2 p-2 rounded-lg border-2 "+(C[22].expertise?"bg-warning/20 border-warning":"bg-success/20 border-success"))&&c(e,"class",E)},d(C){C&&f(e),g&&g.d()}}}function $a(l){let e,t,a,s=l[5].length+"",n,i,o,u,m,v=Je(l[5]),d=[];for(let b=0;b<v.length;b+=1)d[b]=es(ja(l,v,b));return{c(){e=h("details"),t=h("summary"),a=B("OTRAS HABILIDADES ("),n=B(s),i=B(")"),o=D(),u=h("div"),m=h("div");for(let b=0;b<d.length;b+=1)d[b].c();this.h()},l(b){e=p(b,"DETAILS",{class:!0});var _=y(e);t=p(_,"SUMMARY",{class:!0});var E=y(t);a=M(E,"OTRAS HABILIDADES ("),n=M(E,s),i=M(E,")"),E.forEach(f),o=k(_),u=p(_,"DIV",{class:!0});var g=y(u);m=p(g,"DIV",{class:!0});var C=y(m);for(let w=0;w<d.length;w+=1)d[w].l(C);C.forEach(f),g.forEach(f),_.forEach(f),this.h()},h(){c(t,"class","collapse-title text-xs font-medieval text-neutral/60"),c(m,"class","grid grid-cols-1 md:grid-cols-2 gap-2 pt-2"),c(u,"class","collapse-content"),c(e,"class","collapse collapse-arrow bg-neutral/5 rounded-lg border border-neutral/20")},m(b,_){j(b,e,_),r(e,t),r(t,a),r(t,n),r(t,i),r(e,o),r(e,u),r(u,m);for(let E=0;E<d.length;E+=1)d[E]&&d[E].m(m,null)},p(b,_){if(_[0]&32&&s!==(s=b[5].length+"")&&ee(n,s),_[0]&32800){v=Je(b[5]);let E;for(E=0;E<v.length;E+=1){const g=ja(b,v,E);d[E]?d[E].p(g,_):(d[E]=es(g),d[E].c(),d[E].m(m,null))}for(;E<d.length;E+=1)d[E].d(1);d.length=v.length}},d(b){b&&f(e),lt(d,b)}}}function es(l){let e,t,a,s,n,i=Qt(l[22].name)+"",o,u,m,v=it(l[15](l[22]))+"",d,b;return{c(){e=h("div"),t=h("div"),a=D(),s=h("div"),n=h("div"),o=B(i),u=D(),m=h("div"),d=B(v),b=D(),this.h()},l(_){e=p(_,"DIV",{class:!0});var E=y(e);t=p(E,"DIV",{class:!0}),y(t).forEach(f),a=k(E),s=p(E,"DIV",{class:!0});var g=y(s);n=p(g,"DIV",{class:!0});var C=y(n);o=M(C,i),C.forEach(f),g.forEach(f),u=k(E),m=p(E,"DIV",{class:!0});var w=y(m);d=M(w,v),w.forEach(f),b=k(E),E.forEach(f),this.h()},h(){c(t,"class","w-4 h-4 rounded-full border-2 border-neutral/50"),c(n,"class","text-sm font-medieval truncate"),c(s,"class","flex-1 min-w-0"),c(m,"class","text-sm font-bold text-neutral"),c(e,"class","flex items-center gap-2 p-2 rounded-lg border-2 bg-neutral/10 border-neutral/30")},m(_,E){j(_,e,E),r(e,t),r(e,a),r(e,s),r(s,n),r(n,o),r(e,u),r(e,m),r(m,d),r(e,b)},p(_,E){E[0]&32&&i!==(i=Qt(_[22].name)+"")&&ee(o,i),E[0]&32&&v!==(v=it(_[15](_[22]))+"")&&ee(d,v)},d(_){_&&f(e)}}}function an(l){let e,t,a,s,n,i='<div class="w-20 h-20 rounded-full ring-2 ring-secondary ring-offset-2 ring-offset-[#f4e4c1]"><div class="bg-gradient-to-br from-primary to-accent flex items-center justify-center w-full h-full"><span class="text-3xl">üßô‚Äç‚ôÇÔ∏è</span></div></div>',o,u,m,v=l[0].name+"",d,b,_,E=l[0].class+"",g,C,w=l[0].level+"",I,A,x,P,N,T,H,V,L,S=l[0].speed+"",O,q,F,W,z,U,ae,R="üìä",J,X,Y,Q,G,te="üéí",se,ce,fe,ye,we,Z,de,be,Ce=l[1]&&Ga(l);const Fe=[ln,tn],Ve=[];function ke(oe,ue){return oe[2]==="stats"?0:1}return ye=ke(l),we=Ve[ye]=Fe[ye](l),{c(){e=h("div"),t=h("div"),a=h("div"),s=h("div"),n=h("div"),n.innerHTML=i,o=D(),u=h("div"),m=h("h3"),d=B(v),b=D(),_=h("p"),g=B(E),C=B(" ‚Ä¢ Nivel "),I=B(w),A=D(),x=h("div"),P=h("div"),N=B("+"),T=B(l[3]),H=B(" Competencia"),V=D(),L=h("div"),O=B(S),q=B(" pies"),F=D(),Ce&&Ce.c(),W=D(),z=h("div"),U=h("button"),ae=h("span"),ae.textContent=R,J=B(`\r
        Estad√≠sticas`),Y=D(),Q=h("button"),G=h("span"),G.textContent=te,se=B(`\r
        Inventario`),fe=D(),we.c(),this.h()},l(oe){e=p(oe,"DIV",{class:!0});var ue=y(e);t=p(ue,"DIV",{class:!0});var me=y(t);a=p(me,"DIV",{class:!0});var Te=y(a);s=p(Te,"DIV",{class:!0});var he=y(s);n=p(he,"DIV",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-1ddetiq"&&(n.innerHTML=i),o=k(he),u=p(he,"DIV",{class:!0});var _e=y(u);m=p(_e,"H3",{class:!0});var Be=y(m);d=M(Be,v),Be.forEach(f),b=k(_e),_=p(_e,"P",{class:!0});var He=y(_);g=M(He,E),C=M(He," ‚Ä¢ Nivel "),I=M(He,w),He.forEach(f),A=k(_e),x=p(_e,"DIV",{class:!0});var Pe=y(x);P=p(Pe,"DIV",{class:!0});var ne=y(P);N=M(ne,"+"),T=M(ne,l[3]),H=M(ne," Competencia"),ne.forEach(f),V=k(Pe),L=p(Pe,"DIV",{class:!0});var Ie=y(L);O=M(Ie,S),q=M(Ie," pies"),Ie.forEach(f),Pe.forEach(f),_e.forEach(f),he.forEach(f),F=k(Te),Ce&&Ce.l(Te),Te.forEach(f),W=k(me),z=p(me,"DIV",{class:!0});var ze=y(z);U=p(ze,"BUTTON",{class:!0});var Ge=y(U);ae=p(Ge,"SPAN",{class:!0,"data-svelte-h":!0}),K(ae)!=="svelte-kugu9n"&&(ae.textContent=R),J=M(Ge,`\r
        Estad√≠sticas`),Ge.forEach(f),Y=k(ze),Q=p(ze,"BUTTON",{class:!0});var je=y(Q);G=p(je,"SPAN",{class:!0,"data-svelte-h":!0}),K(G)!=="svelte-bo1ms0"&&(G.textContent=te),se=M(je,`\r
        Inventario`),je.forEach(f),ze.forEach(f),fe=k(me),we.l(me),me.forEach(f),ue.forEach(f),this.h()},h(){c(n,"class","avatar flex-shrink-0"),c(m,"class","text-2xl font-medieval font-bold text-neutral mb-1"),c(_,"class","text-base text-neutral/70 font-body"),c(P,"class","badge badge-sm badge-secondary"),c(L,"class","badge badge-sm badge-info"),c(x,"class","flex gap-2 mt-1"),c(u,"class","flex-1 min-w-0"),c(s,"class","flex items-center gap-4 flex-1 min-w-0"),c(a,"class","flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4"),c(ae,"class","text-lg mr-2"),c(U,"class",X="tab flex-1 "+(l[2]==="stats"?"tab-active":"")),c(G,"class","text-lg mr-2"),c(Q,"class",ce="tab flex-1 "+(l[2]==="inventory"?"tab-active":"")),c(z,"class","tabs tabs-boxed bg-neutral/20 mb-4"),c(t,"class","card-body p-4 sm:p-6"),c(e,"class","card-parchment w-full max-w-6xl mx-auto")},m(oe,ue){j(oe,e,ue),r(e,t),r(t,a),r(a,s),r(s,n),r(s,o),r(s,u),r(u,m),r(m,d),r(u,b),r(u,_),r(_,g),r(_,C),r(_,I),r(u,A),r(u,x),r(x,P),r(P,N),r(P,T),r(P,H),r(x,V),r(x,L),r(L,O),r(L,q),r(a,F),Ce&&Ce.m(a,null),r(t,W),r(t,z),r(z,U),r(U,ae),r(U,J),r(z,Y),r(z,Q),r(Q,G),r(Q,se),r(t,fe),Ve[ye].m(t,null),Z=!0,de||(be=[le(U,"click",l[19]),le(Q,"click",l[20])],de=!0)},p(oe,ue){(!Z||ue[0]&1)&&v!==(v=oe[0].name+"")&&ee(d,v),(!Z||ue[0]&1)&&E!==(E=oe[0].class+"")&&ee(g,E),(!Z||ue[0]&1)&&w!==(w=oe[0].level+"")&&ee(I,w),(!Z||ue[0]&8)&&ee(T,oe[3]),(!Z||ue[0]&1)&&S!==(S=oe[0].speed+"")&&ee(O,S),oe[1]?Ce?Ce.p(oe,ue):(Ce=Ga(oe),Ce.c(),Ce.m(a,null)):Ce&&(Ce.d(1),Ce=null),(!Z||ue[0]&4&&X!==(X="tab flex-1 "+(oe[2]==="stats"?"tab-active":"")))&&c(U,"class",X),(!Z||ue[0]&4&&ce!==(ce="tab flex-1 "+(oe[2]==="inventory"?"tab-active":"")))&&c(Q,"class",ce);let me=ye;ye=ke(oe),ye===me?Ve[ye].p(oe,ue):(Nt(),$e(Ve[me],1,1,()=>{Ve[me]=null}),Mt(),we=Ve[ye],we?we.p(oe,ue):(we=Ve[ye]=Fe[ye](oe),we.c()),Ze(we,1),we.m(t,null))},i(oe){Z||(Ze(we),Z=!0)},o(oe){$e(we),Z=!1},d(oe){oe&&f(e),Ce&&Ce.d(),Ve[ye].d(),de=!1,at(be)}}}function Qt(l){return{Acrobatics:"Acrobacias","Animal Handling":"Trato con Animales",Arcana:"Arcano",Athletics:"Atletismo",Deception:"Enga√±o",History:"Historia",Insight:"Perspicacia",Intimidation:"Intimidaci√≥n",Investigation:"Investigaci√≥n",Medicine:"Medicina",Nature:"Naturaleza",Perception:"Percepci√≥n",Performance:"Interpretaci√≥n",Persuasion:"Persuasi√≥n",Religion:"Religi√≥n","Sleight of Hand":"Juego de Manos",Stealth:"Sigilo",Survival:"Supervivencia"}[l]||l}function sn(l,e,t){let a,s,n,i,o,u,m,v,d,{character:b}=e,{isOwner:_=!1}=e,{showInventory:E=!1}=e;const g=Bt();let C="stats";const w={strength:"FUE",dexterity:"DES",constitution:"CON",intelligence:"INT",wisdom:"SAB",charisma:"CAR"},I={strength:"Fuerza",dexterity:"Destreza",constitution:"Constituci√≥n",intelligence:"Inteligencia",wisdom:"Sabidur√≠a",charisma:"Carisma"};function A(){g("edit",b)}function x(){g("delete",b)}function P(V){let S=o[V.ability]??0;return V.expertise?S+=i*2:V.proficient&&(S+=i),S}function N(V){const L=o[V];return b.savingThrows[V]?L+i:L}const T=()=>t(2,C="stats"),H=()=>t(2,C="inventory");return l.$$set=V=>{"character"in V&&t(0,b=V.character),"isOwner"in V&&t(1,_=V.isOwner),"showInventory"in V&&t(17,E=V.showInventory)},l.$$.update=()=>{l.$$.dirty[0]&1&&t(18,a=b.maxHp?b.currentHp/b.maxHp*100:0),l.$$.dirty[0]&262144&&t(10,s=a>50?"success":a>25?"warning":"error"),l.$$.dirty[0]&1&&t(9,n=Array.isArray(b.conditions)&&b.conditions.length>0),l.$$.dirty[0]&1&&t(3,i=Wt(b.level)),l.$$.dirty[0]&1&&t(4,o={strength:nt(b.abilityScores.strength),dexterity:nt(b.abilityScores.dexterity),constitution:nt(b.abilityScores.constitution),intelligence:nt(b.abilityScores.intelligence),wisdom:nt(b.abilityScores.wisdom),charisma:nt(b.abilityScores.charisma)}),l.$$.dirty[0]&1&&t(8,u=Object.keys(b.abilityScores)),l.$$.dirty[0]&1&&t(7,m=Object.keys(b.savingThrows)),l.$$.dirty[0]&1&&t(6,v=b.skills.filter(V=>V.proficient||V.expertise)),l.$$.dirty[0]&1&&t(5,d=b.skills.filter(V=>!V.proficient&&!V.expertise))},[b,_,C,i,o,d,v,m,u,n,s,w,I,A,x,P,N,E,a,T,H]}class Vs extends Dt{constructor(e){super(),wt(this,e,sn,an,It,{character:0,isOwner:1,showInventory:17},null,[-1,-1])}}function ts(l,e,t){const a=l.slice();return a[44]=e[t],a}function ls(l,e,t){const a=l.slice();return a[47]=e[t],a}function as(l,e,t){const a=l.slice();return a[47]=e[t],a[50]=e,a[51]=t,a}function ss(l,e,t){const a=l.slice();return a[52]=e[t],a[54]=t,a}function rs(l){let e,t,a,s,n="‚úï",i,o,u=l[2]?"‚úèÔ∏è Editar Personaje":"üßô‚Äç‚ôÇÔ∏è Crear Personaje",m,v,d,b,_,E,g,C,w,I,A,x,P,N,T,H,V,L,S,O=Je(Array(Ct)),q=[];for(let G=0;G<O.length;G+=1)q[G]=ns(ss(l,O,G));function F(G,te){if(G[3]===1)return un;if(G[3]===2)return cn;if(G[3]===3)return on;if(G[3]===4)return nn}let W=F(l),z=W&&W(l),U=l[3]===1&&is(l),ae=l[3]===2&&fs(l),R=l[3]===3&&hs(l),J=l[3]===4&&bs(l);function X(G,te){return G[3]<Ct?dn:fn}let Y=X(l),Q=Y(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("button"),s.textContent=n,i=D(),o=h("h3"),m=B(u),v=D(),d=h("div");for(let G=0;G<q.length;G+=1)q[G].c();b=D(),_=h("div"),z&&z.c(),E=D(),g=h("div"),U&&U.c(),C=D(),ae&&ae.c(),w=D(),R&&R.c(),I=D(),J&&J.c(),A=D(),x=h("div"),P=h("div"),N=h("button"),T=B("‚Üê Anterior"),V=D(),Q.c(),this.h()},l(G){e=p(G,"DIV",{class:!0});var te=y(e);t=p(te,"DIV",{class:!0});var se=y(t);a=p(se,"DIV",{class:!0});var ce=y(a);s=p(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-drx0cs"&&(s.textContent=n),i=k(ce),o=p(ce,"H3",{class:!0});var fe=y(o);m=M(fe,u),fe.forEach(f),v=k(ce),d=p(ce,"DIV",{class:!0});var ye=y(d);for(let Fe=0;Fe<q.length;Fe+=1)q[Fe].l(ye);ye.forEach(f),b=k(ce),_=p(ce,"DIV",{class:!0});var we=y(_);z&&z.l(we),we.forEach(f),ce.forEach(f),E=k(se),g=p(se,"DIV",{class:!0});var Z=y(g);U&&U.l(Z),C=k(Z),ae&&ae.l(Z),w=k(Z),R&&R.l(Z),I=k(Z),J&&J.l(Z),Z.forEach(f),A=k(se),x=p(se,"DIV",{class:!0});var de=y(x);P=p(de,"DIV",{class:!0});var be=y(P);N=p(be,"BUTTON",{class:!0});var Ce=y(N);T=M(Ce,"‚Üê Anterior"),Ce.forEach(f),V=k(be),Q.l(be),be.forEach(f),de.forEach(f),se.forEach(f),te.forEach(f),this.h()},h(){c(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-3xl font-medieval text-neutral text-center mb-4"),c(d,"class","flex justify-between items-center mb-2"),c(_,"class","text-center text-sm text-neutral/70 font-body"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(g,"class","flex-1 overflow-y-auto p-6 svelte-p7d1us"),c(N,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),N.disabled=H=l[3]===1,c(P,"class","flex justify-between gap-4"),c(x,"class","p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-4xl max-h-[90vh] relative flex flex-col"),c(e,"class","modal modal-open z-50")},m(G,te){j(G,e,te),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),r(o,m),r(a,v),r(a,d);for(let se=0;se<q.length;se+=1)q[se]&&q[se].m(d,null);r(a,b),r(a,_),z&&z.m(_,null),r(t,E),r(t,g),U&&U.m(g,null),r(g,C),ae&&ae.m(g,null),r(g,w),R&&R.m(g,null),r(g,I),J&&J.m(g,null),r(t,A),r(t,x),r(x,P),r(P,N),r(N,T),r(P,V),Q.m(P,null),L||(S=[le(s,"click",l[20]),le(N,"click",l[13])],L=!0)},p(G,te){if(te[0]&4&&u!==(u=G[2]?"‚úèÔ∏è Editar Personaje":"üßô‚Äç‚ôÇÔ∏è Crear Personaje")&&ee(m,u),te[0]&8){O=Je(Array(Ct));let se;for(se=0;se<O.length;se+=1){const ce=ss(G,O,se);q[se]?q[se].p(ce,te):(q[se]=ns(ce),q[se].c(),q[se].m(d,null))}for(;se<q.length;se+=1)q[se].d(1);q.length=O.length}W!==(W=F(G))&&(z&&z.d(1),z=W&&W(G),z&&(z.c(),z.m(_,null))),G[3]===1?U?U.p(G,te):(U=is(G),U.c(),U.m(g,C)):U&&(U.d(1),U=null),G[3]===2?ae?ae.p(G,te):(ae=fs(G),ae.c(),ae.m(g,w)):ae&&(ae.d(1),ae=null),G[3]===3?R?R.p(G,te):(R=hs(G),R.c(),R.m(g,I)):R&&(R.d(1),R=null),G[3]===4?J?J.p(G,te):(J=bs(G),J.c(),J.m(g,null)):J&&(J.d(1),J=null),te[0]&8&&H!==(H=G[3]===1)&&(N.disabled=H),Y===(Y=X(G))&&Q?Q.p(G,te):(Q.d(1),Q=Y(G),Q&&(Q.c(),Q.m(P,null)))},d(G){G&&f(e),lt(q,G),z&&z.d(),U&&U.d(),ae&&ae.d(),R&&R.d(),J&&J.d(),Q.d(),L=!1,at(S)}}}function rn(l){let e,t;return{c(){e=h("div"),t=h("div"),this.h()},l(a){e=p(a,"DIV",{class:!0});var s=y(e);t=p(s,"DIV",{class:!0,style:!0}),y(t).forEach(f),s.forEach(f),this.h()},h(){c(t,"class","h-full bg-secondary rounded transition-all duration-300"),Xt(t,"width",l[3]>l[54]+1?"100%":"0%"),c(e,"class","flex-1 h-1 mx-2 bg-base-300 rounded")},m(a,s){j(a,e,s),r(e,t)},p(a,s){s[0]&8&&Xt(t,"width",a[3]>a[54]+1?"100%":"0%")},d(a){a&&f(e)}}}function ns(l){let e,t,a=l[54]+1+"",s,n,i,o,u,m,v;function d(){return l[23](l[54])}let b=l[54]<Ct-1&&rn(l);return{c(){e=h("div"),t=h("button"),s=B(a),o=D(),b&&b.c(),u=D(),this.h()},l(_){e=p(_,"DIV",{class:!0});var E=y(e);t=p(E,"BUTTON",{class:!0});var g=y(t);s=M(g,a),g.forEach(f),o=k(E),b&&b.l(E),u=k(E),E.forEach(f),this.h()},h(){c(t,"class",n="btn btn-circle btn-sm "+(l[3]>l[54]+1?"btn-success":l[3]===l[54]+1?"btn-secondary":"btn-ghost")),t.disabled=i=l[54]+1>l[3],c(e,"class","flex items-center flex-1")},m(_,E){j(_,e,E),r(e,t),r(t,s),r(e,o),b&&b.m(e,null),r(e,u),m||(v=le(t,"click",d),m=!0)},p(_,E){l=_,E[0]&8&&n!==(n="btn btn-circle btn-sm "+(l[3]>l[54]+1?"btn-success":l[3]===l[54]+1?"btn-secondary":"btn-ghost"))&&c(t,"class",n),E[0]&8&&i!==(i=l[54]+1>l[3])&&(t.disabled=i),l[54]<Ct-1&&b.p(l,E)},d(_){_&&f(e),b&&b.d(),m=!1,v()}}}function nn(l){let e;return{c(){e=B("Competencias & Salvaciones")},l(t){e=M(t,"Competencias & Salvaciones")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function on(l){let e;return{c(){e=B("Puntuaciones de Habilidad")},l(t){e=M(t,"Puntuaciones de Habilidad")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function cn(l){let e;return{c(){e=B("Estad√≠sticas de Combate")},l(t){e=M(t,"Estad√≠sticas de Combate")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function un(l){let e;return{c(){e=B("Informaci√≥n B√°sica")},l(t){e=M(t,"Informaci√≥n B√°sica")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function is(l){let e,t,a,s='<span class="label-text font-medieval text-neutral text-lg">Nombre <span class="text-error">*</span></span>',n,i,o,u,m,v,d,b,_='<span class="label-text font-medieval text-neutral text-lg">Clase <span class="text-error">*</span></span>',E,g,C,w,I,A,x,P='<span class="label-text font-medieval text-neutral text-lg">Nivel <span class="text-error">*</span></span>',N,T,H,V,L,S,O,q,F,W,z,U="Calculado autom√°ticamente seg√∫n tu nivel",ae,R,J=l[4].name&&l[5].name&&os(l),X=l[4].class&&l[5].class&&cs(l),Y=l[4].level&&l[5].level&&us(l);return{c(){e=h("div"),t=h("div"),a=h("label"),a.innerHTML=s,n=D(),i=h("input"),u=D(),J&&J.c(),m=D(),v=h("div"),d=h("div"),b=h("label"),b.innerHTML=_,E=D(),g=h("input"),w=D(),X&&X.c(),I=D(),A=h("div"),x=h("label"),x.innerHTML=P,N=D(),T=h("input"),V=D(),Y&&Y.c(),L=D(),S=h("div"),O=h("p"),q=B("Bonus de Competencia: +"),F=B(l[7]),W=D(),z=h("p"),z.textContent=U,this.h()},l(Q){e=p(Q,"DIV",{class:!0});var G=y(e);t=p(G,"DIV",{class:!0});var te=y(t);a=p(te,"LABEL",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-euejpb"&&(a.innerHTML=s),n=k(te),i=p(te,"INPUT",{type:!0,placeholder:!0,class:!0}),u=k(te),J&&J.l(te),te.forEach(f),m=k(G),v=p(G,"DIV",{class:!0});var se=y(v);d=p(se,"DIV",{class:!0});var ce=y(d);b=p(ce,"LABEL",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-qka7hk"&&(b.innerHTML=_),E=k(ce),g=p(ce,"INPUT",{type:!0,placeholder:!0,class:!0}),w=k(ce),X&&X.l(ce),ce.forEach(f),I=k(se),A=p(se,"DIV",{class:!0});var fe=y(A);x=p(fe,"LABEL",{class:!0,"data-svelte-h":!0}),K(x)!=="svelte-1karhsq"&&(x.innerHTML=P),N=k(fe),T=p(fe,"INPUT",{type:!0,min:!0,max:!0,class:!0}),V=k(fe),Y&&Y.l(fe),fe.forEach(f),se.forEach(f),L=k(G),S=p(G,"DIV",{class:!0});var ye=y(S);O=p(ye,"P",{class:!0});var we=y(O);q=M(we,"Bonus de Competencia: +"),F=M(we,l[7]),we.forEach(f),W=k(ye),z=p(ye,"P",{class:!0,"data-svelte-h":!0}),K(z)!=="svelte-6wk9r6"&&(z.textContent=U),ye.forEach(f),G.forEach(f),this.h()},h(){c(a,"class","label"),c(i,"type","text"),c(i,"placeholder","Ej: Gandalf el Gris"),c(i,"class",o="input input-bordered bg-[#2d241c] text-base-content "+(l[4].name&&l[5].name?"border-error border-2":"border-primary/50")),c(t,"class","form-control"),c(b,"class","label"),c(g,"type","text"),c(g,"placeholder","Ej: Mago"),c(g,"class",C="input input-bordered bg-[#2d241c] text-base-content "+(l[4].class&&l[5].class?"border-error border-2":"border-primary/50")),c(d,"class","form-control"),c(x,"class","label"),c(T,"type","number"),c(T,"min","1"),c(T,"max","20"),c(T,"class",H="input input-bordered bg-[#2d241c] text-base-content "+(l[4].level&&l[5].level?"border-error border-2":"border-primary/50")),c(A,"class","form-control"),c(v,"class","grid grid-cols-2 gap-4"),c(O,"class","text-sm font-medieval text-neutral mb-1"),c(z,"class","text-xs text-neutral/70"),c(S,"class","bg-info/10 p-4 rounded-lg border border-info/30"),c(e,"class","space-y-4")},m(Q,G){j(Q,e,G),r(e,t),r(t,a),r(t,n),r(t,i),xe(i,l[0].name),r(t,u),J&&J.m(t,null),r(e,m),r(e,v),r(v,d),r(d,b),r(d,E),r(d,g),xe(g,l[0].class),r(d,w),X&&X.m(d,null),r(v,I),r(v,A),r(A,x),r(A,N),r(A,T),xe(T,l[0].level),r(A,V),Y&&Y.m(A,null),r(e,L),r(e,S),r(S,O),r(O,q),r(O,F),r(S,W),r(S,z),ae||(R=[le(i,"input",l[24]),le(i,"blur",l[25]),le(g,"input",l[26]),le(g,"blur",l[27]),le(T,"input",l[28]),le(T,"blur",l[29])],ae=!0)},p(Q,G){G[0]&48&&o!==(o="input input-bordered bg-[#2d241c] text-base-content "+(Q[4].name&&Q[5].name?"border-error border-2":"border-primary/50"))&&c(i,"class",o),G[0]&1&&i.value!==Q[0].name&&xe(i,Q[0].name),Q[4].name&&Q[5].name?J?J.p(Q,G):(J=os(Q),J.c(),J.m(t,null)):J&&(J.d(1),J=null),G[0]&48&&C!==(C="input input-bordered bg-[#2d241c] text-base-content "+(Q[4].class&&Q[5].class?"border-error border-2":"border-primary/50"))&&c(g,"class",C),G[0]&1&&g.value!==Q[0].class&&xe(g,Q[0].class),Q[4].class&&Q[5].class?X?X.p(Q,G):(X=cs(Q),X.c(),X.m(d,null)):X&&(X.d(1),X=null),G[0]&48&&H!==(H="input input-bordered bg-[#2d241c] text-base-content "+(Q[4].level&&Q[5].level?"border-error border-2":"border-primary/50"))&&c(T,"class",H),G[0]&1&&Ue(T.value)!==Q[0].level&&xe(T,Q[0].level),Q[4].level&&Q[5].level?Y?Y.p(Q,G):(Y=us(Q),Y.c(),Y.m(A,null)):Y&&(Y.d(1),Y=null),G[0]&128&&ee(F,Q[7])},d(Q){Q&&f(e),J&&J.d(),X&&X.d(),Y&&Y.d(),ae=!1,at(R)}}}function os(l){let e,t,a,s=l[4].name+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].name+"")&&ee(n,s)},d(i){i&&f(e)}}}function cs(l){let e,t,a,s=l[4].class+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].class+"")&&ee(n,s)},d(i){i&&f(e)}}}function us(l){let e,t,a,s=l[4].level+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].level+"")&&ee(n,s)},d(i){i&&f(e)}}}function fs(l){let e,t,a,s,n='<span class="label-text font-medieval text-neutral text-lg">HP M√°ximo <span class="text-error">*</span></span>',i,o,u,m,v,d,b,_='<span class="label-text font-medieval text-neutral text-lg">Clase de Armadura <span class="text-error">*</span></span>',E,g,C,w,I,A,x,P,N='<span class="label-text font-medieval text-neutral text-lg">Iniciativa <span class="text-error">*</span></span>',T,H,V,L,S='<span class="label-text-alt text-neutral/60 italic text-xs">Normalmente es tu modificador de Destreza</span>',O,q,F,W='<span class="label-text font-medieval text-neutral text-lg">Velocidad (pies) <span class="text-error">*</span></span>',z,U,ae,R,J='<span class="label-text-alt text-neutral/60 italic text-xs">Velocidad de movimiento (t√≠picamente 30 pies)</span>',X,Y,Q=l[4].maxHp&&l[5].maxHp&&ds(l),G=l[4].armorClass&&l[5].armorClass&&ps(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("label"),s.innerHTML=n,i=D(),o=h("input"),m=D(),Q&&Q.c(),v=D(),d=h("div"),b=h("label"),b.innerHTML=_,E=D(),g=h("input"),w=D(),G&&G.c(),I=D(),A=h("div"),x=h("div"),P=h("label"),P.innerHTML=N,T=D(),H=h("input"),V=D(),L=h("label"),L.innerHTML=S,O=D(),q=h("div"),F=h("label"),F.innerHTML=W,z=D(),U=h("input"),ae=D(),R=h("label"),R.innerHTML=J,this.h()},l(te){e=p(te,"DIV",{class:!0});var se=y(e);t=p(se,"DIV",{class:!0});var ce=y(t);a=p(ce,"DIV",{class:!0});var fe=y(a);s=p(fe,"LABEL",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-1ofltub"&&(s.innerHTML=n),i=k(fe),o=p(fe,"INPUT",{type:!0,min:!0,max:!0,class:!0}),m=k(fe),Q&&Q.l(fe),fe.forEach(f),v=k(ce),d=p(ce,"DIV",{class:!0});var ye=y(d);b=p(ye,"LABEL",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-15v8112"&&(b.innerHTML=_),E=k(ye),g=p(ye,"INPUT",{type:!0,min:!0,max:!0,class:!0}),w=k(ye),G&&G.l(ye),ye.forEach(f),ce.forEach(f),I=k(se),A=p(se,"DIV",{class:!0});var we=y(A);x=p(we,"DIV",{class:!0});var Z=y(x);P=p(Z,"LABEL",{class:!0,"data-svelte-h":!0}),K(P)!=="svelte-plf961"&&(P.innerHTML=N),T=k(Z),H=p(Z,"INPUT",{type:!0,min:!0,max:!0,class:!0}),V=k(Z),L=p(Z,"LABEL",{class:!0,"data-svelte-h":!0}),K(L)!=="svelte-lg0g9n"&&(L.innerHTML=S),Z.forEach(f),O=k(we),q=p(we,"DIV",{class:!0});var de=y(q);F=p(de,"LABEL",{class:!0,"data-svelte-h":!0}),K(F)!=="svelte-1kw08t7"&&(F.innerHTML=W),z=k(de),U=p(de,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ae=k(de),R=p(de,"LABEL",{class:!0,"data-svelte-h":!0}),K(R)!=="svelte-1kivwb9"&&(R.innerHTML=J),de.forEach(f),we.forEach(f),se.forEach(f),this.h()},h(){c(s,"class","label"),c(o,"type","number"),c(o,"min","1"),c(o,"max","999"),c(o,"class",u="input input-bordered bg-[#2d241c] text-base-content "+(l[4].maxHp&&l[5].maxHp?"border-error border-2":"border-primary/50")),c(a,"class","form-control"),c(b,"class","label"),c(g,"type","number"),c(g,"min","1"),c(g,"max","30"),c(g,"class",C="input input-bordered bg-[#2d241c] text-base-content "+(l[4].armorClass&&l[5].armorClass?"border-error border-2":"border-primary/50")),c(d,"class","form-control"),c(t,"class","grid grid-cols-2 gap-4"),c(P,"class","label"),c(H,"type","number"),c(H,"min","-5"),c(H,"max","15"),c(H,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(L,"class","label"),c(x,"class","form-control"),c(F,"class","label"),c(U,"type","number"),c(U,"min","0"),c(U,"max","120"),c(U,"step","5"),c(U,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(R,"class","label"),c(q,"class","form-control"),c(A,"class","grid grid-cols-2 gap-4"),c(e,"class","space-y-4")},m(te,se){j(te,e,se),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),xe(o,l[0].maxHp),r(a,m),Q&&Q.m(a,null),r(t,v),r(t,d),r(d,b),r(d,E),r(d,g),xe(g,l[0].armorClass),r(d,w),G&&G.m(d,null),r(e,I),r(e,A),r(A,x),r(x,P),r(x,T),r(x,H),xe(H,l[0].initiative),r(x,V),r(x,L),r(A,O),r(A,q),r(q,F),r(q,z),r(q,U),xe(U,l[0].speed),r(q,ae),r(q,R),X||(Y=[le(o,"input",l[30]),le(o,"blur",l[31]),le(g,"input",l[32]),le(g,"blur",l[33]),le(H,"input",l[34]),le(U,"input",l[35]),le(U,"blur",l[36])],X=!0)},p(te,se){se[0]&48&&u!==(u="input input-bordered bg-[#2d241c] text-base-content "+(te[4].maxHp&&te[5].maxHp?"border-error border-2":"border-primary/50"))&&c(o,"class",u),se[0]&1&&Ue(o.value)!==te[0].maxHp&&xe(o,te[0].maxHp),te[4].maxHp&&te[5].maxHp?Q?Q.p(te,se):(Q=ds(te),Q.c(),Q.m(a,null)):Q&&(Q.d(1),Q=null),se[0]&48&&C!==(C="input input-bordered bg-[#2d241c] text-base-content "+(te[4].armorClass&&te[5].armorClass?"border-error border-2":"border-primary/50"))&&c(g,"class",C),se[0]&1&&Ue(g.value)!==te[0].armorClass&&xe(g,te[0].armorClass),te[4].armorClass&&te[5].armorClass?G?G.p(te,se):(G=ps(te),G.c(),G.m(d,null)):G&&(G.d(1),G=null),se[0]&1&&Ue(H.value)!==te[0].initiative&&xe(H,te[0].initiative),se[0]&1&&Ue(U.value)!==te[0].speed&&xe(U,te[0].speed)},d(te){te&&f(e),Q&&Q.d(),G&&G.d(),X=!1,at(Y)}}}function ds(l){let e,t,a,s=l[4].maxHp+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].maxHp+"")&&ee(n,s)},d(i){i&&f(e)}}}function ps(l){let e,t,a,s=l[4].armorClass+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].armorClass+"")&&ee(n,s)},d(i){i&&f(e)}}}function hs(l){let e,t,a=Je(l[9]),s=[];for(let n=0;n<a.length;n+=1)s[n]=vs(as(l,a,n));return{c(){e=h("div"),t=h("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=p(n,"DIV",{class:!0});var i=y(e);t=p(i,"DIV",{class:!0});var o=y(t);for(let u=0;u<s.length;u+=1)s[u].l(o);o.forEach(f),i.forEach(f),this.h()},h(){c(t,"class","grid grid-cols-2 md:grid-cols-3 gap-4"),c(e,"class","space-y-4")},m(n,i){j(n,e,i),r(e,t);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null)},p(n,i){if(i[0]&6291969){a=Je(n[9]);let o;for(o=0;o<a.length;o+=1){const u=as(n,a,o);s[o]?s[o].p(u,i):(s[o]=vs(u),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=a.length}},d(n){n&&f(e),lt(s,n)}}}function ms(l){let e,t,a,s=l[22][l[47]]+"",n,i,o,u=l[21][l[47]]+"",m,v,d,b,_,E,g,C=it(nt(l[0].abilityScores[l[47]]))+"",w,I,A,x="modificador",P,N,T;function H(){l[37].call(b,l[47])}return{c(){e=h("div"),t=h("label"),a=h("span"),n=B(s),i=D(),o=h("span"),m=B(u),v=D(),d=h("div"),b=h("input"),_=D(),E=h("div"),g=h("div"),w=B(C),I=D(),A=h("div"),A.textContent=x,P=D(),this.h()},l(V){e=p(V,"DIV",{class:!0});var L=y(e);t=p(L,"LABEL",{class:!0});var S=y(t);a=p(S,"SPAN",{class:!0});var O=y(a);n=M(O,s),O.forEach(f),i=k(S),o=p(S,"SPAN",{class:!0});var q=y(o);m=M(q,u),q.forEach(f),S.forEach(f),v=k(L),d=p(L,"DIV",{class:!0});var F=y(d);b=p(F,"INPUT",{type:!0,min:!0,max:!0,class:!0}),_=k(F),E=p(F,"DIV",{class:!0});var W=y(E);g=p(W,"DIV",{class:!0});var z=y(g);w=M(z,C),z.forEach(f),I=k(W),A=p(W,"DIV",{class:!0,"data-svelte-h":!0}),K(A)!=="svelte-9uusst"&&(A.textContent=x),W.forEach(f),F.forEach(f),P=k(L),L.forEach(f),this.h()},h(){c(a,"class","label-text font-medieval text-neutral font-bold"),c(o,"class","badge badge-secondary"),c(t,"class","label pb-2"),c(b,"type","number"),c(b,"min","1"),c(b,"max","30"),c(b,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-20 text-center text-lg font-bold"),c(g,"class","text-2xl font-bold text-neutral"),c(A,"class","text-xs text-neutral/60"),c(E,"class","flex-1 text-center"),c(d,"class","flex items-center gap-2"),c(e,"class","bg-gradient-to-br from-primary/10 to-accent/10 p-4 rounded-lg border-2 border-primary/30")},m(V,L){j(V,e,L),r(e,t),r(t,a),r(a,n),r(t,i),r(t,o),r(o,m),r(e,v),r(e,d),r(d,b),xe(b,l[0].abilityScores[l[47]]),r(d,_),r(d,E),r(E,g),r(g,w),r(E,I),r(E,A),r(e,P),N||(T=le(b,"input",H),N=!0)},p(V,L){l=V,L[0]&512&&s!==(s=l[22][l[47]]+"")&&ee(n,s),L[0]&512&&u!==(u=l[21][l[47]]+"")&&ee(m,u),L[0]&513&&Ue(b.value)!==l[0].abilityScores[l[47]]&&xe(b,l[0].abilityScores[l[47]]),L[0]&513&&C!==(C=it(nt(l[0].abilityScores[l[47]]))+"")&&ee(w,C)},d(V){V&&f(e),N=!1,T()}}}function vs(l){let e,t=l[0].abilityScores[l[47]]!==void 0&&ms(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,s){t&&t.m(a,s),j(a,e,s)},p(a,s){a[0].abilityScores[a[47]]!==void 0?t?t.p(a,s):(t=ms(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(a){a&&f(e),t&&t.d(a)}}}function bs(l){let e,t,a,s="üõ°Ô∏è Tiradas de Salvaci√≥n",n,i,o,u,m="‚öîÔ∏è",v,d,b,_="üéØ Habilidades",E,g,C=Je(l[8]),w=[];for(let x=0;x<C.length;x+=1)w[x]=_s(ls(l,C,x));let I=Je(zt),A=[];for(let x=0;x<I.length;x+=1)A[x]=ys(ts(l,I,x));return{c(){e=h("div"),t=h("div"),a=h("h4"),a.textContent=s,n=D(),i=h("div");for(let x=0;x<w.length;x+=1)w[x].c();o=D(),u=h("div"),u.textContent=m,v=D(),d=h("div"),b=h("h4"),b.textContent=_,E=D(),g=h("div");for(let x=0;x<A.length;x+=1)A[x].c();this.h()},l(x){e=p(x,"DIV",{class:!0});var P=y(e);t=p(P,"DIV",{});var N=y(t);a=p(N,"H4",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-uh7kas"&&(a.textContent=s),n=k(N),i=p(N,"DIV",{class:!0});var T=y(i);for(let L=0;L<w.length;L+=1)w[L].l(T);T.forEach(f),N.forEach(f),o=k(P),u=p(P,"DIV",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-uzv0g8"&&(u.textContent=m),v=k(P),d=p(P,"DIV",{});var H=y(d);b=p(H,"H4",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-1y79s75"&&(b.textContent=_),E=k(H),g=p(H,"DIV",{class:!0});var V=y(g);for(let L=0;L<A.length;L+=1)A[L].l(V);V.forEach(f),H.forEach(f),P.forEach(f),this.h()},h(){c(a,"class","font-medieval text-xl text-neutral mb-3 flex items-center gap-2"),c(i,"class","grid grid-cols-2 md:grid-cols-3 gap-3"),c(u,"class","divider text-neutral/50"),c(b,"class","font-medieval text-xl text-neutral mb-3 flex items-center gap-2"),c(g,"class","space-y-2 max-h-96 overflow-y-auto pr-2 svelte-p7d1us"),c(e,"class","space-y-6")},m(x,P){j(x,e,P),r(e,t),r(t,a),r(t,n),r(t,i);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(i,null);r(e,o),r(e,u),r(e,v),r(e,d),r(d,b),r(d,E),r(d,g);for(let N=0;N<A.length;N+=1)A[N]&&A[N].m(g,null)},p(x,P){if(P[0]&4473089){C=Je(x[8]);let N;for(N=0;N<C.length;N+=1){const T=ls(x,C,N);w[N]?w[N].p(T,P):(w[N]=_s(T),w[N].c(),w[N].m(i,null))}for(;N<w.length;N+=1)w[N].d(1);w.length=C.length}if(P[0]&4424704){I=Je(zt);let N;for(N=0;N<I.length;N+=1){const T=ts(x,I,N);A[N]?A[N].p(T,P):(A[N]=ys(T),A[N].c(),A[N].m(g,null))}for(;N<A.length;N+=1)A[N].d(1);A.length=I.length}},d(x){x&&f(e),lt(w,x),lt(A,x)}}}function _s(l){let e,t,a,s,n,i,o=l[22][l[47]]+"",u,m,v,d=it(l[18](l[47]))+"",b,_,E,g,C;function w(){return l[38](l[47])}return{c(){e=h("label"),t=h("input"),s=D(),n=h("div"),i=h("div"),u=B(o),m=D(),v=h("div"),b=B(d),_=D(),this.h()},l(I){e=p(I,"LABEL",{class:!0});var A=y(e);t=p(A,"INPUT",{type:!0,class:!0}),s=k(A),n=p(A,"DIV",{class:!0});var x=y(n);i=p(x,"DIV",{class:!0});var P=y(i);u=M(P,o),P.forEach(f),m=k(x),v=p(x,"DIV",{class:!0});var N=y(v);b=M(N,d),N.forEach(f),x.forEach(f),_=k(A),A.forEach(f),this.h()},h(){c(t,"type","checkbox"),t.checked=a=l[0].savingThrows[l[47]],c(t,"class","checkbox checkbox-sm checkbox-success"),c(i,"class","font-medieval text-sm"),c(v,"class","text-xs text-neutral/70"),c(n,"class","flex-1"),c(e,"class",E="flex items-center gap-2 p-3 rounded-lg border-2 cursor-pointer transition-all "+(l[0].savingThrows[l[47]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))},m(I,A){j(I,e,A),r(e,t),r(e,s),r(e,n),r(n,i),r(i,u),r(n,m),r(n,v),r(v,b),r(e,_),g||(C=le(t,"change",w),g=!0)},p(I,A){l=I,A[0]&257&&a!==(a=l[0].savingThrows[l[47]])&&(t.checked=a),A[0]&256&&o!==(o=l[22][l[47]]+"")&&ee(u,o),A[0]&256&&d!==(d=it(l[18](l[47]))+"")&&ee(b,d),A[0]&257&&E!==(E="flex items-center gap-2 p-3 rounded-lg border-2 cursor-pointer transition-all "+(l[0].savingThrows[l[47]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))&&c(e,"class",E)},d(I){I&&f(e),g=!1,C()}}}function gs(l){let e,t,a,s,n,i,o,u=l[44].label+"",m,v,d,b=l[22][l[44].ability]+"",_,E,g=it(l[17](l[10][l[44].name]))+"",C,w,I,A,x,P;function N(){return l[39](l[44])}let T=l[10][l[44].name].proficient&&Es(l);return{c(){e=h("div"),t=h("label"),a=h("input"),n=D(),i=h("div"),o=h("div"),m=B(u),v=D(),d=h("div"),_=B(b),E=B(" ‚Ä¢ "),C=B(g),w=D(),T&&T.c(),I=D(),this.h()},l(H){e=p(H,"DIV",{class:!0});var V=y(e);t=p(V,"LABEL",{class:!0});var L=y(t);a=p(L,"INPUT",{type:!0,class:!0}),n=k(L),i=p(L,"DIV",{class:!0});var S=y(i);o=p(S,"DIV",{class:!0});var O=y(o);m=M(O,u),O.forEach(f),v=k(S),d=p(S,"DIV",{class:!0});var q=y(d);_=M(q,b),E=M(q," ‚Ä¢ "),C=M(q,g),q.forEach(f),S.forEach(f),L.forEach(f),w=k(V),T&&T.l(V),I=k(V),V.forEach(f),this.h()},h(){c(a,"type","checkbox"),a.checked=s=l[10][l[44].name].proficient||!1,c(a,"class","checkbox checkbox-sm checkbox-success"),c(o,"class","font-medieval text-sm"),c(d,"class","text-xs text-neutral/70"),c(i,"class","flex-1"),c(t,"class","flex items-center gap-2 cursor-pointer flex-1"),c(e,"class",A="flex items-center gap-2 p-3 rounded-lg border-2 transition-all "+(l[10][l[44].name].expertise?"bg-warning/20 border-warning":l[10][l[44].name].proficient?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))},m(H,V){j(H,e,V),r(e,t),r(t,a),r(t,n),r(t,i),r(i,o),r(o,m),r(i,v),r(i,d),r(d,_),r(d,E),r(d,C),r(e,w),T&&T.m(e,null),r(e,I),x||(P=le(a,"change",N),x=!0)},p(H,V){l=H,V[0]&1024&&s!==(s=l[10][l[44].name].proficient||!1)&&(a.checked=s),V[0]&1024&&g!==(g=it(l[17](l[10][l[44].name]))+"")&&ee(C,g),l[10][l[44].name].proficient?T?T.p(l,V):(T=Es(l),T.c(),T.m(e,I)):T&&(T.d(1),T=null),V[0]&1024&&A!==(A="flex items-center gap-2 p-3 rounded-lg border-2 transition-all "+(l[10][l[44].name].expertise?"bg-warning/20 border-warning":l[10][l[44].name].proficient?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))&&c(e,"class",A)},d(H){H&&f(e),T&&T.d(),x=!1,P()}}}function Es(l){let e,t,a,s,n;function i(){return l[40](l[44])}return{c(){e=h("button"),t=B("‚òÖ"),this.h()},l(o){e=p(o,"BUTTON",{class:!0,title:!0});var u=y(e);t=M(u,"‚òÖ"),u.forEach(f),this.h()},h(){c(e,"class",a="btn btn-xs "+(l[10][l[44].name].expertise?"btn-warning":"btn-ghost")),c(e,"title","Expertise (x2 proficiency)")},m(o,u){j(o,e,u),r(e,t),s||(n=le(e,"click",i),s=!0)},p(o,u){l=o,u[0]&1024&&a!==(a="btn btn-xs "+(l[10][l[44].name].expertise?"btn-warning":"btn-ghost"))&&c(e,"class",a)},d(o){o&&f(e),s=!1,n()}}}function ys(l){let e,t=l[10][l[44].name]&&gs(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,s){t&&t.m(a,s),j(a,e,s)},p(a,s){a[10][a[44].name]?t?t.p(a,s):(t=gs(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(a){a&&f(e),t&&t.d(a)}}}function fn(l){let e,t,a=l[2]?"üíæ":"‚ú®",s,n,i=l[2]?"Guardar Cambios":"Crear Personaje",o,u,m,v;return{c(){e=h("button"),t=h("span"),s=B(a),n=D(),o=B(i),this.h()},l(d){e=p(d,"BUTTON",{class:!0,type:!0});var b=y(e);t=p(b,"SPAN",{class:!0});var _=y(t);s=M(_,a),_.forEach(f),n=k(b),o=M(b,i),b.forEach(f),this.h()},h(){c(t,"class","text-xl"),c(e,"class","btn btn-dnd"),e.disabled=u=!l[6],c(e,"type","button")},m(d,b){j(d,e,b),r(e,t),r(t,s),r(e,n),r(e,o),m||(v=le(e,"click",l[19]),m=!0)},p(d,b){b[0]&4&&a!==(a=d[2]?"üíæ":"‚ú®")&&ee(s,a),b[0]&4&&i!==(i=d[2]?"Guardar Cambios":"Crear Personaje")&&ee(o,i),b[0]&64&&u!==(u=!d[6])&&(e.disabled=u)},d(d){d&&f(e),m=!1,v()}}}function dn(l){let e,t,a,s,n;return{c(){e=h("button"),t=B("Siguiente ‚Üí"),this.h()},l(i){e=p(i,"BUTTON",{class:!0,type:!0});var o=y(e);t=M(o,"Siguiente ‚Üí"),o.forEach(f),this.h()},h(){c(e,"class","btn btn-dnd"),e.disabled=a=!l[6],c(e,"type","button")},m(i,o){j(i,e,o),r(e,t),s||(n=le(e,"click",l[12]),s=!0)},p(i,o){o[0]&64&&a!==(a=!i[6])&&(e.disabled=a)},d(i){i&&f(e),s=!1,n()}}}function pn(l){let e,t=l[1]&&rs(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,s){t&&t.m(a,s),j(a,e,s)},p(a,s){a[1]?t?t.p(a,s):(t=rs(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ke,o:Ke,d(a){a&&f(e),t&&t.d(a)}}}const Ct=4;function hn(l,e,t){let a,s,n,i,o,u,{isOpen:m=!1}=e,{isEdit:v=!1}=e,{form:d}=e;const b=Bt();let _=1,E={name:"",class:"",level:"",maxHp:"",armorClass:"",speed:""},g={name:!1,class:!1,level:!1,maxHp:!1,armorClass:!1,speed:!1};function C(Z){t(5,g[Z]=!0,g)}function w(){if(!u){_===1?(t(5,g.name=!0,g),t(5,g.class=!0,g),t(5,g.level=!0,g)):_===2&&(t(5,g.maxHp=!0,g),t(5,g.armorClass=!0,g),t(5,g.speed=!0,g));return}_<Ct&&t(3,_++,_)}function I(){_>1&&t(3,_--,_)}function A(Z){t(0,d.savingThrows[Z]=!d.savingThrows[Z],d)}function x(Z){const de=d.skills.findIndex(Fe=>Fe.name===Z);if(de===-1){console.error(`Skill not found: ${Z}`);return}const be=[...d.skills],Ce=be[de].proficient;be[de]={...be[de],proficient:!Ce,expertise:Ce?!1:be[de].expertise},t(0,d.skills=be,d)}function P(Z){const de=d.skills.findIndex(Ce=>Ce.name===Z);if(de===-1){console.error(`Skill not found: ${Z}`);return}if(!d.skills[de].proficient){console.warn(`‚ö†Ô∏è Cannot toggle expertise: ${Z} is not proficient`);return}const be=[...d.skills];be[de]={...be[de],expertise:!be[de].expertise},t(0,d.skills=be,d)}function N(Z){if(!Z)return 0;let be=s[Z.ability];return Z.expertise?be+=a*2:Z.proficient&&(be+=a),be}function T(Z){const de=s[Z];return d.savingThrows[Z]?de+a:de}function H(){Object.keys(g).forEach(Z=>{t(5,g[Z]=!0,g)});for(let Z=1;Z<=Ct;Z++)if(t(3,_=Z),!u)return;b("submit",d),V()}function V(){Object.keys(g).forEach(Z=>{t(5,g[Z]=!1,g)}),Object.keys(E).forEach(Z=>{t(4,E[Z]="",E)}),t(3,_=1)}function L(){V(),b("close")}const S={strength:"FUE",dexterity:"DES",constitution:"CON",intelligence:"INT",wisdom:"SAB",charisma:"CAR"},O={strength:"Fuerza",dexterity:"Destreza",constitution:"Constituci√≥n",intelligence:"Inteligencia",wisdom:"Sabidur√≠a",charisma:"Carisma"},q=Z=>t(3,_=Z+1);function F(){d.name=this.value,t(0,d)}const W=()=>C("name");function z(){d.class=this.value,t(0,d)}const U=()=>C("class");function ae(){d.level=Ue(this.value),t(0,d)}const R=()=>C("level");function J(){d.maxHp=Ue(this.value),t(0,d)}const X=()=>C("maxHp");function Y(){d.armorClass=Ue(this.value),t(0,d)}const Q=()=>C("armorClass");function G(){d.initiative=Ue(this.value),t(0,d)}function te(){d.speed=Ue(this.value),t(0,d)}const se=()=>C("speed");function ce(Z){d.abilityScores[Z]=Ue(this.value),t(0,d)}const fe=Z=>A(Z),ye=Z=>x(Z.name),we=Z=>P(Z.name);return l.$$set=Z=>{"isOpen"in Z&&t(1,m=Z.isOpen),"isEdit"in Z&&t(2,v=Z.isEdit),"form"in Z&&t(0,d=Z.form)},l.$$.update=()=>{if(l.$$.dirty[0]&1&&t(7,a=Wt(d.level)),l.$$.dirty[0]&1&&(s={strength:nt(d.abilityScores.strength),dexterity:nt(d.abilityScores.dexterity),constitution:nt(d.abilityScores.constitution),intelligence:nt(d.abilityScores.intelligence),wisdom:nt(d.abilityScores.wisdom),charisma:nt(d.abilityScores.charisma)}),l.$$.dirty[0]&1&&t(10,n=d!=null&&d.skills?d.skills.reduce((Z,de)=>(Z[de.name]=de,Z),{}):{}),l.$$.dirty[0]&1&&t(9,i=Object.keys(d.abilityScores)),l.$$.dirty[0]&1&&t(8,o=Object.keys(d.savingThrows)),l.$$.dirty[0]&1){const Z=Fs(d.name);t(4,E.name=Z.error||"",E),!d.class||d.class.trim().length<2?t(4,E.class="La clase debe tener al menos 2 caracteres",E):d.class.trim().length>50?t(4,E.class="La clase no puede tener m√°s de 50 caracteres",E):t(4,E.class="",E);const de=Us(d.level);t(4,E.level=de.error||"",E);const be=zs(d.maxHp);t(4,E.maxHp=be.error||"",E);const Ce=Rs(d.armorClass);t(4,E.armorClass=Ce.error||"",E),d.speed<0?t(4,E.speed="La velocidad no puede ser negativa",E):d.speed>120?t(4,E.speed="La velocidad m√°xima es 120 pies",E):t(4,E.speed="",E)}l.$$.dirty[0]&25&&t(6,u=(()=>{switch(_){case 1:{const Z=d.name.trim()!==""&&!E.name,de=d.class.trim()!==""&&d.class.trim().length>=2&&!E.class,be=d.level>=1&&d.level<=20&&!E.level;return Z&&de&&be}case 2:return d.maxHp>0&&d.armorClass>0&&d.speed>=0&&!E.maxHp&&!E.armorClass&&!E.speed;case 3:return Object.values(d.abilityScores).every(de=>de>=1&&de<=30);case 4:return!0;default:return!1}})())},[d,m,v,_,E,g,u,a,o,i,n,C,w,I,A,x,P,N,T,H,L,S,O,q,F,W,z,U,ae,R,J,X,Y,Q,G,te,se,ce,fe,ye,we]}class mn extends Dt{constructor(e){super(),wt(this,e,hn,pn,It,{isOpen:1,isEdit:2,form:0},null,[-1,-1])}}function Cs(l,e,t){const a=l.slice();return a[30]=e[t],a}function ks(l){let e,t,a,s,n,i,o,u,m="‚úï",v,d;return{c(){e=h("div"),t=Ut("svg"),a=Ut("path"),s=D(),n=h("span"),i=B(l[1]),o=D(),u=h("button"),u.textContent=m,this.h()},l(b){e=p(b,"DIV",{class:!0});var _=y(e);t=Ft(_,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var E=y(t);a=Ft(E,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(a).forEach(f),E.forEach(f),s=k(_),n=p(_,"SPAN",{});var g=y(n);i=M(g,l[1]),g.forEach(f),o=k(_),u=p(_,"BUTTON",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-4f72mu"&&(u.textContent=m),_.forEach(f),this.h()},h(){c(a,"fill-rule","evenodd"),c(a,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"),c(a,"clip-rule","evenodd"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-5 w-5"),c(t,"viewBox","0 0 20 20"),c(t,"fill","currentColor"),c(u,"class","btn btn-sm btn-ghost"),c(e,"class","alert alert-error mb-6")},m(b,_){j(b,e,_),r(e,t),r(t,a),r(e,s),r(e,n),r(n,i),r(e,o),r(e,u),v||(d=le(u,"click",l[15]),v=!0)},p(b,_){_[0]&2&&ee(i,b[1])},d(b){b&&f(e),v=!1,d()}}}function vn(l){let e,t,a,s=l[6]?"üë§ Mi Personaje":"",n,i,o,u,m,v,d;const b=[gn,_n],_=[];function E(C,w){return C[6]?0:1}o=E(l),u=_[o]=b[o](l);let g=l[5].length>0&&Ds(l);return{c(){e=h("div"),t=h("div"),a=h("h2"),n=B(s),i=D(),u.c(),m=D(),g&&g.c(),v=Ye(),this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);a=p(I,"H2",{class:!0});var A=y(a);n=M(A,s),A.forEach(f),I.forEach(f),i=k(w),u.l(w),w.forEach(f),m=k(C),g&&g.l(C),v=Ye(),this.h()},h(){c(a,"class","text-2xl font-medieval text-secondary"),c(t,"class","flex justify-between items-center mb-4"),c(e,"class","mb-10")},m(C,w){j(C,e,w),r(e,t),r(t,a),r(a,n),r(e,i),_[o].m(e,null),j(C,m,w),g&&g.m(C,w),j(C,v,w),d=!0},p(C,w){(!d||w[0]&64)&&s!==(s=C[6]?"üë§ Mi Personaje":"")&&ee(n,s);let I=o;o=E(C),o===I?_[o].p(C,w):(Nt(),$e(_[I],1,1,()=>{_[I]=null}),Mt(),u=_[o],u?u.p(C,w):(u=_[o]=b[o](C),u.c()),Ze(u,1),u.m(e,null)),C[5].length>0?g?(g.p(C,w),w[0]&32&&Ze(g,1)):(g=Ds(C),g.c(),Ze(g,1),g.m(v.parentNode,v)):g&&(Nt(),$e(g,1,1,()=>{g=null}),Mt())},i(C){d||(Ze(u),Ze(g),d=!0)},o(C){$e(u),$e(g),d=!1},d(C){C&&(f(e),f(m),f(v)),_[o].d(),g&&g.d(C)}}}function bn(l){let e,t='<div class="flex flex-col items-center gap-4"><span class="loading loading-spinner loading-lg text-secondary"></span> <p class="text-neutral/70 font-body">Cargando personajes...</p></div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-3wguzo"&&(e.innerHTML=t),this.h()},h(){c(e,"class","flex justify-center py-20")},m(a,s){j(a,e,s)},p:Ke,i:Ke,o:Ke,d(a){a&&f(e)}}}function _n(l){let e,t,a,s="üßô‚Äç‚ôÇÔ∏è",n,i,o="No tienes personaje",u,m,v="Crea tu personaje para unirte a las aventuras de esta campa√±a",d,b,_=`<span class="text-xl sm:text-2xl">‚ú®</span>
                    Crear Mi Personaje`,E,g;return{c(){e=h("div"),t=h("div"),a=h("div"),a.textContent=s,n=D(),i=h("h3"),i.textContent=o,u=D(),m=h("p"),m.textContent=v,d=D(),b=h("button"),b.innerHTML=_,this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);a=p(I,"DIV",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1ln1omq"&&(a.textContent=s),n=k(I),i=p(I,"H3",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-159hl7e"&&(i.textContent=o),u=k(I),m=p(I,"P",{class:!0,"data-svelte-h":!0}),K(m)!=="svelte-iqqe9"&&(m.textContent=v),d=k(I),b=p(I,"BUTTON",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-1yr15ob"&&(b.innerHTML=_),I.forEach(f),w.forEach(f),this.h()},h(){c(a,"class","text-4xl sm:text-6xl mb-4"),c(i,"class","text-xl sm:text-2xl font-medieval text-neutral mb-3"),c(m,"class","text-sm sm:text-base text-neutral/70 font-body mb-6"),c(b,"class","btn btn-dnd btn-md sm:btn-lg"),c(t,"class","card-parchment p-6 sm:p-8 text-center max-w-2xl corner-ornament"),c(e,"class","flex justify-center")},m(C,w){j(C,e,w),r(e,t),r(t,a),r(t,n),r(t,i),r(t,u),r(t,m),r(t,d),r(t,b),E||(g=le(b,"click",l[7]),E=!0)},p:Ke,i:Ke,o:Ke,d(C){C&&f(e),E=!1,g()}}}function gn(l){let e,t,a,s;return a=new Vs({props:{character:l[6],isOwner:!0,showInventory:!0}}),a.$on("edit",l[16]),a.$on("delete",l[17]),{c(){e=h("div"),t=h("div"),yt(a.$$.fragment),this.h()},l(n){e=p(n,"DIV",{class:!0});var i=y(e);t=p(i,"DIV",{class:!0});var o=y(t);Et(a.$$.fragment,o),o.forEach(f),i.forEach(f),this.h()},h(){c(t,"class","max-w-6xl w-full"),c(e,"class","flex justify-center")},m(n,i){j(n,e,i),r(e,t),gt(a,t,null),s=!0},p(n,i){const o={};i[0]&64&&(o.character=n[6]),a.$set(o)},i(n){s||(Ze(a.$$.fragment,n),s=!0)},o(n){$e(a.$$.fragment,n),s=!1},d(n){n&&f(e),_t(a)}}}function Ds(l){let e,t="‚öîÔ∏è",a,s,n='<h2 class="text-2xl sm:text-3xl font-medieval text-center text-secondary mb-2">Compa√±eros de Aventura</h2> <p class="text-primary text-center font-body italic text-sm sm:text-base">Los dem√°s h√©roes de esta campa√±a</p>',i,o,u,m,v=Je(l[5]),d=[];for(let _=0;_<v.length;_+=1)d[_]=ws(Cs(l,v,_));const b=_=>$e(d[_],1,1,()=>{d[_]=null});return{c(){e=h("div"),e.textContent=t,a=D(),s=h("div"),s.innerHTML=n,i=D(),o=h("div"),u=h("div");for(let _=0;_<d.length;_+=1)d[_].c();this.h()},l(_){e=p(_,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-erxn0r"&&(e.textContent=t),a=k(_),s=p(_,"DIV",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-xk4yrr"&&(s.innerHTML=n),i=k(_),o=p(_,"DIV",{class:!0});var E=y(o);u=p(E,"DIV",{class:!0});var g=y(u);for(let C=0;C<d.length;C+=1)d[C].l(g);g.forEach(f),E.forEach(f),this.h()},h(){c(e,"class","divider text-neutral/50 my-8"),c(s,"class","mb-6"),c(u,"class","grid grid-cols-1 gap-6"),c(o,"class","container mx-auto max-w-7xl")},m(_,E){j(_,e,E),j(_,a,E),j(_,s,E),j(_,i,E),j(_,o,E),r(o,u);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(u,null);m=!0},p(_,E){if(E[0]&32){v=Je(_[5]);let g;for(g=0;g<v.length;g+=1){const C=Cs(_,v,g);d[g]?(d[g].p(C,E),Ze(d[g],1)):(d[g]=ws(C),d[g].c(),Ze(d[g],1),d[g].m(u,null))}for(Nt(),g=v.length;g<d.length;g+=1)b(g);Mt()}},i(_){if(!m){for(let E=0;E<v.length;E+=1)Ze(d[E]);m=!0}},o(_){d=d.filter(Boolean);for(let E=0;E<d.length;E+=1)$e(d[E]);m=!1},d(_){_&&(f(e),f(a),f(s),f(i),f(o)),lt(d,_)}}}function ws(l){let e,t,a,s,n;return a=new Vs({props:{character:l[30],isOwner:!1,showInventory:!0}}),{c(){e=h("div"),t=h("div"),yt(a.$$.fragment),s=D(),this.h()},l(i){e=p(i,"DIV",{class:!0});var o=y(e);t=p(o,"DIV",{class:!0});var u=y(t);Et(a.$$.fragment,u),u.forEach(f),s=k(o),o.forEach(f),this.h()},h(){c(t,"class","w-full max-w-6xl"),c(e,"class","flex justify-center")},m(i,o){j(i,e,o),r(e,t),gt(a,t,null),r(e,s),n=!0},p(i,o){const u={};o[0]&32&&(u.character=i[30]),a.$set(u)},i(i){n||(Ze(a.$$.fragment,i),n=!0)},o(i){$e(a.$$.fragment,i),n=!1},d(i){i&&f(e),_t(a)}}}function En(l){let e,t,a,s,n,i='<h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-secondary title-ornament mb-3 text-shadow">Personajes</h1> <p class="text-base-content/70 font-body italic text-base sm:text-lg mb-2">&quot;Cada h√©roe tiene su historia...&quot;</p>',o,u,m,v,d,b,_,E,g,C=l[1]&&ks(l);const w=[bn,vn],I=[];function A(T,H){return T[0]?0:1}m=A(l),v=I[m]=w[m](l);function x(T){l[18](T)}function P(T){l[19](T)}let N={isEdit:l[3]};return l[2]!==void 0&&(N.isOpen=l[2]),l[4]!==void 0&&(N.form=l[4]),b=new mn({props:N}),At.push(()=>Lt(b,"isOpen",x)),At.push(()=>Lt(b,"form",P)),b.$on("submit",l[9]),b.$on("close",l[11]),{c(){e=h("div"),t=h("div"),a=h("div"),s=h("div"),n=h("div"),n.innerHTML=i,o=D(),C&&C.c(),u=D(),v.c(),d=D(),yt(b.$$.fragment),this.h()},l(T){e=p(T,"DIV",{class:!0});var H=y(e);t=p(H,"DIV",{class:!0});var V=y(t);a=p(V,"DIV",{class:!0});var L=y(a);s=p(L,"DIV",{class:!0});var S=y(s);n=p(S,"DIV",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-xbcwjp"&&(n.innerHTML=i),o=k(S),C&&C.l(S),u=k(S),v.l(S),S.forEach(f),L.forEach(f),V.forEach(f),H.forEach(f),d=k(T),Et(b.$$.fragment,T),this.h()},h(){c(n,"class","mb-6 sm:mb-8 text-center"),c(s,"class","container mx-auto max-w-7xl"),c(a,"class","flex-1 p-4 sm:p-6"),c(t,"class","flex flex-1"),c(e,"class","min-h-screen flex flex-col")},m(T,H){j(T,e,H),r(e,t),r(t,a),r(a,s),r(s,n),r(s,o),C&&C.m(s,null),r(s,u),I[m].m(s,null),j(T,d,H),gt(b,T,H),g=!0},p(T,H){T[1]?C?C.p(T,H):(C=ks(T),C.c(),C.m(s,u)):C&&(C.d(1),C=null);let V=m;m=A(T),m===V?I[m].p(T,H):(Nt(),$e(I[V],1,1,()=>{I[V]=null}),Mt(),v=I[m],v?v.p(T,H):(v=I[m]=w[m](T),v.c()),Ze(v,1),v.m(s,null));const L={};H[0]&8&&(L.isEdit=T[3]),!_&&H[0]&4&&(_=!0,L.isOpen=T[2],Pt(()=>_=!1)),!E&&H[0]&16&&(E=!0,L.form=T[4],Pt(()=>E=!1)),b.$set(L)},i(T){g||(Ze(v),Ze(b.$$.fragment,T),g=!0)},o(T){$e(v),$e(b.$$.fragment,T),g=!1},d(T){T&&(f(e),f(d)),C&&C.d(),I[m].d(),_t(b,T)}}}function yn(l,e,t){let a,s,n,i,o;Yt(l,Ms,U=>t(13,i=U)),Yt(l,Ss,U=>t(14,o=U)),Ps.set("Personajes");let u=null,m=[],v=!0,d="",b=!1,_=null,E=!1;function g(){return{name:"",class:"Aventurero",level:1,maxHp:10,armorClass:10,initiative:0,speed:30,abilityScores:{strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10},savingThrows:{strength:!1,dexterity:!1,constitution:!1,intelligence:!1,wisdom:!1,charisma:!1},skills:zt.map(U=>({name:U.name,ability:U.ability,proficient:!1,expertise:!1}))}}function C(U){return{name:U.name,class:U.class,level:U.level,maxHp:U.maxHp,armorClass:U.armorClass,initiative:U.initiative,speed:U.speed,abilityScores:{...U.abilityScores},savingThrows:{...U.savingThrows},skills:zt.map(ae=>{var J;const R=(J=U.skills)==null?void 0:J.find(X=>X.name===ae.name);return R?{...R}:{name:ae.name,ability:ae.ability,proficient:!1,expertise:!1}})}}let w=g();function I(){t(4,w=g())}let A=null;const x=Gs(Xs);Ts(async()=>{await N(),P()}),Ls(()=>{A&&A()});function P(){try{t(0,v=!0);const U=Qs(x,"characters"),ae=Js(U,Ks("campaignId","==",a));A=Ws(ae,R=>{t(12,m=R.docs.map(J=>({id:J.id,...J.data()}))),t(0,v=!1)},R=>{console.error("Error en listener de personajes:",R),t(1,d=R.message),t(0,v=!1)})}catch(U){t(1,d=U.message),t(0,v=!1)}}async function N(){try{u=await Ot.getCampaign(a)}catch(U){t(1,d=U.message)}}function T(){_=null,t(3,E=!1),I(),t(2,b=!0)}function H(U){_=U,t(3,E=!0),t(4,w=C(U)),t(2,b=!0)}async function V(){try{const U=Wt(w.level),ae={name:w.name,class:w.class,level:w.level,maxHp:w.maxHp,armorClass:w.armorClass,initiative:w.initiative,speed:w.speed,abilityScores:w.abilityScores,proficiencyBonus:U,savingThrows:w.savingThrows,skills:w.skills};E&&_?await Ot.updateCharacter(_.id,ae):await Ot.createCharacter(a,ae),t(2,b=!1),I()}catch(U){t(1,d=U.message)}}async function L(U){if(confirm(`¬øEliminar a ${U.name}?`))try{await Ot.deleteCharacter(U.id)}catch(ae){t(1,d=ae.message)}}function S(){t(2,b=!1),I()}const O=()=>t(1,d=""),q=U=>H(U.detail),F=U=>L(U.detail);function W(U){b=U,t(2,b)}function z(U){w=U,t(4,w)}return l.$$.update=()=>{l.$$.dirty[0]&16384&&(a=o.params.id||""),l.$$.dirty[0]&12288&&t(6,s=m.find(U=>U.userId===(i==null?void 0:i.uid))),l.$$.dirty[0]&12288&&t(5,n=m.filter(U=>U.userId!==(i==null?void 0:i.uid)))},[v,d,b,E,w,n,s,T,H,V,L,S,m,i,o,O,q,F,W,z]}class Ln extends Dt{constructor(e){super(),wt(this,e,yn,En,It,{},null,[-1,-1])}}export{Ln as component};
