import{S as nt,i as rt,s as ot,n as Ce,d as v,a as Q,b as l,c as a,e as r,f as E,g as D,u as Qe,j as o,k as I,m as Ke,q as it,v as ct,o as ne,l as Z,p as K,h as N,t as W,r as Se,w as We,x as we,y as dt}from"../chunks/CQqHTK8U.js";import{h as ut,a as je,e as Xe}from"../chunks/BjXTUeIZ.js";import"../chunks/IHki7fMi.js";import{p as ft}from"../chunks/CSRxS88f.js";import{g as Pe}from"../chunks/CuU0tWjs.js";import{u as vt}from"../chunks/8E2ohCEn.js";import{g as mt,d as ht,o as Ye,c as pt,q as _t,w as bt}from"../chunks/kMfomZo-.js";import{a as gt}from"../chunks/SB3GKwJC.js";function Ze(i,t,e){const s=i.slice();return s[29]=t[e],s}function $e(i){let t,e,s,d,f,n,b="‚úï",m,x;return{c(){t=o("div"),e=o("div"),s=o("span"),d=W(i[3]),f=I(),n=o("button"),n.textContent=b,this.h()},l(h){t=r(h,"DIV",{class:!0});var p=E(t);e=r(p,"DIV",{class:!0});var c=E(e);s=r(c,"SPAN",{});var u=E(s);d=K(u,i[3]),u.forEach(v),f=D(c),n=r(c,"BUTTON",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-4tcifc"&&(n.textContent=b),c.forEach(v),p.forEach(v),this.h()},h(){a(n,"class","btn btn-sm"),a(e,"class","alert alert-error"),a(t,"class","container mx-auto p-4")},m(h,p){Q(h,t,p),l(t,e),l(e,s),l(s,d),l(e,f),l(e,n),m||(x=Z(n,"click",i[15]),m=!0)},p(h,p){p[0]&8&&ne(d,h[3])},d(h){h&&v(t),m=!1,x()}}}function xt(i){var ze,Be,Ue,Oe,Fe,Je,Re;let t,e,s,d,f,n="üìú",b,m,x=((ze=i[0])==null?void 0:ze.name)+"",h,p,c,u,_=(i[0]?new Date(i[0].createdAt).toLocaleDateString():"")+"",g,C,S,V,H,A="üëë Dungeon Master",J,w,q,y,L,j,R,F,U,P,M,k,B=(((Ue=(Be=i[1])==null?void 0:Be.dm)==null?void 0:Ue.userName)||((Oe=i[0])==null?void 0:Oe.dmName))+"",X,O,se,ve,re=((Fe=i[1])!=null&&Fe.dm?new Date(i[1].dm.joinedAt).toLocaleDateString():"el principio")+"",te,Te,de,Ae="DM",Ve,oe,me,ie,Le,pe=(((Re=(Je=i[1])==null?void 0:Je.players)==null?void 0:Re.length)||0)+"",ke,Me,He,G=i[9]&&et(i);function qe(T,z){var ee;return(ee=T[1])!=null&&ee.players&&T[1].players.length>0?kt:Ct}let De=qe(i),$=De(i);return{c(){t=o("div"),e=o("div"),s=o("div"),d=o("div"),f=o("div"),f.textContent=n,b=I(),m=o("h1"),h=W(x),p=I(),c=o("p"),u=W("Creada el "),g=W(_),C=I(),G&&G.c(),S=I(),V=o("div"),H=o("h2"),H.textContent=A,J=I(),w=o("div"),q=o("div"),y=o("div"),L=o("div"),j=o("div"),R=o("img"),P=I(),M=o("div"),k=o("h3"),X=W(B),O=I(),se=o("p"),ve=W("Maestro de mazmorras desde "),te=W(re),Te=I(),de=o("div"),de.textContent=Ae,Ve=I(),oe=o("div"),me=o("div"),ie=o("h2"),Le=W("üé≤ Aventureros ("),ke=W(pe),Me=W(")"),He=I(),$.c(),this.h()},l(T){t=r(T,"DIV",{class:!0});var z=E(t);e=r(z,"DIV",{class:!0});var ee=E(e);s=r(ee,"DIV",{class:!0});var le=E(s);d=r(le,"DIV",{class:!0});var Y=E(d);f=r(Y,"DIV",{class:!0,"data-svelte-h":!0}),N(f)!=="svelte-1ldm7ws"&&(f.textContent=n),b=D(Y),m=r(Y,"H1",{class:!0});var ce=E(m);h=K(ce,x),ce.forEach(v),p=D(Y),c=r(Y,"P",{class:!0});var he=E(c);u=K(he,"Creada el "),g=K(he,_),he.forEach(v),Y.forEach(v),C=D(le),G&&G.l(le),le.forEach(v),ee.forEach(v),S=D(z),V=r(z,"DIV",{class:!0});var ue=E(V);H=r(ue,"H2",{class:!0,"data-svelte-h":!0}),N(H)!=="svelte-1d8w0o4"&&(H.textContent=A),J=D(ue),w=r(ue,"DIV",{class:!0});var _e=E(w);q=r(_e,"DIV",{class:!0});var be=E(q);y=r(be,"DIV",{class:!0});var ae=E(y);L=r(ae,"DIV",{class:!0});var ge=E(L);j=r(ge,"DIV",{class:!0});var xe=E(j);R=r(xe,"IMG",{src:!0,alt:!0}),xe.forEach(v),ge.forEach(v),P=D(ae),M=r(ae,"DIV",{class:!0});var fe=E(M);k=r(fe,"H3",{class:!0});var Ee=E(k);X=K(Ee,B),Ee.forEach(v),O=D(fe),se=r(fe,"P",{class:!0});var Ne=E(se);ve=K(Ne,"Maestro de mazmorras desde "),te=K(Ne,re),Ne.forEach(v),fe.forEach(v),Te=D(ae),de=r(ae,"DIV",{class:!0,"data-svelte-h":!0}),N(de)!=="svelte-1cq99lt"&&(de.textContent=Ae),ae.forEach(v),be.forEach(v),_e.forEach(v),ue.forEach(v),Ve=D(z),oe=r(z,"DIV",{});var Ie=E(oe);me=r(Ie,"DIV",{class:!0});var Ge=E(me);ie=r(Ge,"H2",{class:!0});var ye=E(ie);Le=K(ye,"üé≤ Aventureros ("),ke=K(ye,pe),Me=K(ye,")"),ye.forEach(v),Ge.forEach(v),He=D(Ie),$.l(Ie),Ie.forEach(v),z.forEach(v),this.h()},h(){var T,z,ee,le,Y,ce;a(f,"class","text-6xl mb-4"),a(m,"class","text-5xl font-medieval text-neutral mb-3"),a(c,"class","text-neutral/60 font-body italic"),a(d,"class","text-center mb-6"),a(s,"class","card-body p-8"),a(e,"class","card-parchment mb-6 corner-ornament"),a(H,"class","text-2xl font-medieval text-secondary mb-4"),we(R.src,F=((z=(T=i[1])==null?void 0:T.dm)==null?void 0:z.userPhoto)||((ee=i[0])==null?void 0:ee.dmPhoto))||a(R,"src",F),a(R,"alt",U=((Y=(le=i[1])==null?void 0:le.dm)==null?void 0:Y.userName)||((ce=i[0])==null?void 0:ce.dmName)),a(j,"class","w-20 rounded-full ring-4 ring-secondary ring-offset-4 ring-offset-[#f4e4c1]"),a(L,"class","avatar"),a(k,"class","text-2xl font-bold text-neutral font-medieval"),a(se,"class","text-neutral/60 font-body"),a(M,"class","flex-1"),a(de,"class","badge badge-ornate badge-lg"),a(y,"class","flex items-center gap-4"),a(q,"class","card-body p-6"),a(w,"class","card-parchment corner-ornament"),a(V,"class","mb-6"),a(ie,"class","text-2xl font-medieval text-secondary"),a(me,"class","flex justify-between items-center mb-4"),a(t,"class","container mx-auto max-w-6xl")},m(T,z){Q(T,t,z),l(t,e),l(e,s),l(s,d),l(d,f),l(d,b),l(d,m),l(m,h),l(d,p),l(d,c),l(c,u),l(c,g),l(s,C),G&&G.m(s,null),l(t,S),l(t,V),l(V,H),l(V,J),l(V,w),l(w,q),l(q,y),l(y,L),l(L,j),l(j,R),l(y,P),l(y,M),l(M,k),l(k,X),l(M,O),l(M,se),l(se,ve),l(se,te),l(y,Te),l(y,de),l(t,Ve),l(t,oe),l(oe,me),l(me,ie),l(ie,Le),l(ie,ke),l(ie,Me),l(oe,He),$.m(oe,null)},p(T,z){var ee,le,Y,ce,he,ue,_e,be,ae,ge,xe,fe,Ee;z[0]&1&&x!==(x=((ee=T[0])==null?void 0:ee.name)+"")&&ne(h,x),z[0]&1&&_!==(_=(T[0]?new Date(T[0].createdAt).toLocaleDateString():"")+"")&&ne(g,_),T[9]?G?G.p(T,z):(G=et(T),G.c(),G.m(s,null)):G&&(G.d(1),G=null),z[0]&3&&!we(R.src,F=((Y=(le=T[1])==null?void 0:le.dm)==null?void 0:Y.userPhoto)||((ce=T[0])==null?void 0:ce.dmPhoto))&&a(R,"src",F),z[0]&3&&U!==(U=((ue=(he=T[1])==null?void 0:he.dm)==null?void 0:ue.userName)||((_e=T[0])==null?void 0:_e.dmName))&&a(R,"alt",U),z[0]&3&&B!==(B=(((ae=(be=T[1])==null?void 0:be.dm)==null?void 0:ae.userName)||((ge=T[0])==null?void 0:ge.dmName))+"")&&ne(X,B),z[0]&2&&re!==(re=((xe=T[1])!=null&&xe.dm?new Date(T[1].dm.joinedAt).toLocaleDateString():"el principio")+"")&&ne(te,re),z[0]&2&&pe!==(pe=(((Ee=(fe=T[1])==null?void 0:fe.players)==null?void 0:Ee.length)||0)+"")&&ne(ke,pe),De===(De=qe(T))&&$?$.p(T,z):($.d(1),$=De(T),$&&($.c(),$.m(oe,null)))},d(T){T&&v(t),G&&G.d(),$.d()}}}function Et(i){let t,e='<span class="loading loading-spinner loading-lg text-secondary"></span>';return{c(){t=o("div"),t.innerHTML=e,this.h()},l(s){t=r(s,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1fvu3yi"&&(t.innerHTML=e),this.h()},h(){a(t,"class","flex justify-center py-20")},m(s,d){Q(s,t,d)},p:Ce,d(s){s&&v(t)}}}function et(i){let t,e,s=`<span class="text-lg">‚úâÔ∏è</span>
                    Invitar Jugador`,d,f,n=`<span class="text-lg ">‚öîÔ∏è</span>
                    Ir a Combate`,b,m,x=`<span class="text-lg">üßô‚Äç‚ôÇÔ∏è</span>
                    Ver Personajes`,h,p,c=`<span class="text-lg">üóëÔ∏è</span>
                    Eliminar Campa√±a`,u,_;return{c(){t=o("div"),e=o("button"),e.innerHTML=s,d=I(),f=o("button"),f.innerHTML=n,b=I(),m=o("button"),m.innerHTML=x,h=I(),p=o("button"),p.innerHTML=c,this.h()},l(g){t=r(g,"DIV",{class:!0});var C=E(t);e=r(C,"BUTTON",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-1ameev2"&&(e.innerHTML=s),d=D(C),f=r(C,"BUTTON",{class:!0,"data-svelte-h":!0}),N(f)!=="svelte-112l53x"&&(f.innerHTML=n),b=D(C),m=r(C,"BUTTON",{class:!0,"data-svelte-h":!0}),N(m)!=="svelte-1oyq3y7"&&(m.innerHTML=x),h=D(C),p=r(C,"BUTTON",{class:!0,"data-svelte-h":!0}),N(p)!=="svelte-ubkd1a"&&(p.innerHTML=c),C.forEach(v),this.h()},h(){a(e,"class","btn btn-success gap-2 w-3/4 md:w-1/3"),a(f,"class","btn btn-dnd gap-2 w-3/4 md:w-1/3"),a(m,"class","btn btn-info gap-2 w-3/4 md:w-1/3"),a(p,"class","btn btn-error gap-2 w-3/4 md:w-1/3"),a(t,"class","flex flex-wrap justify-center gap-3")},m(g,C){Q(g,t,C),l(t,e),l(t,d),l(t,f),l(t,b),l(t,m),l(t,h),l(t,p),u||(_=[Z(e,"click",i[16]),Z(f,"click",i[17]),Z(m,"click",i[18]),Z(p,"click",i[19])],u=!0)},p:Ce,d(g){g&&v(t),u=!1,Se(_)}}}function Ct(i){let t,e,s="üé≤",d,f,n="Sin aventureros",b,m,x=i[9]?"Invita jugadores para comenzar la aventura":"Esperando que se unan m√°s jugadores...",h;return{c(){t=o("div"),e=o("div"),e.textContent=s,d=I(),f=o("p"),f.textContent=n,b=I(),m=o("p"),h=W(x),this.h()},l(p){t=r(p,"DIV",{class:!0});var c=E(t);e=r(c,"DIV",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-9xsxws"&&(e.textContent=s),d=D(c),f=r(c,"P",{class:!0,"data-svelte-h":!0}),N(f)!=="svelte-y4vkyv"&&(f.textContent=n),b=D(c),m=r(c,"P",{class:!0});var u=E(m);h=K(u,x),u.forEach(v),c.forEach(v),this.h()},h(){a(e,"class","text-4xl mb-3"),a(f,"class","text-xl font-medieval text-neutral mb-2"),a(m,"class","text-neutral/70 font-body"),a(t,"class","card-parchment p-12 text-center")},m(p,c){Q(p,t,c),l(t,e),l(t,d),l(t,f),l(t,b),l(t,m),l(m,h)},p(p,c){c[0]&512&&x!==(x=p[9]?"Invita jugadores para comenzar la aventura":"Esperando que se unan m√°s jugadores...")&&ne(h,x)},d(p){p&&v(t)}}}function kt(i){let t,e=Xe(i[1].players),s=[];for(let d=0;d<e.length;d+=1)s[d]=lt(Ze(i,e,d));return{c(){t=o("div");for(let d=0;d<s.length;d+=1)s[d].c();this.h()},l(d){t=r(d,"DIV",{class:!0});var f=E(t);for(let n=0;n<s.length;n+=1)s[n].l(f);f.forEach(v),this.h()},h(){a(t,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(d,f){Q(d,t,f);for(let n=0;n<s.length;n+=1)s[n]&&s[n].m(t,null)},p(d,f){if(f[0]&2562){e=Xe(d[1].players);let n;for(n=0;n<e.length;n+=1){const b=Ze(d,e,n);s[n]?s[n].p(b,f):(s[n]=lt(b),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=e.length}},d(d){d&&v(t),dt(s,d)}}}function tt(i){let t,e,s='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',d,f,n,b,m="üö´ Expulsar",x,h;function p(){return i[20](i[29])}return{c(){t=o("div"),e=o("label"),e.innerHTML=s,d=I(),f=o("ul"),n=o("li"),b=o("a"),b.textContent=m,this.h()},l(c){t=r(c,"DIV",{class:!0});var u=E(t);e=r(u,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),N(e)!=="svelte-7qzcnn"&&(e.innerHTML=s),d=D(u),f=r(u,"UL",{tabindex:!0,class:!0});var _=E(f);n=r(_,"LI",{});var g=E(n);b=r(g,"A",{class:!0,"data-svelte-h":!0}),N(b)!=="svelte-1mwc43p"&&(b.textContent=m),g.forEach(v),_.forEach(v),u.forEach(v),this.h()},h(){a(e,"tabindex","0"),a(e,"class","btn btn-ghost btn-sm btn-circle"),a(b,"class","text-error"),a(f,"tabindex","0"),a(f,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-52 border-2 border-secondary"),a(t,"class","dropdown dropdown-end")},m(c,u){Q(c,t,u),l(t,e),l(t,d),l(t,f),l(f,n),l(n,b),x||(h=Z(b,"click",p),x=!0)},p(c,u){i=c},d(c){c&&v(t),x=!1,h()}}}function lt(i){let t,e,s,d,f,n,b,m,x,h,p,c=i[29].userName+"",u,_,g,C,S=new Date(i[29].joinedAt).toLocaleDateString()+"",V,H,A,J="Jugador",w,q,y=i[9]&&tt(i);return{c(){t=o("div"),e=o("div"),s=o("div"),d=o("div"),f=o("div"),n=o("img"),x=I(),h=o("div"),p=o("h3"),u=W(c),_=I(),g=o("p"),C=W("Se uni√≥ el "),V=W(S),H=I(),A=o("div"),A.textContent=J,w=I(),y&&y.c(),q=I(),this.h()},l(L){t=r(L,"DIV",{class:!0});var j=E(t);e=r(j,"DIV",{class:!0});var R=E(e);s=r(R,"DIV",{class:!0});var F=E(s);d=r(F,"DIV",{class:!0});var U=E(d);f=r(U,"DIV",{class:!0});var P=E(f);n=r(P,"IMG",{src:!0,alt:!0}),P.forEach(v),U.forEach(v),x=D(F),h=r(F,"DIV",{class:!0});var M=E(h);p=r(M,"H3",{class:!0});var k=E(p);u=K(k,c),k.forEach(v),_=D(M),g=r(M,"P",{class:!0});var B=E(g);C=K(B,"Se uni√≥ el "),V=K(B,S),B.forEach(v),H=D(M),A=r(M,"DIV",{class:!0,"data-svelte-h":!0}),N(A)!=="svelte-1afgl9j"&&(A.textContent=J),M.forEach(v),w=D(F),y&&y.l(F),F.forEach(v),R.forEach(v),q=D(j),j.forEach(v),this.h()},h(){we(n.src,b=i[29].userPhoto)||a(n,"src",b),a(n,"alt",m=i[29].userName),a(f,"class","w-16 rounded-full ring-2 ring-success ring-offset-2 ring-offset-[#f4e4c1]"),a(d,"class","avatar"),a(p,"class","text-xl font-bold text-neutral font-medieval mb-1"),a(g,"class","text-sm text-neutral/60 font-body"),a(A,"class","badge badge-success badge-sm mt-2"),a(h,"class","flex-1"),a(s,"class","flex items-start gap-4"),a(e,"class","card-body p-5"),a(t,"class","card-parchment corner-ornament")},m(L,j){Q(L,t,j),l(t,e),l(e,s),l(s,d),l(d,f),l(f,n),l(s,x),l(s,h),l(h,p),l(p,u),l(h,_),l(h,g),l(g,C),l(g,V),l(h,H),l(h,A),l(s,w),y&&y.m(s,null),l(t,q)},p(L,j){j[0]&2&&!we(n.src,b=L[29].userPhoto)&&a(n,"src",b),j[0]&2&&m!==(m=L[29].userName)&&a(n,"alt",m),j[0]&2&&c!==(c=L[29].userName+"")&&ne(u,c),j[0]&2&&S!==(S=new Date(L[29].joinedAt).toLocaleDateString()+"")&&ne(V,S),L[9]?y?y.p(L,j):(y=tt(L),y.c(),y.m(s,null)):y&&(y.d(1),y=null)},d(L){L&&v(t),y&&y.d()}}}function st(i){let t,e,s,d="‚úï",f,n,b="‚úâÔ∏è Invitar Jugador",m,x,h,p='<span class="label-text font-medieval text-neutral text-lg">Email del Jugador</span>',c,u,_,g,C='<span class="label-text-alt text-neutral/60 italic">El jugador recibir√° una invitaci√≥n para unirse a la campa√±a</span>',S,V,H,A="Cancelar",J,w,q,y,L,j;function R(P,M){return P[7]?It:Dt}let F=R(i),U=F(i);return{c(){t=o("div"),e=o("div"),s=o("button"),s.textContent=d,f=I(),n=o("h3"),n.textContent=b,m=I(),x=o("div"),h=o("label"),h.innerHTML=p,c=I(),u=o("input"),_=I(),g=o("label"),g.innerHTML=C,S=I(),V=o("div"),H=o("button"),H.textContent=A,J=I(),w=o("button"),U.c(),q=W(`\r
          Enviar Invitaci√≥n`),this.h()},l(P){t=r(P,"DIV",{class:!0});var M=E(t);e=r(M,"DIV",{class:!0});var k=E(e);s=r(k,"BUTTON",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-13qh2yt"&&(s.textContent=d),f=D(k),n=r(k,"H3",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-1vmxht6"&&(n.textContent=b),m=D(k),x=r(k,"DIV",{class:!0});var B=E(x);h=r(B,"LABEL",{class:!0,"data-svelte-h":!0}),N(h)!=="svelte-1s6k4jv"&&(h.innerHTML=p),c=D(B),u=r(B,"INPUT",{type:!0,placeholder:!0,class:!0}),_=D(B),g=r(B,"LABEL",{class:!0,"data-svelte-h":!0}),N(g)!=="svelte-1g3zhhz"&&(g.innerHTML=C),B.forEach(v),S=D(k),V=r(k,"DIV",{class:!0});var X=E(V);H=r(X,"BUTTON",{class:!0,"data-svelte-h":!0}),N(H)!=="svelte-9hazim"&&(H.textContent=A),J=D(X),w=r(X,"BUTTON",{class:!0});var O=E(w);U.l(O),q=K(O,`\r
          Enviar Invitaci√≥n`),O.forEach(v),X.forEach(v),k.forEach(v),M.forEach(v),this.h()},h(){a(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),a(n,"class","font-bold text-2xl font-medieval text-neutral mb-4 text-center"),a(h,"class","label"),a(u,"type","email"),a(u,"placeholder","ejemplo@email.com"),a(u,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),a(g,"class","label"),a(x,"class","form-control"),a(H,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),a(w,"class","btn btn-success"),w.disabled=y=!i[6].trim()||i[7],a(V,"class","modal-action justify-center gap-4"),a(e,"class","modal-box card-parchment border-4 border-secondary corner-ornament relative w-full max-w-md overflow-hidden"),a(t,"class","fixed inset-0 bg-black/50 flex items-center justify-center z-50")},m(P,M){Q(P,t,M),l(t,e),l(e,s),l(e,f),l(e,n),l(e,m),l(e,x),l(x,h),l(x,c),l(x,u),We(u,i[6]),l(x,_),l(x,g),l(e,S),l(e,V),l(V,H),l(V,J),l(V,w),U.m(w,null),l(w,q),L||(j=[Z(s,"click",i[21]),Z(u,"input",i[22]),Z(H,"click",i[23]),Z(w,"click",i[10])],L=!0)},p(P,M){M[0]&64&&u.value!==P[6]&&We(u,P[6]),F!==(F=R(P))&&(U.d(1),U=F(P),U&&(U.c(),U.m(w,q))),M[0]&192&&y!==(y=!P[6].trim()||P[7])&&(w.disabled=y)},d(P){P&&v(t),U.d(),L=!1,Se(j)}}}function Dt(i){let t,e="üì®";return{c(){t=o("span"),t.textContent=e,this.h()},l(s){t=r(s,"SPAN",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-toac8q"&&(t.textContent=e),this.h()},h(){a(t,"class","text-xl")},m(s,d){Q(s,t,d)},d(s){s&&v(t)}}}function It(i){let t;return{c(){t=o("span"),this.h()},l(e){t=r(e,"SPAN",{class:!0}),E(t).forEach(v),this.h()},h(){a(t,"class","loading loading-spinner loading-sm")},m(e,s){Q(e,t,s)},d(e){e&&v(t)}}}function at(i){let t,e,s,d="‚ö†Ô∏è Eliminar Campa√±a",f,n,b='<div class="text-6xl mb-4">üî•</div> <p class="text-lg text-neutral font-body mb-2">¬øEst√°s seguro de que quieres eliminar esta campa√±a?</p> <p class="text-error font-bold font-medieval text-xl">Esta acci√≥n no se puede deshacer</p>',m,x,h='<p class="text-sm text-neutral font-body">Se eliminar√°n permanentemente:</p> <ul class="list-disc list-inside text-sm text-neutral/70 font-body mt-2"><li>Todos los personajes</li> <li>Todos los encuentros y combates</li> <li>Todas las invitaciones</li> <li>Todos los datos de la campa√±a</li></ul>',p,c,u,_="Cancelar",g,C,S=`<span class="text-xl">üóëÔ∏è</span>
          Eliminar Definitivamente`,V,H;return{c(){t=o("div"),e=o("div"),s=o("h3"),s.textContent=d,f=I(),n=o("div"),n.innerHTML=b,m=I(),x=o("div"),x.innerHTML=h,p=I(),c=o("div"),u=o("button"),u.textContent=_,g=I(),C=o("button"),C.innerHTML=S,this.h()},l(A){t=r(A,"DIV",{class:!0});var J=E(t);e=r(J,"DIV",{class:!0});var w=E(e);s=r(w,"H3",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-53g6d1"&&(s.textContent=d),f=D(w),n=r(w,"DIV",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-k0kgk6"&&(n.innerHTML=b),m=D(w),x=r(w,"DIV",{class:!0,"data-svelte-h":!0}),N(x)!=="svelte-1vuosnx"&&(x.innerHTML=h),p=D(w),c=r(w,"DIV",{class:!0});var q=E(c);u=r(q,"BUTTON",{class:!0,"data-svelte-h":!0}),N(u)!=="svelte-1kc82zi"&&(u.textContent=_),g=D(q),C=r(q,"BUTTON",{class:!0,"data-svelte-h":!0}),N(C)!=="svelte-1w49qf"&&(C.innerHTML=S),q.forEach(v),w.forEach(v),J.forEach(v),this.h()},h(){a(s,"class","font-bold text-2xl font-medieval text-neutral mb-4 text-center"),a(n,"class","text-center mb-6"),a(x,"class","bg-error/20 p-4 rounded-lg border-2 border-error mb-4"),a(u,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),a(C,"class","btn btn-error"),a(c,"class","modal-action justify-center gap-4"),a(e,"class","modal-box card-parchment border-4 border-error corner-ornament relative w-full max-w-lg overflow-hidden"),a(t,"class","fixed inset-0 bg-black/50 flex items-center justify-center z-50")},m(A,J){Q(A,t,J),l(t,e),l(e,s),l(e,f),l(e,n),l(e,m),l(e,x),l(e,p),l(e,c),l(c,u),l(c,g),l(c,C),V||(H=[Z(u,"click",i[24]),Z(C,"click",i[12])],V=!0)},p:Ce,d(A){A&&v(t),V=!1,Se(H)}}}function yt(i){let t,e,s,d,f,n,b,m=i[3]&&$e(i);function x(_,g){return _[2]?Et:xt}let h=x(i),p=h(i),c=i[4]&&st(i),u=i[5]&&at(i);return{c(){t=o("div"),m&&m.c(),e=I(),s=o("div"),d=o("div"),p.c(),f=I(),c&&c.c(),n=I(),u&&u.c(),b=Qe(),this.h()},l(_){t=r(_,"DIV",{class:!0});var g=E(t);m&&m.l(g),e=D(g),s=r(g,"DIV",{class:!0});var C=E(s);d=r(C,"DIV",{class:!0});var S=E(d);p.l(S),S.forEach(v),C.forEach(v),g.forEach(v),f=D(_),c&&c.l(_),n=D(_),u&&u.l(_),b=Qe(),this.h()},h(){a(d,"class","flex-1 p-6"),a(s,"class","flex flex-1"),a(t,"class","min-h-screen flex flex-col")},m(_,g){Q(_,t,g),m&&m.m(t,null),l(t,e),l(t,s),l(s,d),p.m(d,null),Q(_,f,g),c&&c.m(_,g),Q(_,n,g),u&&u.m(_,g),Q(_,b,g)},p(_,g){_[3]?m?m.p(_,g):(m=$e(_),m.c(),m.m(t,e)):m&&(m.d(1),m=null),h===(h=x(_))&&p?p.p(_,g):(p.d(1),p=h(_),p&&(p.c(),p.m(d,null))),_[4]?c?c.p(_,g):(c=st(_),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),_[5]?u?u.p(_,g):(u=at(_),u.c(),u.m(b.parentNode,b)):u&&(u.d(1),u=null)},i:Ce,o:Ce,d(_){_&&(v(t),v(f),v(n),v(b)),m&&m.d(),p.d(),c&&c.d(_),u&&u.d(_)}}}function wt(i,t,e){let s,d,f,n;Ke(i,vt,k=>e(13,f=k)),Ke(i,ft,k=>e(14,n=k));let b=null,m=null,x=!0,h="",p=!1,c=!1,u="",_=!1,g=null,C=null;const S=mt(gt);it(async()=>{V()}),ct(()=>{g&&g(),C&&C()});function V(){try{e(2,x=!0);const k=ht(S,"events",s);g=Ye(k,O=>{O.exists()?(e(0,b={id:O.id,...O.data()}),b!=null&&b.name&&ut.set(b.name)):(e(3,h="Campa√±a no encontrada"),e(0,b=null)),e(2,x=!1)},O=>{console.error("Error en listener de campa√±a:",O),e(3,h=O.message),e(2,x=!1)});const B=pt(S,"event_members"),X=_t(B,bt("campaignId","==",s));C=Ye(X,O=>{const se=O.docs.map(te=>({...te.data()}));let ve=null,re=[];se.forEach(te=>{te.role==="dm"?ve=te:re.push(te)}),e(1,m={dm:ve,players:re})},O=>{console.error("Error en listener de miembros:",O),e(3,h=O.message)})}catch(k){e(3,h=k.message),e(2,x=!1)}}async function H(){if(u.trim())try{e(7,_=!0),e(3,h=""),await je.invitePlayer(s,u.trim()),e(4,p=!1),e(6,u=""),alert("¬°Invitaci√≥n enviada con √©xito!")}catch(k){e(3,h=k.message)}finally{e(7,_=!1)}}async function A(k,B){if(confirm(`¬øExpulsar a ${B} de la campa√±a?`))try{await je.removePlayer(s,k)}catch(X){e(3,h=X.message)}}async function J(){if(b)try{await je.deleteCampaign(s),e(5,c=!1),Pe("/dashboard")}catch(k){e(3,h=k.message)}}const w=()=>e(3,h=""),q=()=>e(4,p=!0),y=()=>Pe(`/campaigns/${s}/combat`),L=()=>Pe(`/campaigns/${s}/characters`),j=()=>e(5,c=!0),R=k=>A(k.userId,k.userName),F=()=>{e(4,p=!1),e(6,u="")};function U(){u=this.value,e(6,u)}const P=()=>{e(4,p=!1),e(6,u="")},M=()=>e(5,c=!1);return i.$$.update=()=>{i.$$.dirty[0]&16384&&e(8,s=n.params.id||""),i.$$.dirty[0]&8193&&e(9,d=b&&f&&b.dmId===f.uid)},[b,m,x,h,p,c,u,_,s,d,H,A,J,f,n,w,q,y,L,j,R,F,U,P,M]}class St extends nt{constructor(t){super(),rt(this,t,wt,yt,ot,{},null,[-1,-1])}}export{St as component};
