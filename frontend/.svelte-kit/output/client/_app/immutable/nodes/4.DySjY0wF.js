import{U as Hs,S as Dt,i as wt,s as It,n as We,d as f,a as j,u as Ye,V as Mt,r as st,b as r,l as le,C as kt,c,e as p,f as E,h as K,g as k,j as h,k as D,E as Pt,F as xs,X as Re,p as M,t as B,w as Ie,y as at,B as jt,D as Ts,o as ee,T as Vt,Y as At,N as _t,G as lt,H as $e,Z as Lt,P as gt,Q as yt,O as Et,q as Vs,v as As,z as Ft,A as Ut,I as St,J as Nt,R as Yt,m as Zt}from"../chunks/CQqHTK8U.js";import{e as Ke,h as Os,a as Ht}from"../chunks/BjXTUeIZ.js";import"../chunks/IHki7fMi.js";import{p as qs}from"../chunks/CSRxS88f.js";import{t as js,u as Fs}from"../chunks/8E2ohCEn.js";import{d as Us}from"../chunks/B0l-HeGw.js";import{j as $t,k as zs,l as Rs,m as Gs,n as Qs,o as Ot,h as Js,p as Ks,f as Ws,g as Xs}from"../chunks/Dpq2-5VD.js";import{g as Ls,c as Ps,q as Ss,w as Ns,o as Kt,d as Ys}from"../chunks/kMfomZo-.js";import{a as Ms}from"../chunks/SB3GKwJC.js";function it(l){return Math.floor((l-10)/2)}function ot(l){return l>=0?`+${l}`:`${l}`}function Xt(l){return Math.floor((l-1)/4)+2}const zt=[{name:"Acrobatics",ability:"dexterity",label:"Acrobacias"},{name:"Animal Handling",ability:"wisdom",label:"Trato con Animales"},{name:"Arcana",ability:"intelligence",label:"Arcano"},{name:"Athletics",ability:"strength",label:"Atletismo"},{name:"Deception",ability:"charisma",label:"Enga√±o"},{name:"History",ability:"intelligence",label:"Historia"},{name:"Insight",ability:"wisdom",label:"Perspicacia"},{name:"Intimidation",ability:"charisma",label:"Intimidaci√≥n"},{name:"Investigation",ability:"intelligence",label:"Investigaci√≥n"},{name:"Medicine",ability:"wisdom",label:"Medicina"},{name:"Nature",ability:"intelligence",label:"Naturaleza"},{name:"Perception",ability:"wisdom",label:"Percepci√≥n"},{name:"Performance",ability:"charisma",label:"Interpretaci√≥n"},{name:"Persuasion",ability:"charisma",label:"Persuasi√≥n"},{name:"Religion",ability:"intelligence",label:"Religi√≥n"},{name:"Sleight of Hand",ability:"dexterity",label:"Juego de Manos"},{name:"Stealth",ability:"dexterity",label:"Sigilo"},{name:"Survival",ability:"wisdom",label:"Supervivencia"}],Zs="https://dm-events-backend-858373640437.us-central1.run.app/api",Wt=new Map,$s=5*60*1e3;function er(l){const e=Wt.get(l.toLowerCase());return e&&Date.now()-e.timestamp<$s?e.results:(Wt.delete(l.toLowerCase()),null)}function tr(l,e){Wt.set(l.toLowerCase(),{query:l,results:e,timestamp:Date.now()})}async function Tt(l,e={}){const t=Hs(js),a={"Content-Type":"application/json",...e.headers};t&&(a.Authorization=`Bearer ${t}`);const s=await fetch(`${Zs}${l}`,{...e,headers:a});if(!s.ok){const n=await s.json().catch(()=>({error:"Error en la petici√≥n"}));throw new Error(n.error||"Error en la petici√≥n")}return s.json()}const qt={getInventory:l=>Tt(`/characters/${l}/inventory`),createItem:(l,e)=>Tt(`/characters/${l}/items`,{method:"POST",body:JSON.stringify(e)}),updateItem:(l,e)=>Tt(`/items/${l}`,{method:"PUT",body:JSON.stringify(e)}),deleteItem:l=>Tt(`/items/${l}`,{method:"DELETE"}),updateCurrency:(l,e)=>Tt(`/characters/${l}/currency`,{method:"PUT",body:JSON.stringify(e)})};let bt=null;const mt={searchItems:async(l,e)=>{const t=l.trim().toLowerCase(),a=er(t);if(a)return a;bt&&bt.abort(),bt=new AbortController;try{const[s,n,i,o]=await Promise.all([fetch(`https://api.open5e.com/v1/magicitems/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]})),fetch(`https://api.open5e.com/v1/weapons/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]})),fetch(`https://api.open5e.com/v1/armor/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]})),fetch(`https://api.open5e.com/v1/gear/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]}))]),m=[...(s.results||[]).map(d=>({...d,source:"magicitems"})),...(n.results||[]).map(d=>({...d,source:"weapons"})),...(i.results||[]).map(d=>({...d,source:"armor"})),...(o.results||[]).map(d=>({...d,source:"gear"}))].filter(d=>d.name.toLowerCase().includes(t)).sort((d,b)=>{const _=d.name.toLowerCase(),y=b.name.toLowerCase(),g=_.startsWith(t),C=y.startsWith(t);return g&&!C?-1:!g&&C?1:_.length-y.length}).slice(0,30),v={count:m.length,next:null,previous:null,results:m};return tr(t,v),v}catch(s){if(s.name==="AbortError")throw s;return console.error("Error searching Open5e:",s),{count:0,next:null,previous:null,results:[]}}},getItem:async(l,e="magicitems")=>{const t=await fetch(`https://api.open5e.com/v1/${e}/${l}/`);if(!t.ok)throw new Error("Error obteniendo item");return t.json()},convertToInventoryItem:l=>{const e=l.name||"",t=el(l.desc||"",1e3),a=ar(l.cost);let s="other";l.damage_dice||l.damage_type||l.damage?s="weapon":l.armor_class||l.ac_string?s="armor":l.category&&l.category.toLowerCase().includes("shield")?s="shield":lr(e,t)?s="consumable":l.category&&l.category.toLowerCase().includes("tool")?s="tool":l.rarity&&!["common","none"].includes(l.rarity.toLowerCase())&&(s="treasure");const n={name:e,description:t,quantity:1,open5eSlug:l.slug,value:a,type:s,rarity:l.rarity||"common"};return s==="weapon"&&(n.weaponData={weaponType:l.category||"simple",damageDice:l.damage_dice||l.damage||"1d4",damageType:l.damage_type||"bludgeoning",properties:sr(l.properties,l.desc),magicBonus:ll(e)}),(s==="armor"||s==="shield")&&(n.armorData={armorType:l.category||"light",baseAC:rr(l.armor_class||l.ac_string),dexModifier:nr(l),strengthRequirement:l.strength_requirement,stealthDisadvantage:l.stealth_disadvantage||!1,magicBonus:ll(e)}),n},cleanDescription:(l,e=200)=>el(l,e)};function lr(l,e){const t=l.toLowerCase(),a=e.toLowerCase();return["potion","elixir","oil","scroll","poison","antidote","philter"].some(n=>t.includes(n)||a.includes(n))}function el(l,e=200){if(!l)return"";const t=document.createElement("div");t.innerHTML=l;let a=t.textContent||t.innerText||"";return a=a.replace(/\s+/g," ").trim(),a.length>e&&(a=a.substring(0,e).trim()+"..."),a}function ar(l){if(typeof l=="number")return l;if(!l)return 0;if(typeof l=="object"){const a=parseFloat(l.quantity||l.amount||0),s=(l.unit||l.currency||"gp").toLowerCase();return tl(a,s)}const t=String(l).trim().match(/^(\d+(?:\.\d+)?)\s*([a-z]+)?$/i);if(t){const a=parseFloat(t[1]),s=(t[2]||"gp").toLowerCase();return tl(a,s)}return 0}function tl(l,e){return l*({cp:.01,sp:.1,ep:.5,gp:1,pp:10}[e]||1)}function sr(l,e){const t={};if(!l)return t;const a=Array.isArray(l)?l.map(i=>typeof i=="string"?i:i.name):[],s=new Set(a.map(i=>i.toLowerCase()));t.light=s.has("light"),t.finesse=s.has("finesse"),t.thrown=s.has("thrown"),t.twoHanded=s.has("two-handed"),t.reach=s.has("reach"),t.loading=s.has("loading"),t.heavy=s.has("heavy"),t.ammunition=s.has("ammunition");const n=a.find(i=>i.toLowerCase().startsWith("versatile"));if(n){const i=n.match(/\(([0-9]+d[0-9]+)\)/);i&&(t.versatile=i[1])}return t}function ll(l){const e=l.match(/\+(\d+)/);return e?parseInt(e[1],10):0}function rr(l){if(typeof l=="number")return l;if(typeof l=="object"&&(l!=null&&l.base))return l.base;if(typeof l=="string"){const e=parseInt(l);if(!isNaN(e))return e}return 10}function nr(l){const e=(l.category||"").toLowerCase();return{"Heavy Armor":"none","Medium Armor":"max2","Light Armor":"full"}[e]||"full"}function al(l,e,t){const a=l.slice();return a[35]=e[t],a}function sl(l,e,t){const a=l.slice();return a[32]=e[t],a}function rl(l){let e,t,a,s,n="‚úï",i,o,u,m,v,d,b,_,y,g="Cancelar",C,w,I;function V(q,F){return q[1]?or:ir}let x=V(l),L=x(l);function N(q,F){return q[1]?ur:cr}let T=N(l),H=T(l);function A(q,F){return q[1]?fr:dr}let P=A(l),S=P(l),O=l[1]&&vl(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("button"),s.textContent=n,i=D(),o=h("h3"),L.c(),u=D(),m=h("p"),H.c(),v=D(),d=h("div"),S.c(),b=D(),_=h("div"),y=h("button"),y.textContent=g,C=D(),O&&O.c(),this.h()},l(q){e=p(q,"DIV",{class:!0});var F=E(e);t=p(F,"DIV",{class:!0});var W=E(t);a=p(W,"DIV",{class:!0});var z=E(a);s=p(z,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-drx0cs"&&(s.textContent=n),i=k(z),o=p(z,"H3",{class:!0});var U=E(o);L.l(U),U.forEach(f),u=k(z),m=p(z,"P",{class:!0});var se=E(m);H.l(se),se.forEach(f),z.forEach(f),v=k(W),d=p(W,"DIV",{class:!0});var R=E(d);S.l(R),R.forEach(f),b=k(W),_=p(W,"DIV",{class:!0});var G=E(_);y=p(G,"BUTTON",{class:!0,"data-svelte-h":!0}),K(y)!=="svelte-kn08kh"&&(y.textContent=g),C=k(G),O&&O.l(G),G.forEach(f),W.forEach(f),F.forEach(f),this.h()},h(){c(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-3xl font-medieval text-neutral text-center mb-2"),c(m,"class","text-center text-neutral/60 text-sm font-body italic"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(d,"class","flex-1 overflow-y-auto p-6"),c(y,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),c(_,"class","flex justify-center gap-4 p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-4xl max-h-[90vh] relative flex flex-col"),c(e,"class","modal modal-open z-50")},m(q,F){j(q,e,F),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),L.m(o,null),r(a,u),r(a,m),H.m(m,null),r(t,v),r(t,d),S.m(d,null),r(t,b),r(t,_),r(_,y),r(_,C),O&&O.m(_,null),w||(I=[le(s,"click",l[12]),le(y,"click",l[12]),le(t,"click",kt(l[16])),le(e,"click",l[12]),le(e,"keydown",l[28])],w=!0)},p(q,F){x!==(x=V(q))&&(L.d(1),L=x(q),L&&(L.c(),L.m(o,null))),T!==(T=N(q))&&(H.d(1),H=T(q),H&&(H.c(),H.m(m,null))),P===(P=A(q))&&S?S.p(q,F):(S.d(1),S=P(q),S&&(S.c(),S.m(d,null))),q[1]?O?O.p(q,F):(O=vl(q),O.c(),O.m(_,null)):O&&(O.d(1),O=null)},d(q){q&&f(e),L.d(),H.d(),S.d(),O&&O.d(),w=!1,st(I)}}}function ir(l){let e;return{c(){e=B("üîç Buscar Item")},l(t){e=M(t,"üîç Buscar Item")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function or(l){let e;return{c(){e=B("‚ûï Agregar Item")},l(t){e=M(t,"‚ûï Agregar Item")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function cr(l){let e;return{c(){e=B("Busca en la base de datos oficial de D&D 5e")},l(t){e=M(t,"Busca en la base de datos oficial de D&D 5e")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function ur(l){let e;return{c(){e=B("Completa los detalles del item")},l(t){e=M(t,"Completa los detalles del item")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function fr(l){let e,t,a,s,n='<span class="label-text font-medieval text-neutral text-lg">Nombre <span class="text-error">*</span></span>',i,o,u,m,v,d='<span class="label-text font-medieval text-neutral text-lg">Tipo</span>',b,_,y,g,C,w,I='<span class="label-text font-medieval text-neutral">Cantidad</span>',V,x,L,N,T,H='<span class="label-text font-medieval text-neutral">Valor (GP)</span>',A,P,S,O,q,F='<span class="label-text font-medieval text-neutral text-lg">Descripci√≥n</span>',W,z,U,se,R=l[8]&&nl(l),G=Ke(l[14]),X=[];for(let Z=0;Z<G.length;Z+=1)X[Z]=il(al(l,G,Z));return{c(){e=h("div"),R&&R.c(),t=D(),a=h("div"),s=h("label"),s.innerHTML=n,i=D(),o=h("input"),u=D(),m=h("div"),v=h("label"),v.innerHTML=d,b=D(),_=h("select");for(let Z=0;Z<X.length;Z+=1)X[Z].c();y=D(),g=h("div"),C=h("div"),w=h("label"),w.innerHTML=I,V=D(),x=h("input"),L=D(),N=h("div"),T=h("label"),T.innerHTML=H,A=D(),P=h("input"),S=D(),O=h("div"),q=h("label"),q.innerHTML=F,W=D(),z=h("textarea"),this.h()},l(Z){e=p(Z,"DIV",{class:!0});var J=E(e);R&&R.l(J),t=k(J),a=p(J,"DIV",{class:!0});var Q=E(a);s=p(Q,"LABEL",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-euejpb"&&(s.innerHTML=n),i=k(Q),o=p(Q,"INPUT",{type:!0,placeholder:!0,class:!0}),Q.forEach(f),u=k(J),m=p(J,"DIV",{class:!0});var te=E(m);v=p(te,"LABEL",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-6k7s5m"&&(v.innerHTML=d),b=k(te),_=p(te,"SELECT",{class:!0});var re=E(_);for(let $=0;$<X.length;$+=1)X[$].l(re);re.forEach(f),te.forEach(f),y=k(J),g=p(J,"DIV",{class:!0});var fe=E(g);C=p(fe,"DIV",{class:!0});var pe=E(C);w=p(pe,"LABEL",{class:!0,"data-svelte-h":!0}),K(w)!=="svelte-o3y95x"&&(w.innerHTML=I),V=k(pe),x=p(pe,"INPUT",{type:!0,min:!0,class:!0}),pe.forEach(f),L=k(fe),N=p(fe,"DIV",{class:!0});var Ee=E(N);T=p(Ee,"LABEL",{class:!0,"data-svelte-h":!0}),K(T)!=="svelte-o9rbfr"&&(T.innerHTML=H),A=k(Ee),P=p(Ee,"INPUT",{type:!0,min:!0,step:!0,class:!0}),Ee.forEach(f),fe.forEach(f),S=k(J),O=p(J,"DIV",{class:!0});var De=E(O);q=p(De,"LABEL",{class:!0,"data-svelte-h":!0}),K(q)!=="svelte-1igpr5h"&&(q.innerHTML=F),W=k(De),z=p(De,"TEXTAREA",{placeholder:!0,class:!0}),E(z).forEach(f),De.forEach(f),J.forEach(f),this.h()},h(){c(s,"class","label"),c(o,"type","text"),c(o,"placeholder","Ej: Espada Larga +1"),c(o,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(a,"class","form-control"),c(v,"class","label"),c(_,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50"),l[2].type===void 0&&Ts(()=>l[21].call(_)),c(m,"class","form-control"),c(w,"class","label"),c(x,"type","number"),c(x,"min","1"),c(x,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(C,"class","form-control"),c(T,"class","label"),c(P,"type","number"),c(P,"min","0"),c(P,"step","0.01"),c(P,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(N,"class","form-control"),c(g,"class","grid grid-cols-3 gap-4"),c(q,"class","label"),c(z,"placeholder","Descripci√≥n del item..."),c(z,"class","textarea textarea-bordered bg-[#2d241c] text-base-content border-primary/50 h-24"),c(O,"class","form-control"),c(e,"class","space-y-4")},m(Z,J){j(Z,e,J),R&&R.m(e,null),r(e,t),r(e,a),r(a,s),r(a,i),r(a,o),Ie(o,l[2].name),r(e,u),r(e,m),r(m,v),r(m,b),r(m,_);for(let Q=0;Q<X.length;Q+=1)X[Q]&&X[Q].m(_,null);jt(_,l[2].type,!0),r(e,y),r(e,g),r(g,C),r(C,w),r(C,V),r(C,x),Ie(x,l[2].quantity),r(g,L),r(g,N),r(N,T),r(N,A),r(N,P),Ie(P,l[2].value),r(e,S),r(e,O),r(O,q),r(O,W),r(O,z),Ie(z,l[2].description),U||(se=[le(o,"input",l[19]),le(o,"input",l[20]),le(_,"change",l[21]),le(x,"input",l[22]),le(x,"input",l[23]),le(P,"input",l[24]),le(P,"input",l[25]),le(z,"input",l[26]),le(z,"input",l[27])],U=!0)},p(Z,J){if(Z[8]?R?R.p(Z,J):(R=nl(Z),R.c(),R.m(e,t)):R&&(R.d(1),R=null),J[0]&16388&&o.value!==Z[2].name&&Ie(o,Z[2].name),J[0]&16384){G=Ke(Z[14]);let Q;for(Q=0;Q<G.length;Q+=1){const te=al(Z,G,Q);X[Q]?X[Q].p(te,J):(X[Q]=il(te),X[Q].c(),X[Q].m(_,null))}for(;Q<X.length;Q+=1)X[Q].d(1);X.length=G.length}J[0]&16388&&jt(_,Z[2].type),J[0]&16388&&Re(x.value)!==Z[2].quantity&&Ie(x,Z[2].quantity),J[0]&16388&&Re(P.value)!==Z[2].value&&Ie(P,Z[2].value),J[0]&16388&&Ie(z,Z[2].description)},d(Z){Z&&f(e),R&&R.d(),at(X,Z),U=!1,st(se)}}}function dr(l){let e,t,a,s,n,i,o,u,m='<span class="label-text-alt text-neutral/60 italic">üí° Busca armas, armaduras y equipo de aventurero</span>',v,d,b,_,y,g,C="O",w,I,V="‚úèÔ∏è Agregar Item Manualmente",x,L;function N(q,F){return q[6]?hr:pr}let T=N(l),H=T(l),A=l[6]&&!l[5].length&&ol(),P=l[7]&&!l[6]&&cl(),S=l[5].length>0&&ul(l),O=!l[4]&&!l[6]&&l[5].length===0&&ml();return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("input"),n=D(),i=h("div"),H.c(),o=D(),u=h("label"),u.innerHTML=m,v=D(),A&&A.c(),d=D(),P&&P.c(),b=D(),S&&S.c(),_=D(),O&&O.c(),y=D(),g=h("div"),g.textContent=C,w=D(),I=h("button"),I.textContent=V,this.h()},l(q){e=p(q,"DIV",{class:!0});var F=E(e);t=p(F,"DIV",{class:!0});var W=E(t);a=p(W,"DIV",{class:!0});var z=E(a);s=p(z,"INPUT",{type:!0,placeholder:!0,class:!0}),n=k(z),i=p(z,"DIV",{class:!0});var U=E(i);H.l(U),U.forEach(f),z.forEach(f),o=k(W),u=p(W,"LABEL",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-cpq4bn"&&(u.innerHTML=m),W.forEach(f),v=k(F),A&&A.l(F),d=k(F),P&&P.l(F),b=k(F),S&&S.l(F),_=k(F),O&&O.l(F),y=k(F),g=p(F,"DIV",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-18dior4"&&(g.textContent=C),w=k(F),I=p(F,"BUTTON",{class:!0,"data-svelte-h":!0}),K(I)!=="svelte-1u4112e"&&(I.textContent=V),F.forEach(f),this.h()},h(){c(s,"type","text"),c(s,"placeholder","Buscar: plate armor, longsword, rope, health potion..."),c(s,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full pr-10"),s.autofocus=!0,c(i,"class","absolute right-3 top-1/2 -translate-y-1/2 text-neutral/50"),c(a,"class","relative"),c(u,"class","label"),c(t,"class","form-control"),c(g,"class","divider text-neutral/50"),c(I,"class","btn btn-outline border-2 border-primary text-primary hover:bg-primary hover:text-white w-full"),c(e,"class","space-y-4")},m(q,F){j(q,e,F),r(e,t),r(t,a),r(a,s),Ie(s,l[4]),r(a,n),r(a,i),H.m(i,null),r(t,o),r(t,u),r(e,v),A&&A.m(e,null),r(e,d),P&&P.m(e,null),r(e,b),S&&S.m(e,null),r(e,_),O&&O.m(e,null),r(e,y),r(e,g),r(e,w),r(e,I),s.focus(),x||(L=[le(s,"input",l[17]),le(s,"input",l[9]),le(I,"click",l[13])],x=!0)},p(q,F){F[0]&16&&s.value!==q[4]&&Ie(s,q[4]),T!==(T=N(q))&&(H.d(1),H=T(q),H&&(H.c(),H.m(i,null))),q[6]&&!q[5].length?A||(A=ol(),A.c(),A.m(e,d)):A&&(A.d(1),A=null),q[7]&&!q[6]?P||(P=cl(),P.c(),P.m(e,b)):P&&(P.d(1),P=null),q[5].length>0?S?S.p(q,F):(S=ul(q),S.c(),S.m(e,_)):S&&(S.d(1),S=null),!q[4]&&!q[6]&&q[5].length===0?O||(O=ml(),O.c(),O.m(e,y)):O&&(O.d(1),O=null)},d(q){q&&f(e),H.d(),A&&A.d(),P&&P.d(),S&&S.d(),O&&O.d(),x=!1,st(L)}}}function nl(l){let e,t,a;return{c(){e=h("div"),t=h("span"),a=B(l[8]),this.h()},l(s){e=p(s,"DIV",{class:!0});var n=E(e);t=p(n,"SPAN",{});var i=E(t);a=M(i,l[8]),i.forEach(f),n.forEach(f),this.h()},h(){c(e,"class","alert alert-error")},m(s,n){j(s,e,n),r(e,t),r(t,a)},p(s,n){n[0]&256&&ee(a,s[8])},d(s){s&&f(e)}}}function il(l){let e,t=l[35].label+"",a;return{c(){e=h("option"),a=B(t),this.h()},l(s){e=p(s,"OPTION",{});var n=E(e);a=M(n,t),n.forEach(f),this.h()},h(){e.__value=l[35].value,Ie(e,e.__value)},m(s,n){j(s,e,n),r(e,a)},p:We,d(s){s&&f(e)}}}function pr(l){let e;return{c(){e=B("üîç")},l(t){e=M(t,"üîç")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function hr(l){let e;return{c(){e=h("span"),this.h()},l(t){e=p(t,"SPAN",{class:!0}),E(e).forEach(f),this.h()},h(){c(e,"class","loading loading-spinner loading-sm")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function ol(l){let e,t='<span class="loading loading-spinner loading-md text-secondary"></span> <span class="ml-3 text-neutral/70">Buscando items...</span>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1dq7orb"&&(e.innerHTML=t),this.h()},h(){c(e,"class","flex justify-center items-center py-8")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function cl(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-warning" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> <div><p class="font-bold">No se encontraron resultados</p> <p class="text-xs">Intenta con otro nombre o agrega el item manualmente</p></div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1yuuv3j"&&(e.innerHTML=t),this.h()},h(){c(e,"class","alert bg-warning/20 border-warning/40")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function ul(l){let e,t,a,s=l[5].length+"",n,i,o=l[5].length!==1?"s":"",u,m,v=l[5].length!==1?"s":"",d,b,_,y=Ke(l[5]),g=[];for(let C=0;C<y.length;C+=1)g[C]=hl(sl(l,y,C));return{c(){e=h("div"),t=h("p"),a=B("üìñ "),n=B(s),i=B(" item"),u=B(o),m=B(" encontrado"),d=B(v),b=D(),_=h("div");for(let C=0;C<g.length;C+=1)g[C].c();this.h()},l(C){e=p(C,"DIV",{class:!0});var w=E(e);t=p(w,"P",{class:!0});var I=E(t);a=M(I,"üìñ "),n=M(I,s),i=M(I," item"),u=M(I,o),m=M(I," encontrado"),d=M(I,v),I.forEach(f),b=k(w),_=p(w,"DIV",{class:!0});var V=E(_);for(let x=0;x<g.length;x+=1)g[x].l(V);V.forEach(f),w.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/70"),c(_,"class","grid grid-cols-1 gap-2 max-h-96 overflow-y-auto"),c(e,"class","space-y-2")},m(C,w){j(C,e,w),r(e,t),r(t,a),r(t,n),r(t,i),r(t,u),r(t,m),r(t,d),r(e,b),r(e,_);for(let I=0;I<g.length;I+=1)g[I]&&g[I].m(_,null)},p(C,w){if(w[0]&32&&s!==(s=C[5].length+"")&&ee(n,s),w[0]&32&&o!==(o=C[5].length!==1?"s":"")&&ee(u,o),w[0]&32&&v!==(v=C[5].length!==1?"s":"")&&ee(d,v),w[0]&1120){y=Ke(C[5]);let I;for(I=0;I<y.length;I+=1){const V=sl(C,y,I);g[I]?g[I].p(V,w):(g[I]=hl(V),g[I].c(),g[I].m(_,null))}for(;I<g.length;I+=1)g[I].d(1);g.length=y.length}},d(C){C&&f(e),at(g,C)}}}function fl(l){let e,t=l[32].rarity+"",a,s;return{c(){e=h("span"),a=B(t),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=E(e);a=M(i,t),i.forEach(f),this.h()},h(){c(e,"class",s="badge badge-sm "+bl(l[32].rarity)+" ml-2 flex-shrink-0 svelte-efadq")},m(n,i){j(n,e,i),r(e,a)},p(n,i){i[0]&32&&t!==(t=n[32].rarity+"")&&ee(a,t),i[0]&32&&s!==(s="badge badge-sm "+bl(n[32].rarity)+" ml-2 flex-shrink-0 svelte-efadq")&&c(e,"class",s)},d(n){n&&f(e)}}}function dl(l){let e,t=Rt(l[32])+"",a;return{c(){e=h("span"),a=B(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var n=E(e);a=M(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-xs badge-info")},m(s,n){j(s,e,n),r(e,a)},p(s,n){n[0]&32&&t!==(t=Rt(s[32])+"")&&ee(a,t)},d(s){s&&f(e)}}}function pl(l){let e,t=l[32].category+"",a;return{c(){e=h("span"),a=B(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var n=E(e);a=M(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-xs badge-secondary")},m(s,n){j(s,e,n),r(e,a)},p(s,n){n[0]&32&&t!==(t=s[32].category+"")&&ee(a,t)},d(s){s&&f(e)}}}function hl(l){let e,t,a,s,n=l[32].name+"",i,o,u,m,v=Rt(l[32]),d,b,_,y=mt.cleanDescription(l[32].desc||"",120)+"",g,C,w,I,V=l[32].rarity&&fl(l),x=v&&dl(l),L=l[32].category&&pl(l);function N(){return l[18](l[32])}return{c(){e=h("button"),t=h("div"),a=h("div"),s=h("span"),i=B(n),o=D(),V&&V.c(),u=D(),m=h("div"),x&&x.c(),d=D(),L&&L.c(),b=D(),_=h("p"),g=B(y),C=D(),this.h()},l(T){e=p(T,"BUTTON",{class:!0});var H=E(e);t=p(H,"DIV",{class:!0});var A=E(t);a=p(A,"DIV",{class:!0});var P=E(a);s=p(P,"SPAN",{class:!0});var S=E(s);i=M(S,n),S.forEach(f),P.forEach(f),o=k(A),V&&V.l(A),A.forEach(f),u=k(H),m=p(H,"DIV",{class:!0});var O=E(m);x&&x.l(O),d=k(O),L&&L.l(O),O.forEach(f),b=k(H),_=p(H,"P",{class:!0});var q=E(_);g=M(q,y),q.forEach(f),C=k(H),H.forEach(f),this.h()},h(){c(s,"class","font-bold text-neutral text-lg block"),c(a,"class","flex-1"),c(t,"class","flex justify-between items-start w-full mb-2"),c(m,"class","flex flex-wrap gap-2 mb-2 w-full"),c(_,"class","text-xs text-neutral/70 line-clamp-2 w-full svelte-efadq"),c(e,"class","btn btn-ghost text-left border border-primary/30 hover:bg-primary/20 flex flex-col items-start w-full p-4 h-auto min-h-[6rem]"),e.disabled=l[6]},m(T,H){j(T,e,H),r(e,t),r(t,a),r(a,s),r(s,i),r(t,o),V&&V.m(t,null),r(e,u),r(e,m),x&&x.m(m,null),r(m,d),L&&L.m(m,null),r(e,b),r(e,_),r(_,g),r(e,C),w||(I=le(e,"click",N),w=!0)},p(T,H){l=T,H[0]&32&&n!==(n=l[32].name+"")&&ee(i,n),l[32].rarity?V?V.p(l,H):(V=fl(l),V.c(),V.m(t,null)):V&&(V.d(1),V=null),H[0]&32&&(v=Rt(l[32])),v?x?x.p(l,H):(x=dl(l),x.c(),x.m(m,d)):x&&(x.d(1),x=null),l[32].category?L?L.p(l,H):(L=pl(l),L.c(),L.m(m,null)):L&&(L.d(1),L=null),H[0]&32&&y!==(y=mt.cleanDescription(l[32].desc||"",120)+"")&&ee(g,y),H[0]&64&&(e.disabled=l[6])},d(T){T&&f(e),V&&V.d(),x&&x.d(),L&&L.d(),w=!1,I()}}}function ml(l){let e,t='<div class="text-6xl mb-4">üì¶</div> <p class="text-neutral/70 font-body mb-4">Escribe para buscar items en la base de datos oficial</p> <div class="flex flex-wrap gap-2 justify-center text-xs text-neutral/50"><span class="bg-neutral/10 px-3 py-1 rounded">plate armor</span> <span class="bg-neutral/10 px-3 py-1 rounded">longsword</span> <span class="bg-neutral/10 px-3 py-1 rounded">health potion</span> <span class="bg-neutral/10 px-3 py-1 rounded">rope</span></div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1hxe8a3"&&(e.innerHTML=t),this.h()},h(){c(e,"class","text-center py-12")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function vl(l){let e,t,a="‚ûï",s,n,i,o;return{c(){e=h("button"),t=h("span"),t.textContent=a,s=B(`\r
            Agregar al Inventario`),this.h()},l(u){e=p(u,"BUTTON",{class:!0});var m=E(e);t=p(m,"SPAN",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1vjg05e"&&(t.textContent=a),s=M(m,`\r
            Agregar al Inventario`),m.forEach(f),this.h()},h(){c(t,"class","text-xl"),c(e,"class","btn btn-dnd"),e.disabled=n=!l[2].name.trim()||!!l[8]},m(u,m){j(u,e,m),r(e,t),r(e,s),i||(o=le(e,"click",l[11]),i=!0)},p(u,m){m[0]&16644&&n!==(n=!u[2].name.trim()||!!u[8])&&(e.disabled=n)},d(u){u&&f(e),i=!1,o()}}}function mr(l){let e,t=l[0]&&rl(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,s){t&&t.m(a,s),j(a,e,s)},p(a,s){a[0]?t?t.p(a,s):(t=rl(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:We,o:We,d(a){a&&f(e),t&&t.d(a)}}}const vr=800;function bl(l){return{common:"badge-ghost",uncommon:"badge-success",rare:"badge-primary","very rare":"badge-secondary",legendary:"badge-warning",artifact:"badge-error"}[l==null?void 0:l.toLowerCase()]||"badge-ghost"}function Rt(l){return l.cost?`üí∞ ${l.cost}`:""}function br(l,e,t){let{isOpen:a=!1}=e,{characterId:s=""}=e;const n=Mt();let i="",o=[],u=null,m=!1,v=!1,d=null,b=!1,_={name:"",type:"other",description:"",quantity:1,value:0},y="",g=!1;const C=Us(async()=>{const R=i.trim();if(!R){t(5,o=[]),t(7,v=!1);return}d&&d.abort(),d=new AbortController,t(6,m=!0),t(7,v=!1);try{const G=await mt.searchItems(R);t(5,o=(G.results||[]).slice(0,20)),t(7,v=o.length===0)}catch(G){if(G.name==="AbortError")return;console.error("Error buscando items:",G),t(5,o=[]),t(7,v=!0)}finally{t(6,m=!1),d=null}},vr);async function w(R){t(6,m=!0),t(7,v=!1);try{const G=R.source||"magicitems";let X=R;if(R.source)try{X=await mt.getItem(R.slug,G)}catch(J){console.warn("Could not fetch full item, using summary:",J),X=R}u=X;const Z=mt.convertToInventoryItem(X);t(2,_={name:Z.name||X.name||"",type:Z.type||"other",description:mt.cleanDescription(Z.description||X.desc||"",500),quantity:1,value:typeof Z.value=="number"?Z.value:parseFloat(String(Z.value||0))||0}),t(5,o=[]),t(4,i=""),t(1,b=!0)}catch(G){console.error("Error selecting item:",G),t(8,y="Error al cargar el item. Por favor intenta de nuevo.")}finally{t(6,m=!1)}}function I(){if(t(3,g=!0),!_.name.trim()){t(8,y="El nombre no puede estar vac√≠o");return}const R={name:_.name,type:_.type,description:_.description,quantity:_.quantity,value:_.value},G=$t(R);if(!G.valid){t(8,y=G.error||"");return}const X={...R,weaponData:u&&_.type==="weapon"?mt.convertToInventoryItem(u).weaponData:void 0,armorData:u&&(_.type==="armor"||_.type==="shield")?mt.convertToInventoryItem(u).armorData:void 0,open5eSlug:u==null?void 0:u.slug};n("add",X),V()}function V(){d&&(d.abort(),d=null),t(4,i=""),t(5,o=[]),u=null,t(1,b=!1),t(2,_={name:"",type:"other",description:"",quantity:1,value:0}),t(7,v=!1),t(6,m=!1),t(8,y=""),t(3,g=!1),n("close")}function x(){t(1,b=!0),t(5,o=[]),t(4,i="")}const L=[{value:"weapon",label:"‚öîÔ∏è Arma",icon:"‚öîÔ∏è"},{value:"armor",label:"üõ°Ô∏è Armadura",icon:"üõ°Ô∏è"},{value:"shield",label:"üõ°Ô∏è Escudo",icon:"üõ°Ô∏è"},{value:"tool",label:"üîß Herramienta",icon:"üîß"},{value:"consumable",label:"üß™ Consumible",icon:"üß™"},{value:"treasure",label:"üíé Tesoro",icon:"üíé"},{value:"other",label:"üì¶ Otro",icon:"üì¶"}];function N(R){Pt.call(this,l,R)}function T(){i=this.value,t(4,i)}const H=R=>w(R);function A(){_.name=this.value,t(2,_),t(14,L)}const P=()=>t(3,g=!0);function S(){_.type=xs(this),t(2,_),t(14,L)}function O(){_.quantity=Re(this.value),t(2,_),t(14,L)}const q=()=>t(3,g=!0);function F(){_.value=Re(this.value),t(2,_),t(14,L)}const W=()=>t(3,g=!0);function z(){_.description=this.value,t(2,_),t(14,L)}const U=()=>t(3,g=!0),se=R=>R.key==="Escape"&&V();return l.$$set=R=>{"isOpen"in R&&t(0,a=R.isOpen),"characterId"in R&&t(15,s=R.characterId)},l.$$.update=()=>{if(l.$$.dirty[0]&14&&g&&b){const R={name:_.name,type:_.type,description:_.description,quantity:_.quantity,value:_.value},G=$t(R);t(8,y=G.valid?"":G.error||"")}},[a,b,_,g,i,o,m,v,y,C,w,I,V,x,L,s,N,T,H,A,P,S,O,q,F,W,z,U,se]}class _r extends Dt{constructor(e){super(),wt(this,e,br,mr,It,{isOpen:0,characterId:15},null,[-1,-1])}}function _l(l){let e,t,a,s,n="‚úï",i,o,u,m=Jl(l[1].type)+"",v,d,b,_,y=l[1].name+"",g,C,w,I,V=Kl(l[1].type)+"",x,L,N,T,H,A,P,S,O,q,F,W,z="CANTIDAD",U,se,R=l[1].quantity+"",G,X,Z,J,Q="VALOR TOTAL",te,re,fe=Gt(l[1].value*l[1].quantity)+"",pe,Ee,De,$,he,be="Cerrar",Ce,Ue,Ve=l[1].quantity>1&&gl(l),ke=l[1].value>0&&yl(l),ce=l[1].rarity&&El(l),de=l[1].description&&Cl(l),ve=l[1].weaponData&&kl(l),xe=l[1].armorData&&Ol(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("button"),s.textContent=n,i=D(),o=h("div"),u=h("div"),v=B(m),d=D(),b=h("div"),_=h("h3"),g=B(y),C=D(),w=h("div"),I=h("span"),x=B(V),L=D(),Ve&&Ve.c(),N=D(),ke&&ke.c(),T=D(),ce&&ce.c(),H=D(),A=h("div"),de&&de.c(),P=D(),ve&&ve.c(),S=D(),xe&&xe.c(),O=D(),q=h("div"),F=h("div"),W=h("p"),W.textContent=z,U=D(),se=h("p"),G=B(R),X=D(),Z=h("div"),J=h("p"),J.textContent=Q,te=D(),re=h("p"),pe=B(fe),Ee=B(" gp"),De=D(),$=h("div"),he=h("button"),he.textContent=be,this.h()},l(me){e=p(me,"DIV",{class:!0});var _e=E(e);t=p(_e,"DIV",{class:!0});var He=E(t);a=p(He,"DIV",{class:!0});var Oe=E(a);s=p(Oe,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-drx0cs"&&(s.textContent=n),i=k(Oe),o=p(Oe,"DIV",{class:!0});var Se=E(o);u=p(Se,"DIV",{class:!0});var ie=E(u);v=M(ie,m),ie.forEach(f),d=k(Se),b=p(Se,"DIV",{class:!0});var we=E(b);_=p(we,"H3",{class:!0});var Ge=E(_);g=M(Ge,y),Ge.forEach(f),C=k(we),w=p(we,"DIV",{class:!0});var Je=E(w);I=p(Je,"SPAN",{class:!0});var Fe=E(I);x=M(Fe,V),Fe.forEach(f),L=k(Je),Ve&&Ve.l(Je),N=k(Je),ke&&ke.l(Je),T=k(Je),ce&&ce.l(Je),Je.forEach(f),we.forEach(f),Se.forEach(f),Oe.forEach(f),H=k(He),A=p(He,"DIV",{class:!0});var Me=E(A);de&&de.l(Me),P=k(Me),ve&&ve.l(Me),S=k(Me),xe&&xe.l(Me),O=k(Me),q=p(Me,"DIV",{class:!0});var qe=E(q);F=p(qe,"DIV",{class:!0});var Ne=E(F);W=p(Ne,"P",{class:!0,"data-svelte-h":!0}),K(W)!=="svelte-1x7xzoi"&&(W.textContent=z),U=k(Ne),se=p(Ne,"P",{class:!0});var Qe=E(se);G=M(Qe,R),Qe.forEach(f),Ne.forEach(f),X=k(qe),Z=p(qe,"DIV",{class:!0});var ge=E(Z);J=p(ge,"P",{class:!0,"data-svelte-h":!0}),K(J)!=="svelte-1glp02g"&&(J.textContent=Q),te=k(ge),re=p(ge,"P",{class:!0});var Be=E(re);pe=M(Be,fe),Ee=M(Be," gp"),Be.forEach(f),ge.forEach(f),qe.forEach(f),Me.forEach(f),De=k(He),$=p(He,"DIV",{class:!0});var ne=E($);he=p(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),K(he)!=="svelte-13wbmk8"&&(he.textContent=be),ne.forEach(f),He.forEach(f),_e.forEach(f),this.h()},h(){c(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(u,"class","text-5xl"),c(_,"class","font-bold text-3xl font-medieval text-neutral mb-2"),c(I,"class","badge badge-primary"),c(w,"class","flex flex-wrap gap-2"),c(b,"class","flex-1"),c(o,"class","flex items-start gap-4"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(W,"class","text-xs font-medieval text-neutral/60 mb-1"),c(se,"class","text-2xl font-bold text-neutral"),c(F,"class","bg-neutral/10 p-3 rounded-lg border border-primary/20"),c(J,"class","text-xs font-medieval text-neutral/60 mb-1"),c(re,"class","text-2xl font-bold text-neutral"),c(Z,"class","bg-warning/10 p-3 rounded-lg border border-warning/30"),c(q,"class","grid grid-cols-2 gap-3"),c(A,"class","flex-1 overflow-y-auto p-6"),c(he,"class","btn btn-dnd w-full"),c($,"class","p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-2xl relative max-h-[90vh] flex flex-col"),c(e,"class","modal modal-open z-50")},m(me,_e){j(me,e,_e),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),r(o,u),r(u,v),r(o,d),r(o,b),r(b,_),r(_,g),r(b,C),r(b,w),r(w,I),r(I,x),r(w,L),Ve&&Ve.m(w,null),r(w,N),ke&&ke.m(w,null),r(w,T),ce&&ce.m(w,null),r(t,H),r(t,A),de&&de.m(A,null),r(A,P),ve&&ve.m(A,null),r(A,S),xe&&xe.m(A,null),r(A,O),r(A,q),r(q,F),r(F,W),r(F,U),r(F,se),r(se,G),r(q,X),r(q,Z),r(Z,J),r(Z,te),r(Z,re),r(re,pe),r(re,Ee),r(t,De),r(t,$),r($,he),Ce||(Ue=[le(s,"click",l[2]),le(he,"click",l[2]),le(t,"click",kt(l[4])),le(e,"click",l[2])],Ce=!0)},p(me,_e){_e&2&&m!==(m=Jl(me[1].type)+"")&&ee(v,m),_e&2&&y!==(y=me[1].name+"")&&ee(g,y),_e&2&&V!==(V=Kl(me[1].type)+"")&&ee(x,V),me[1].quantity>1?Ve?Ve.p(me,_e):(Ve=gl(me),Ve.c(),Ve.m(w,N)):Ve&&(Ve.d(1),Ve=null),me[1].value>0?ke?ke.p(me,_e):(ke=yl(me),ke.c(),ke.m(w,T)):ke&&(ke.d(1),ke=null),me[1].rarity?ce?ce.p(me,_e):(ce=El(me),ce.c(),ce.m(w,null)):ce&&(ce.d(1),ce=null),me[1].description?de?de.p(me,_e):(de=Cl(me),de.c(),de.m(A,P)):de&&(de.d(1),de=null),me[1].weaponData?ve?ve.p(me,_e):(ve=kl(me),ve.c(),ve.m(A,S)):ve&&(ve.d(1),ve=null),me[1].armorData?xe?xe.p(me,_e):(xe=Ol(me),xe.c(),xe.m(A,O)):xe&&(xe.d(1),xe=null),_e&2&&R!==(R=me[1].quantity+"")&&ee(G,R),_e&2&&fe!==(fe=Gt(me[1].value*me[1].quantity)+"")&&ee(pe,fe)},d(me){me&&f(e),Ve&&Ve.d(),ke&&ke.d(),ce&&ce.d(),de&&de.d(),ve&&ve.d(),xe&&xe.d(),Ce=!1,st(Ue)}}}function gl(l){let e,t,a=l[1].quantity+"",s;return{c(){e=h("span"),t=B("√ó"),s=B(a),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=E(e);t=M(i,"√ó"),s=M(i,a),i.forEach(f),this.h()},h(){c(e,"class","badge badge-neutral")},m(n,i){j(n,e,i),r(e,t),r(e,s)},p(n,i){i&2&&a!==(a=n[1].quantity+"")&&ee(s,a)},d(n){n&&f(e)}}}function yl(l){let e,t,a=Gt(l[1].value)+"",s,n;return{c(){e=h("span"),t=B("üí∞ "),s=B(a),n=B(" gp c/u"),this.h()},l(i){e=p(i,"SPAN",{class:!0});var o=E(e);t=M(o,"üí∞ "),s=M(o,a),n=M(o," gp c/u"),o.forEach(f),this.h()},h(){c(e,"class","badge badge-warning")},m(i,o){j(i,e,o),r(e,t),r(e,s),r(e,n)},p(i,o){o&2&&a!==(a=Gt(i[1].value)+"")&&ee(s,a)},d(i){i&&f(e)}}}function El(l){let e,t=l[1].rarity+"",a;return{c(){e=h("span"),a=B(t),this.h()},l(s){e=p(s,"SPAN",{class:!0});var n=E(e);a=M(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-secondary")},m(s,n){j(s,e,n),r(e,a)},p(s,n){n&2&&t!==(t=s[1].rarity+"")&&ee(a,t)},d(s){s&&f(e)}}}function Cl(l){let e,t,a="üìñ Descripci√≥n",s,n,i,o=l[1].description+"",u;return{c(){e=h("div"),t=h("h4"),t.textContent=a,s=D(),n=h("div"),i=h("p"),u=B(o),this.h()},l(m){e=p(m,"DIV",{class:!0});var v=E(e);t=p(v,"H4",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-pm9cqs"&&(t.textContent=a),s=k(v),n=p(v,"DIV",{class:!0});var d=E(n);i=p(d,"P",{class:!0});var b=E(i);u=M(b,o),b.forEach(f),d.forEach(f),v.forEach(f),this.h()},h(){c(t,"class","font-medieval text-lg text-neutral mb-2"),c(i,"class","text-neutral/80 font-body whitespace-pre-wrap"),c(n,"class","bg-neutral/10 p-4 rounded-lg border border-primary/20"),c(e,"class","mb-6")},m(m,v){j(m,e,v),r(e,t),r(e,s),r(e,n),r(n,i),r(i,u)},p(m,v){v&2&&o!==(o=m[1].description+"")&&ee(u,o)},d(m){m&&f(e)}}}function kl(l){var se,R;let e,t,a="‚öîÔ∏è Datos de Arma",s,n,i,o,u="TIPO",m,v,d=l[1].weaponData.weaponType+"",b,_,y,g,C="DA√ëO",w,I,V=l[1].weaponData.damageDice+"",x,L,N,T=l[1].weaponData.damageType+"",H,A,P,S,O,q=l[1].weaponData.properties&&Object.keys(l[1].weaponData.properties).length>0,F=l[1].weaponData.magicBonus&&Dl(l),W=((se=l[1].weaponData.properties)==null?void 0:se.range)&&wl(l),z=((R=l[1].weaponData.properties)==null?void 0:R.versatile)&&xl(l),U=q&&Tl(l);return{c(){e=h("div"),t=h("h4"),t.textContent=a,s=D(),n=h("div"),i=h("div"),o=h("p"),o.textContent=u,m=D(),v=h("p"),b=B(d),_=D(),y=h("div"),g=h("p"),g.textContent=C,w=D(),I=h("p"),x=B(V),L=D(),N=h("p"),H=B(T),A=D(),F&&F.c(),P=D(),W&&W.c(),S=D(),z&&z.c(),O=D(),U&&U.c(),this.h()},l(G){e=p(G,"DIV",{class:!0});var X=E(e);t=p(X,"H4",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-ng0kxz"&&(t.textContent=a),s=k(X),n=p(X,"DIV",{class:!0});var Z=E(n);i=p(Z,"DIV",{class:!0});var J=E(i);o=p(J,"P",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-bx8juq"&&(o.textContent=u),m=k(J),v=p(J,"P",{class:!0});var Q=E(v);b=M(Q,d),Q.forEach(f),J.forEach(f),_=k(Z),y=p(Z,"DIV",{class:!0});var te=E(y);g=p(te,"P",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-l3cq1j"&&(g.textContent=C),w=k(te),I=p(te,"P",{class:!0});var re=E(I);x=M(re,V),re.forEach(f),L=k(te),N=p(te,"P",{class:!0});var fe=E(N);H=M(fe,T),fe.forEach(f),te.forEach(f),A=k(Z),F&&F.l(Z),P=k(Z),W&&W.l(Z),S=k(Z),z&&z.l(Z),Z.forEach(f),O=k(X),U&&U.l(X),X.forEach(f),this.h()},h(){c(t,"class","font-medieval text-lg text-neutral mb-3"),c(o,"class","text-xs font-medieval text-neutral/60 mb-1"),c(v,"class","text-lg font-bold text-neutral capitalize"),c(i,"class","bg-primary/10 p-3 rounded-lg border border-primary/30 col-span-2"),c(g,"class","text-xs font-medieval text-neutral/60 mb-1"),c(I,"class","text-xl font-bold text-neutral"),c(N,"class","text-sm text-neutral/70 capitalize"),c(y,"class","bg-error/10 p-3 rounded-lg border border-error/30"),c(n,"class","grid grid-cols-2 gap-3"),c(e,"class","mb-6")},m(G,X){j(G,e,X),r(e,t),r(e,s),r(e,n),r(n,i),r(i,o),r(i,m),r(i,v),r(v,b),r(n,_),r(n,y),r(y,g),r(y,w),r(y,I),r(I,x),r(y,L),r(y,N),r(N,H),r(n,A),F&&F.m(n,null),r(n,P),W&&W.m(n,null),r(n,S),z&&z.m(n,null),r(e,O),U&&U.m(e,null)},p(G,X){var Z,J;X&2&&d!==(d=G[1].weaponData.weaponType+"")&&ee(b,d),X&2&&V!==(V=G[1].weaponData.damageDice+"")&&ee(x,V),X&2&&T!==(T=G[1].weaponData.damageType+"")&&ee(H,T),G[1].weaponData.magicBonus?F?F.p(G,X):(F=Dl(G),F.c(),F.m(n,P)):F&&(F.d(1),F=null),(Z=G[1].weaponData.properties)!=null&&Z.range?W?W.p(G,X):(W=wl(G),W.c(),W.m(n,S)):W&&(W.d(1),W=null),(J=G[1].weaponData.properties)!=null&&J.versatile?z?z.p(G,X):(z=xl(G),z.c(),z.m(n,null)):z&&(z.d(1),z=null),X&2&&(q=G[1].weaponData.properties&&Object.keys(G[1].weaponData.properties).length>0),q?U?U.p(G,X):(U=Tl(G),U.c(),U.m(e,null)):U&&(U.d(1),U=null)},d(G){G&&f(e),F&&F.d(),W&&W.d(),z&&z.d(),U&&U.d()}}}function Dl(l){let e,t,a="BONUS M√ÅGICO",s,n,i,o=l[1].weaponData.magicBonus+"",u,m,v,d="Al ataque y da√±o";return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("p"),i=B("+"),u=B(o),m=D(),v=h("p"),v.textContent=d,this.h()},l(b){e=p(b,"DIV",{class:!0});var _=E(e);t=p(_,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1ygfgxp"&&(t.textContent=a),s=k(_),n=p(_,"P",{class:!0});var y=E(n);i=M(y,"+"),u=M(y,o),y.forEach(f),m=k(_),v=p(_,"P",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-ot632o"&&(v.textContent=d),_.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-2xl font-bold text-success"),c(v,"class","text-xs text-neutral/60"),c(e,"class","bg-success/10 p-3 rounded-lg border border-success/30")},m(b,_){j(b,e,_),r(e,t),r(e,s),r(e,n),r(n,i),r(n,u),r(e,m),r(e,v)},p(b,_){_&2&&o!==(o=b[1].weaponData.magicBonus+"")&&ee(u,o)},d(b){b&&f(e)}}}function wl(l){let e,t,a="üéØ ALCANCE",s,n,i,o=l[1].weaponData.properties.range.normal+"",u,m,v=l[1].weaponData.properties.range.max!==l[1].weaponData.properties.range.normal&&Il(l);return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("p"),i=B("Normal: "),u=B(o),m=B(` pies\r
                    `),v&&v.c(),this.h()},l(d){e=p(d,"DIV",{class:!0});var b=E(e);t=p(b,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-tpmsqg"&&(t.textContent=a),s=k(b),n=p(b,"P",{class:!0});var _=E(n);i=M(_,"Normal: "),u=M(_,o),m=M(_,` pies\r
                    `),v&&v.l(_),_.forEach(f),b.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-lg font-bold text-neutral"),c(e,"class","col-span-2 bg-warning/10 p-3 rounded-lg border border-warning/30")},m(d,b){j(d,e,b),r(e,t),r(e,s),r(e,n),r(n,i),r(n,u),r(n,m),v&&v.m(n,null)},p(d,b){b&2&&o!==(o=d[1].weaponData.properties.range.normal+"")&&ee(u,o),d[1].weaponData.properties.range.max!==d[1].weaponData.properties.range.normal?v?v.p(d,b):(v=Il(d),v.c(),v.m(n,null)):v&&(v.d(1),v=null)},d(d){d&&f(e),v&&v.d()}}}function Il(l){let e,t=l[1].weaponData.properties.range.max+"",a,s;return{c(){e=B("‚Ä¢ M√°ximo: "),a=B(t),s=B(" pies")},l(n){e=M(n,"‚Ä¢ M√°ximo: "),a=M(n,t),s=M(n," pies")},m(n,i){j(n,e,i),j(n,a,i),j(n,s,i)},p(n,i){i&2&&t!==(t=n[1].weaponData.properties.range.max+"")&&ee(a,t)},d(n){n&&(f(e),f(a),f(s))}}}function xl(l){let e,t,a="ü§≤ VERS√ÅTIL",s,n,i=l[1].weaponData.properties.versatile+"",o,u;return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("p"),o=B(i),u=B(" a dos manos"),this.h()},l(m){e=p(m,"DIV",{class:!0});var v=E(e);t=p(v,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-kn83p2"&&(t.textContent=a),s=k(v),n=p(v,"P",{class:!0});var d=E(n);o=M(d,i),u=M(d," a dos manos"),d.forEach(f),v.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-lg font-bold text-neutral"),c(e,"class","col-span-2 bg-success/10 p-3 rounded-lg border border-success/30")},m(m,v){j(m,e,v),r(e,t),r(e,s),r(e,n),r(n,o),r(n,u)},p(m,v){v&2&&i!==(i=m[1].weaponData.properties.versatile+"")&&ee(o,i)},d(m){m&&f(e)}}}function Tl(l){let e,t,a="PROPIEDADES",s,n,i,o,u,m,v,d,b,_,y=l[1].weaponData.properties.light&&Vl(),g=l[1].weaponData.properties.finesse&&Al(),C=l[1].weaponData.properties.thrown&&Ll(),w=l[1].weaponData.properties.twoHanded&&Pl(),I=l[1].weaponData.properties.reach&&Sl(),V=l[1].weaponData.properties.loading&&Nl(),x=l[1].weaponData.properties.heavy&&Ml(),L=l[1].weaponData.properties.ammunition&&Bl(),N=l[1].weaponData.properties.versatile&&Hl();return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div"),y&&y.c(),i=D(),g&&g.c(),o=D(),C&&C.c(),u=D(),w&&w.c(),m=D(),I&&I.c(),v=D(),V&&V.c(),d=D(),x&&x.c(),b=D(),L&&L.c(),_=D(),N&&N.c(),this.h()},l(T){e=p(T,"DIV",{class:!0});var H=E(e);t=p(H,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1wxxjy9"&&(t.textContent=a),s=k(H),n=p(H,"DIV",{class:!0});var A=E(n);y&&y.l(A),i=k(A),g&&g.l(A),o=k(A),C&&C.l(A),u=k(A),w&&w.l(A),m=k(A),I&&I.l(A),v=k(A),V&&V.l(A),d=k(A),x&&x.l(A),b=k(A),L&&L.l(A),_=k(A),N&&N.l(A),A.forEach(f),H.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-2"),c(n,"class","flex flex-wrap gap-2"),c(e,"class","mt-3")},m(T,H){j(T,e,H),r(e,t),r(e,s),r(e,n),y&&y.m(n,null),r(n,i),g&&g.m(n,null),r(n,o),C&&C.m(n,null),r(n,u),w&&w.m(n,null),r(n,m),I&&I.m(n,null),r(n,v),V&&V.m(n,null),r(n,d),x&&x.m(n,null),r(n,b),L&&L.m(n,null),r(n,_),N&&N.m(n,null)},p(T,H){T[1].weaponData.properties.light?y||(y=Vl(),y.c(),y.m(n,i)):y&&(y.d(1),y=null),T[1].weaponData.properties.finesse?g||(g=Al(),g.c(),g.m(n,o)):g&&(g.d(1),g=null),T[1].weaponData.properties.thrown?C||(C=Ll(),C.c(),C.m(n,u)):C&&(C.d(1),C=null),T[1].weaponData.properties.twoHanded?w||(w=Pl(),w.c(),w.m(n,m)):w&&(w.d(1),w=null),T[1].weaponData.properties.reach?I||(I=Sl(),I.c(),I.m(n,v)):I&&(I.d(1),I=null),T[1].weaponData.properties.loading?V||(V=Nl(),V.c(),V.m(n,d)):V&&(V.d(1),V=null),T[1].weaponData.properties.heavy?x||(x=Ml(),x.c(),x.m(n,b)):x&&(x.d(1),x=null),T[1].weaponData.properties.ammunition?L||(L=Bl(),L.c(),L.m(n,_)):L&&(L.d(1),L=null),T[1].weaponData.properties.versatile?N||(N=Hl(),N.c(),N.m(n,null)):N&&(N.d(1),N=null)},d(T){T&&f(e),y&&y.d(),g&&g.d(),C&&C.d(),w&&w.d(),I&&I.d(),V&&V.d(),x&&x.d(),L&&L.d(),N&&N.d()}}}function Vl(l){let e,t="Ligera";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1y27iqk"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-info")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Al(l){let e,t="Fineza";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-8ktt1o"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-success")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Ll(l){let e,t="Arrojadiza";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-5ritif"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-warning")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Pl(l){let e,t="Dos manos";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-ka14v0"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-error")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Sl(l){let e,t="Alcance";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-uliad1"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-primary")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Nl(l){let e,t="Recarga";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-11q0pb2"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-ghost")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Ml(l){let e,t="Pesada";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1p78jor"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-neutral")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Bl(l){let e,t="Munici√≥n";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-ohlcsu"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-accent")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Hl(l){let e,t="Vers√°til";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1w0goua"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-secondary")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Ol(l){let e,t,a="üõ°Ô∏è Datos de Armadura",s,n,i,o,u="TIPO",m,v,d=l[1].armorData.armorType+"",b,_,y,g,C="CLASE DE ARMADURA",w,I,V,x,L,N;function T(F,W){return F[1].armorData.armorType==="Shield"?yr:gr}let H=T(l),A=H(l),P=l[1].armorData.magicBonus&&ql(l),S=l[1].armorData&&jl(l),O=l[1].armorData.strengthRequirement&&l[1].armorData.strengthRequirement>0&&Gl(l),q=l[1].armorData.stealthDisadvantage&&Ql();return{c(){e=h("div"),t=h("h4"),t.textContent=a,s=D(),n=h("div"),i=h("div"),o=h("p"),o.textContent=u,m=D(),v=h("p"),b=B(d),_=D(),y=h("div"),g=h("p"),g.textContent=C,w=D(),I=h("p"),A.c(),V=D(),P&&P.c(),x=D(),S&&S.c(),L=D(),O&&O.c(),N=D(),q&&q.c(),this.h()},l(F){e=p(F,"DIV",{class:!0});var W=E(e);t=p(W,"H4",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-115vair"&&(t.textContent=a),s=k(W),n=p(W,"DIV",{class:!0});var z=E(n);i=p(z,"DIV",{class:!0});var U=E(i);o=p(U,"P",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-bx8juq"&&(o.textContent=u),m=k(U),v=p(U,"P",{class:!0});var se=E(v);b=M(se,d),se.forEach(f),U.forEach(f),_=k(z),y=p(z,"DIV",{class:!0});var R=E(y);g=p(R,"P",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-1skf8w4"&&(g.textContent=C),w=k(R),I=p(R,"P",{class:!0});var G=E(I);A.l(G),V=k(G),P&&P.l(G),G.forEach(f),R.forEach(f),x=k(z),S&&S.l(z),L=k(z),O&&O.l(z),N=k(z),q&&q.l(z),z.forEach(f),W.forEach(f),this.h()},h(){c(t,"class","font-medieval text-lg text-neutral mb-3"),c(o,"class","text-xs font-medieval text-neutral/60 mb-1"),c(v,"class","text-lg font-bold text-neutral capitalize"),c(i,"class","bg-primary/10 p-3 rounded-lg border border-primary/30 col-span-2"),c(g,"class","text-xs font-medieval text-neutral/60 mb-1"),c(I,"class","text-2xl font-bold text-neutral"),c(y,"class","bg-info/10 p-3 rounded-lg border border-info/30"),c(n,"class","grid grid-cols-2 gap-3"),c(e,"class","mb-6")},m(F,W){j(F,e,W),r(e,t),r(e,s),r(e,n),r(n,i),r(i,o),r(i,m),r(i,v),r(v,b),r(n,_),r(n,y),r(y,g),r(y,w),r(y,I),A.m(I,null),r(I,V),P&&P.m(I,null),r(n,x),S&&S.m(n,null),r(n,L),O&&O.m(n,null),r(n,N),q&&q.m(n,null)},p(F,W){W&2&&d!==(d=F[1].armorData.armorType+"")&&ee(b,d),H===(H=T(F))&&A?A.p(F,W):(A.d(1),A=H(F),A&&(A.c(),A.m(I,V))),F[1].armorData.magicBonus?P?P.p(F,W):(P=ql(F),P.c(),P.m(I,null)):P&&(P.d(1),P=null),F[1].armorData?S?S.p(F,W):(S=jl(F),S.c(),S.m(n,L)):S&&(S.d(1),S=null),F[1].armorData.strengthRequirement&&F[1].armorData.strengthRequirement>0?O?O.p(F,W):(O=Gl(F),O.c(),O.m(n,N)):O&&(O.d(1),O=null),F[1].armorData.stealthDisadvantage?q||(q=Ql(),q.c(),q.m(n,null)):q&&(q.d(1),q=null)},d(F){F&&f(e),A.d(),P&&P.d(),S&&S.d(),O&&O.d(),q&&q.d()}}}function gr(l){let e=l[1].armorData.baseAC+"",t;return{c(){t=B(e)},l(a){t=M(a,e)},m(a,s){j(a,t,s)},p(a,s){s&2&&e!==(e=a[1].armorData.baseAC+"")&&ee(t,e)},d(a){a&&f(t)}}}function yr(l){let e,t="2",a;return{c(){e=B("+"),a=B(t)},l(s){e=M(s,"+"),a=M(s,t)},m(s,n){j(s,e,n),j(s,a,n)},p:We,d(s){s&&(f(e),f(a))}}}function ql(l){let e,t,a=l[1].armorData.magicBonus+"",s;return{c(){e=h("span"),t=B("+"),s=B(a),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=E(e);t=M(i,"+"),s=M(i,a),i.forEach(f),this.h()},h(){c(e,"class","text-success")},m(n,i){j(n,e,i),r(e,t),r(e,s)},p(n,i){i&2&&a!==(a=n[1].armorData.magicBonus+"")&&ee(s,a)},d(n){n&&f(e)}}}function jl(l){let e,t,a="MODIFICADOR DES",s,n,i,o,u,m=l[1].armorData.armorType==="Light Armor"&&Fl(),v=l[1].armorData.armorType==="Medium Armor"&&Ul(),d=l[1].armorData.armorType==="Heavy Armor"&&zl(),b=l[1].armorData.armorType==="Shield"&&Rl();return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("p"),m&&m.c(),i=D(),v&&v.c(),o=D(),d&&d.c(),u=D(),b&&b.c(),this.h()},l(_){e=p(_,"DIV",{class:!0});var y=E(e);t=p(y,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1nnjn91"&&(t.textContent=a),s=k(y),n=p(y,"P",{class:!0});var g=E(n);m&&m.l(g),i=k(g),v&&v.l(g),o=k(g),d&&d.l(g),u=k(g),b&&b.l(g),g.forEach(f),y.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-lg font-bold text-neutral"),c(e,"class","bg-success/10 p-3 rounded-lg border border-success/30")},m(_,y){j(_,e,y),r(e,t),r(e,s),r(e,n),m&&m.m(n,null),r(n,i),v&&v.m(n,null),r(n,o),d&&d.m(n,null),r(n,u),b&&b.m(n,null)},p(_,y){_[1].armorData.armorType==="Light Armor"?m||(m=Fl(),m.c(),m.m(n,i)):m&&(m.d(1),m=null),_[1].armorData.armorType==="Medium Armor"?v||(v=Ul(),v.c(),v.m(n,o)):v&&(v.d(1),v=null),_[1].armorData.armorType==="Heavy Armor"?d||(d=zl(),d.c(),d.m(n,u)):d&&(d.d(1),d=null),_[1].armorData.armorType==="Shield"?b||(b=Rl(),b.c(),b.m(n,null)):b&&(b.d(1),b=null)},d(_){_&&f(e),m&&m.d(),v&&v.d(),d&&d.d(),b&&b.d()}}}function Fl(l){let e;return{c(){e=B("Completo")},l(t){e=M(t,"Completo")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Ul(l){let e;return{c(){e=B("M√°ximo +2")},l(t){e=M(t,"M√°ximo +2")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function zl(l){let e;return{c(){e=B("Sin modificador")},l(t){e=M(t,"Sin modificador")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Rl(l){let e;return{c(){e=B("Sin modificador")},l(t){e=M(t,"Sin modificador")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Gl(l){let e,t,a="REQ. FUERZA",s,n,i=l[1].armorData.strengthRequirement+"",o,u,m,v="Requerido para uso completo";return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("p"),o=B(i),u=D(),m=h("p"),m.textContent=v,this.h()},l(d){e=p(d,"DIV",{class:!0});var b=E(e);t=p(b,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-xatstb"&&(t.textContent=a),s=k(b),n=p(b,"P",{class:!0});var _=E(n);o=M(_,i),_.forEach(f),u=k(b),m=p(b,"P",{class:!0,"data-svelte-h":!0}),K(m)!=="svelte-1rmeg3m"&&(m.textContent=v),b.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-2xl font-bold text-neutral"),c(m,"class","text-xs text-neutral/60"),c(e,"class","bg-warning/10 p-3 rounded-lg border border-warning/30")},m(d,b){j(d,e,b),r(e,t),r(e,s),r(e,n),r(n,o),r(e,u),r(e,m)},p(d,b){b&2&&i!==(i=d[1].armorData.strengthRequirement+"")&&ee(o,i)},d(d){d&&f(e)}}}function Ql(l){let e,t='<p class="text-center"><span class="text-2xl">‚ö†Ô∏è</span> <span class="font-medieval text-neutral ml-2">Desventaja en Sigilo</span></p>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1bgu9r2"&&(e.innerHTML=t),this.h()},h(){c(e,"class","col-span-2 bg-error/10 p-3 rounded-lg border border-error/30")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function Er(l){let e,t=l[0]&&l[1]&&_l(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,s){t&&t.m(a,s),j(a,e,s)},p(a,[s]){a[0]&&a[1]?t?t.p(a,s):(t=_l(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:We,o:We,d(a){a&&f(e),t&&t.d(a)}}}function Gt(l){return l%1===0?l.toString():l.toFixed(2)}function Jl(l){return{weapon:"‚öîÔ∏è",armor:"üõ°Ô∏è",shield:"üõ°Ô∏è",tool:"üîß",consumable:"üß™",treasure:"üíé",other:"üì¶"}[l]||"üì¶"}function Kl(l){return{weapon:"Arma",armor:"Armadura",shield:"Escudo",tool:"Herramienta",consumable:"Consumible",treasure:"Tesoro",other:"Otro"}[l]||"Item"}function Cr(l,e,t){let{isOpen:a=!1}=e,{item:s=null}=e,{character:n=null}=e;const i=Mt();function o(){i("close")}function u(m){Pt.call(this,l,m)}return l.$$set=m=>{"isOpen"in m&&t(0,a=m.isOpen),"item"in m&&t(1,s=m.item),"character"in m&&t(3,n=m.character)},[a,s,o,n,u]}class kr extends Dt{constructor(e){super(),wt(this,e,Cr,Er,It,{isOpen:0,item:1,character:3})}}function Dr(l){let e,t,a,s="üö´",n,i,o="Acceso Denegado",u,m,v="Solo el due√±o del personaje puede modificar items.",d,b,_="Entendido",y,g;return{c(){e=h("div"),t=h("div"),a=h("div"),a.textContent=s,n=D(),i=h("h3"),i.textContent=o,u=D(),m=h("p"),m.textContent=v,d=D(),b=h("button"),b.textContent=_,this.h()},l(C){e=p(C,"DIV",{class:!0});var w=E(e);t=p(w,"DIV",{class:!0});var I=E(t);a=p(I,"DIV",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-13ghcez"&&(a.textContent=s),n=k(I),i=p(I,"H3",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-13fk1x3"&&(i.textContent=o),u=k(I),m=p(I,"P",{class:!0,"data-svelte-h":!0}),K(m)!=="svelte-1va22cv"&&(m.textContent=v),d=k(I),b=p(I,"BUTTON",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-1fvcsye"&&(b.textContent=_),I.forEach(f),w.forEach(f),this.h()},h(){c(a,"class","text-6xl mb-4"),c(i,"class","text-2xl font-medieval text-neutral mb-3"),c(m,"class","text-neutral/70 font-body mb-6"),c(b,"class","btn btn-dnd"),c(t,"class","card-parchment border-4 border-error w-11/12 max-w-md text-center p-8"),c(e,"class","modal modal-open z-50")},m(C,w){j(C,e,w),r(e,t),r(t,a),r(t,n),r(t,i),r(t,u),r(t,m),r(t,d),r(t,b),y||(g=[le(b,"click",l[10]),le(e,"click",l[10])],y=!0)},p:We,d(C){C&&f(e),y=!1,st(g)}}}function wr(l){let e,t,a,s,n="‚úï",i,o,u="‚úèÔ∏è Modificar Item",m,v,d="Edita los detalles de tu objeto",b,_,y,g,C='<span class="label-text font-medieval text-neutral text-lg">Nombre <span class="text-error">*</span></span>',w,I,V,x,L,N,T,H,A='<span class="label-text font-medieval text-neutral">Cantidad</span>',P,S,O,q,F,W,z,U,se,R,G,X,Z,J,Q,te,re='<span class="label-text font-medieval text-neutral">Valor (gp)</span>',fe,pe,Ee,De,$,he,be,Ce,Ue='<span class="label-text font-medieval text-neutral text-lg">Descripci√≥n</span>',Ve,ke,ce,de,ve,xe,me,_e,He,Oe="Cancelar",Se,ie,we,Ge="üíæ",Je,Fe=l[6]?"Guardar Cambios":"Sin Cambios",Me,qe,Ne,Qe,ge=l[4].name&&l[5].name&&Wl(l);function Be(oe,Pe){return oe[4].quantity&&oe[5].quantity?xr:Ir}let ne=Be(l),Ae=ne(l);function Xe(oe,Pe){return oe[4].value&&oe[5].value?Pr:Lr}let je=Xe(l),Y=je(l),ae=l[3].quantity>1&&Xl(l);function Te(oe,Pe){return oe[4].description&&oe[5].description?Nr:Sr}let ue=Te(l),ye=ue(l),ze=(l[1].weaponData||l[1].armorData)&&Yl(l),Le=(l[1].weaponData||l[1].armorData)&&ea(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("button"),s.textContent=n,i=D(),o=h("h3"),o.textContent=u,m=D(),v=h("p"),v.textContent=d,b=D(),_=h("div"),y=h("div"),g=h("label"),g.innerHTML=C,w=D(),I=h("input"),x=D(),ge&&ge.c(),L=D(),N=h("div"),T=h("div"),H=h("label"),H.innerHTML=A,P=D(),S=h("div"),O=h("button"),q=B("‚ûñ"),W=D(),z=h("input"),se=D(),R=h("button"),G=B("‚ûï"),Z=D(),Ae.c(),J=D(),Q=h("div"),te=h("label"),te.innerHTML=re,fe=D(),pe=h("input"),De=D(),Y.c(),$=D(),ae&&ae.c(),he=D(),be=h("div"),Ce=h("label"),Ce.innerHTML=Ue,Ve=D(),ke=h("textarea"),de=D(),ye.c(),ve=D(),ze&&ze.c(),xe=D(),Le&&Le.c(),me=D(),_e=h("div"),He=h("button"),He.textContent=Oe,Se=D(),ie=h("button"),we=h("span"),we.textContent=Ge,Je=D(),Me=B(Fe),this.h()},l(oe){e=p(oe,"DIV",{class:!0});var Pe=E(e);t=p(Pe,"DIV",{class:!0});var et=E(t);a=p(et,"DIV",{class:!0});var Ze=E(a);s=p(Ze,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-drx0cs"&&(s.textContent=n),i=k(Ze),o=p(Ze,"H3",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-xx3jjx"&&(o.textContent=u),m=k(Ze),v=p(Ze,"P",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-d9zk7o"&&(v.textContent=d),Ze.forEach(f),b=k(et),_=p(et,"DIV",{class:!0});var tt=E(_);y=p(tt,"DIV",{class:!0});var rt=E(y);g=p(rt,"LABEL",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-1dje1j3"&&(g.innerHTML=C),w=k(rt),I=p(rt,"INPUT",{type:!0,placeholder:!0,class:!0}),x=k(rt),ge&&ge.l(rt),rt.forEach(f),L=k(tt),N=p(tt,"DIV",{class:!0});var pt=E(N);T=p(pt,"DIV",{class:!0});var ft=E(T);H=p(ft,"LABEL",{class:!0,"data-svelte-h":!0}),K(H)!=="svelte-1x30kpx"&&(H.innerHTML=A),P=k(ft),S=p(ft,"DIV",{class:!0});var dt=E(S);O=p(dt,"BUTTON",{type:!0,class:!0});var xt=E(O);q=M(xt,"‚ûñ"),xt.forEach(f),W=k(dt),z=p(dt,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),se=k(dt),R=p(dt,"BUTTON",{type:!0,class:!0});var vt=E(R);G=M(vt,"‚ûï"),vt.forEach(f),dt.forEach(f),Z=k(ft),Ae.l(ft),ft.forEach(f),J=k(pt),Q=p(pt,"DIV",{class:!0});var ht=E(Q);te=p(ht,"LABEL",{class:!0,"data-svelte-h":!0}),K(te)!=="svelte-julzfr"&&(te.innerHTML=re),fe=k(ht),pe=p(ht,"INPUT",{type:!0,min:!0,step:!0,class:!0}),De=k(ht),Y.l(ht),ht.forEach(f),pt.forEach(f),$=k(tt),ae&&ae.l(tt),he=k(tt),be=p(tt,"DIV",{class:!0});var ct=E(be);Ce=p(ct,"LABEL",{class:!0,"data-svelte-h":!0}),K(Ce)!=="svelte-7selh1"&&(Ce.innerHTML=Ue),Ve=k(ct),ke=p(ct,"TEXTAREA",{placeholder:!0,class:!0}),E(ke).forEach(f),de=k(ct),ye.l(ct),ct.forEach(f),ve=k(tt),ze&&ze.l(tt),xe=k(tt),Le&&Le.l(tt),tt.forEach(f),me=k(et),_e=p(et,"DIV",{class:!0});var ut=E(_e);He=p(ut,"BUTTON",{class:!0,"data-svelte-h":!0}),K(He)!=="svelte-kn08kh"&&(He.textContent=Oe),Se=k(ut),ie=p(ut,"BUTTON",{class:!0});var Bt=E(ie);we=p(Bt,"SPAN",{class:!0,"data-svelte-h":!0}),K(we)!=="svelte-fwlof0"&&(we.textContent=Ge),Je=k(Bt),Me=M(Bt,Fe),Bt.forEach(f),ut.forEach(f),et.forEach(f),Pe.forEach(f),this.h()},h(){c(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-3xl font-medieval text-neutral text-center"),c(v,"class","text-center text-neutral/60 font-body italic mt-2"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(g,"class","label"),c(I,"type","text"),c(I,"placeholder","Nombre del item"),c(I,"class",V="input input-bordered bg-[#2d241c] text-base-content "+(l[4].name&&l[5].name?"border-error border-2":"border-primary/50")),I.required=!0,c(y,"class","form-control"),c(H,"class","label"),c(O,"type","button"),c(O,"class","btn btn-outline join-item flex-shrink-0"),O.disabled=F=l[3].quantity<=0,c(z,"type","number"),c(z,"min","0"),c(z,"max","999"),c(z,"step","1"),c(z,"class",U="input input-bordered bg-[#2d241c] text-base-content "+(l[4].quantity&&l[5].quantity?"border-error border-2":"border-primary/50")+" join-item text-center flex-1 w-full"),c(R,"type","button"),c(R,"class","btn btn-outline join-item flex-shrink-0"),R.disabled=X=l[3].quantity>=999,c(S,"class","join w-full"),c(T,"class","form-control"),c(te,"class","label"),c(pe,"type","number"),c(pe,"min","0"),c(pe,"step","0.01"),c(pe,"class",Ee="input input-bordered bg-[#2d241c] text-base-content "+(l[4].value&&l[5].value?"border-error border-2":"border-primary/50")),c(Q,"class","form-control"),c(N,"class","grid grid-cols-2 gap-4"),c(Ce,"class","label"),c(ke,"placeholder","Descripci√≥n del item..."),c(ke,"class",ce="textarea textarea-bordered bg-[#2d241c] text-base-content "+(l[4].description&&l[5].description?"border-error border-2":"border-primary/50")+" h-32 resize-none"),c(be,"class","form-control"),c(_,"class","flex-1 overflow-y-auto p-6 space-y-4"),c(He,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),c(we,"class","text-xl"),c(ie,"class","btn btn-dnd"),ie.disabled=qe=!l[7]||!l[6],c(_e,"class","flex justify-center gap-4 p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-2xl relative max-h-[90vh] flex flex-col"),c(e,"class","modal modal-open z-50")},m(oe,Pe){j(oe,e,Pe),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),r(a,m),r(a,v),r(t,b),r(t,_),r(_,y),r(y,g),r(y,w),r(y,I),Ie(I,l[3].name),r(y,x),ge&&ge.m(y,null),r(_,L),r(_,N),r(N,T),r(T,H),r(T,P),r(T,S),r(S,O),r(O,q),r(S,W),r(S,z),Ie(z,l[3].quantity),r(S,se),r(S,R),r(R,G),r(T,Z),Ae.m(T,null),r(N,J),r(N,Q),r(Q,te),r(Q,fe),r(Q,pe),Ie(pe,l[3].value),r(Q,De),Y.m(Q,null),r(_,$),ae&&ae.m(_,null),r(_,he),r(_,be),r(be,Ce),r(be,Ve),r(be,ke),Ie(ke,l[3].description),r(be,de),ye.m(be,null),r(_,ve),ze&&ze.m(_,null),r(_,xe),Le&&Le.m(_,null),r(t,me),r(t,_e),r(_e,He),r(_e,Se),r(_e,ie),r(ie,we),r(ie,Je),r(ie,Me),Ne||(Qe=[le(s,"click",l[10]),le(I,"input",l[17]),le(I,"input",l[18]),le(I,"blur",l[19]),le(O,"click",l[12]),le(z,"input",l[20]),le(z,"input",l[21]),le(z,"blur",l[22]),le(z,"change",l[13]),le(R,"click",l[11]),le(pe,"input",l[23]),le(pe,"input",l[24]),le(pe,"blur",l[25]),le(ke,"input",l[26]),le(ke,"blur",l[27]),le(He,"click",l[10]),le(ie,"click",l[9]),le(t,"click",kt(l[16])),le(e,"click",l[10])],Ne=!0)},p(oe,Pe){Pe[0]&48&&V!==(V="input input-bordered bg-[#2d241c] text-base-content "+(oe[4].name&&oe[5].name?"border-error border-2":"border-primary/50"))&&c(I,"class",V),Pe[0]&8&&I.value!==oe[3].name&&Ie(I,oe[3].name),oe[4].name&&oe[5].name?ge?ge.p(oe,Pe):(ge=Wl(oe),ge.c(),ge.m(y,null)):ge&&(ge.d(1),ge=null),Pe[0]&8&&F!==(F=oe[3].quantity<=0)&&(O.disabled=F),Pe[0]&48&&U!==(U="input input-bordered bg-[#2d241c] text-base-content "+(oe[4].quantity&&oe[5].quantity?"border-error border-2":"border-primary/50")+" join-item text-center flex-1 w-full")&&c(z,"class",U),Pe[0]&8&&Re(z.value)!==oe[3].quantity&&Ie(z,oe[3].quantity),Pe[0]&8&&X!==(X=oe[3].quantity>=999)&&(R.disabled=X),ne===(ne=Be(oe))&&Ae?Ae.p(oe,Pe):(Ae.d(1),Ae=ne(oe),Ae&&(Ae.c(),Ae.m(T,null))),Pe[0]&48&&Ee!==(Ee="input input-bordered bg-[#2d241c] text-base-content "+(oe[4].value&&oe[5].value?"border-error border-2":"border-primary/50"))&&c(pe,"class",Ee),Pe[0]&8&&Re(pe.value)!==oe[3].value&&Ie(pe,oe[3].value),je===(je=Xe(oe))&&Y?Y.p(oe,Pe):(Y.d(1),Y=je(oe),Y&&(Y.c(),Y.m(Q,null))),oe[3].quantity>1?ae?ae.p(oe,Pe):(ae=Xl(oe),ae.c(),ae.m(_,he)):ae&&(ae.d(1),ae=null),Pe[0]&48&&ce!==(ce="textarea textarea-bordered bg-[#2d241c] text-base-content "+(oe[4].description&&oe[5].description?"border-error border-2":"border-primary/50")+" h-32 resize-none")&&c(ke,"class",ce),Pe[0]&8&&Ie(ke,oe[3].description),ue===(ue=Te(oe))&&ye?ye.p(oe,Pe):(ye.d(1),ye=ue(oe),ye&&(ye.c(),ye.m(be,null))),oe[1].weaponData||oe[1].armorData?ze?ze.p(oe,Pe):(ze=Yl(oe),ze.c(),ze.m(_,xe)):ze&&(ze.d(1),ze=null),oe[1].weaponData||oe[1].armorData?Le?Le.p(oe,Pe):(Le=ea(oe),Le.c(),Le.m(_,null)):Le&&(Le.d(1),Le=null),Pe[0]&64&&Fe!==(Fe=oe[6]?"Guardar Cambios":"Sin Cambios")&&ee(Me,Fe),Pe[0]&192&&qe!==(qe=!oe[7]||!oe[6])&&(ie.disabled=qe)},d(oe){oe&&f(e),ge&&ge.d(),Ae.d(),Y.d(),ae&&ae.d(),ye.d(),ze&&ze.d(),Le&&Le.d(),Ne=!1,st(Qe)}}}function Wl(l){let e,t,a,s=l[4].name+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].name+"")&&ee(n,s)},d(i){i&&f(e)}}}function Ir(l){let e,t;function a(i,o){return i[3].quantity===0?Ar:i[3].quantity>99?Vr:Tr}let s=a(l),n=s(l);return{c(){e=h("label"),t=h("span"),n.c(),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);n.l(u),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-neutral/60 italic text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),n.m(t,null)},p(i,o){s!==(s=a(i))&&(n.d(1),n=s(i),n&&(n.c(),n.m(t,null)))},d(i){i&&f(e),n.d()}}}function xr(l){let e,t,a,s=l[4].quantity+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].quantity+"")&&ee(n,s)},d(i){i&&f(e)}}}function Tr(l){let e;return{c(){e=B("Cantidad disponible")},l(t){e=M(t,"Cantidad disponible")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Vr(l){let e;return{c(){e=B("üì¶ Gran cantidad de items")},l(t){e=M(t,"üì¶ Gran cantidad de items")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Ar(l){let e;return{c(){e=B("‚ö†Ô∏è Si llegas a 0, el item se eliminar√°")},l(t){e=M(t,"‚ö†Ô∏è Si llegas a 0, el item se eliminar√°")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Lr(l){let e,t='<span class="label-text-alt text-neutral/60 italic text-xs">Precio por unidad</span>';return{c(){e=h("label"),e.innerHTML=t,this.h()},l(a){e=p(a,"LABEL",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1gshcwu"&&(e.innerHTML=t),this.h()},h(){c(e,"class","label")},m(a,s){j(a,e,s)},p:We,d(a){a&&f(e)}}}function Pr(l){let e,t,a,s=l[4].value+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].value+"")&&ee(n,s)},d(i){i&&f(e)}}}function Xl(l){let e,t,a,s="üí∞ Valor Total:",n,i,o=(l[3].value*l[3].quantity).toFixed(2)+"",u,m;return{c(){e=h("div"),t=h("div"),a=h("span"),a.textContent=s,n=D(),i=h("span"),u=B(o),m=B(" gp"),this.h()},l(v){e=p(v,"DIV",{class:!0});var d=E(e);t=p(d,"DIV",{class:!0});var b=E(t);a=p(b,"SPAN",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1tcs01g"&&(a.textContent=s),n=k(b),i=p(b,"SPAN",{class:!0});var _=E(i);u=M(_,o),m=M(_," gp"),_.forEach(f),b.forEach(f),d.forEach(f),this.h()},h(){c(a,"class","font-medieval text-neutral"),c(i,"class","text-2xl font-bold text-neutral"),c(t,"class","flex justify-between items-center"),c(e,"class","bg-warning/10 p-3 rounded-lg border border-warning/30")},m(v,d){j(v,e,d),r(e,t),r(t,a),r(t,n),r(t,i),r(i,u),r(i,m)},p(v,d){d[0]&8&&o!==(o=(v[3].value*v[3].quantity).toFixed(2)+"")&&ee(u,o)},d(v){v&&f(e)}}}function Sr(l){let e,t='<span class="label-text-alt text-neutral/60 italic text-xs">Informaci√≥n adicional sobre el item</span>';return{c(){e=h("label"),e.innerHTML=t,this.h()},l(a){e=p(a,"LABEL",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1unjb8"&&(e.innerHTML=t),this.h()},h(){c(e,"class","label")},m(a,s){j(a,e,s)},p:We,d(a){a&&f(e)}}}function Nr(l){let e,t,a,s=l[4].description+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].description+"")&&ee(n,s)},d(i){i&&f(e)}}}function Yl(l){let e,t="‚ö° Bonus M√°gicos",a,s,n,i=l[1].weaponData&&Zl(l),o=l[1].armorData&&$l(l);return{c(){e=h("div"),e.textContent=t,a=D(),i&&i.c(),s=D(),o&&o.c(),n=Ye(),this.h()},l(u){e=p(u,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-19r1se0"&&(e.textContent=t),a=k(u),i&&i.l(u),s=k(u),o&&o.l(u),n=Ye(),this.h()},h(){c(e,"class","divider text-neutral/50")},m(u,m){j(u,e,m),j(u,a,m),i&&i.m(u,m),j(u,s,m),o&&o.m(u,m),j(u,n,m)},p(u,m){u[1].weaponData?i?i.p(u,m):(i=Zl(u),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null),u[1].armorData?o?o.p(u,m):(o=$l(u),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(u){u&&(f(e),f(a),f(s),f(n)),i&&i.d(u),o&&o.d(u)}}}function Zl(l){let e,t,a='<span class="label-text font-medieval text-neutral">‚öîÔ∏è Bonus de Ataque/Da√±o</span>',s,n,i,o,u='<span class="label-text-alt text-neutral/60 italic text-xs">+0 a +5 (t√≠pico para armas m√°gicas)</span>',m,v;return{c(){e=h("div"),t=h("label"),t.innerHTML=a,s=D(),n=h("input"),i=D(),o=h("label"),o.innerHTML=u,this.h()},l(d){e=p(d,"DIV",{class:!0});var b=E(e);t=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1i1mik1"&&(t.innerHTML=a),s=k(b),n=p(b,"INPUT",{type:!0,min:!0,max:!0,class:!0}),i=k(b),o=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-yrmf50"&&(o.innerHTML=u),b.forEach(f),this.h()},h(){c(t,"class","label"),c(n,"type","number"),c(n,"min","0"),c(n,"max","5"),c(n,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-24"),c(o,"class","label"),c(e,"class","form-control")},m(d,b){j(d,e,b),r(e,t),r(e,s),r(e,n),Ie(n,l[3].weaponMagicBonus),r(e,i),r(e,o),m||(v=le(n,"input",l[28]),m=!0)},p(d,b){b[0]&8&&Re(n.value)!==d[3].weaponMagicBonus&&Ie(n,d[3].weaponMagicBonus)},d(d){d&&f(e),m=!1,v()}}}function $l(l){let e,t,a='<span class="label-text font-medieval text-neutral">üõ°Ô∏è Bonus de AC</span>',s,n,i,o,u='<span class="label-text-alt text-neutral/60 italic text-xs">+0 a +3 (t√≠pico para armaduras m√°gicas)</span>',m,v;return{c(){e=h("div"),t=h("label"),t.innerHTML=a,s=D(),n=h("input"),i=D(),o=h("label"),o.innerHTML=u,this.h()},l(d){e=p(d,"DIV",{class:!0});var b=E(e);t=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-h7myuy"&&(t.innerHTML=a),s=k(b),n=p(b,"INPUT",{type:!0,min:!0,max:!0,class:!0}),i=k(b),o=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-62w0n8"&&(o.innerHTML=u),b.forEach(f),this.h()},h(){c(t,"class","label"),c(n,"type","number"),c(n,"min","0"),c(n,"max","3"),c(n,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-24"),c(o,"class","label"),c(e,"class","form-control")},m(d,b){j(d,e,b),r(e,t),r(e,s),r(e,n),Ie(n,l[3].armorMagicBonus),r(e,i),r(e,o),m||(v=le(n,"input",l[29]),m=!0)},p(d,b){b[0]&8&&Re(n.value)!==d[3].armorMagicBonus&&Ie(n,d[3].armorMagicBonus)},d(d){d&&f(e),m=!1,v()}}}function ea(l){let e,t="üìä Estad√≠sticas Base",a,s,n,i=l[1].weaponData&&ta(l),o=l[1].armorData&&la(l);return{c(){e=h("div"),e.textContent=t,a=D(),i&&i.c(),s=D(),o&&o.c(),n=Ye(),this.h()},l(u){e=p(u,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1waewyq"&&(e.textContent=t),a=k(u),i&&i.l(u),s=k(u),o&&o.l(u),n=Ye(),this.h()},h(){c(e,"class","divider text-neutral/50")},m(u,m){j(u,e,m),j(u,a,m),i&&i.m(u,m),j(u,s,m),o&&o.m(u,m),j(u,n,m)},p(u,m){u[1].weaponData?i?i.p(u,m):(i=ta(u),i.c(),i.m(s.parentNode,s)):i&&(i.d(1),i=null),u[1].armorData?o?o.p(u,m):(o=la(u),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(u){u&&(f(e),f(a),f(s),f(n)),i&&i.d(u),o&&o.d(u)}}}function ta(l){let e,t,a="‚öîÔ∏è Datos de Arma",s,n,i,o,u="Da√±o Base:",m,v,d=l[1].weaponData.damageDice+"",b,_,y=l[1].weaponData.damageType+"",g,C,w,I,V="Tipo:",x,L,N=l[1].weaponData.weaponType.replace("_"," ")+"",T,H,A,P="* El da√±o base y tipo no son editables";return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div"),i=h("div"),o=h("span"),o.textContent=u,m=D(),v=h("span"),b=B(d),_=D(),g=B(y),C=D(),w=h("div"),I=h("span"),I.textContent=V,x=D(),L=h("span"),T=B(N),H=D(),A=h("p"),A.textContent=P,this.h()},l(S){e=p(S,"DIV",{class:!0});var O=E(e);t=p(O,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-jconqs"&&(t.textContent=a),s=k(O),n=p(O,"DIV",{class:!0});var q=E(n);i=p(q,"DIV",{});var F=E(i);o=p(F,"SPAN",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-1daq6lz"&&(o.textContent=u),m=k(F),v=p(F,"SPAN",{class:!0});var W=E(v);b=M(W,d),_=k(W),g=M(W,y),W.forEach(f),F.forEach(f),C=k(q),w=p(q,"DIV",{});var z=E(w);I=p(z,"SPAN",{class:!0,"data-svelte-h":!0}),K(I)!=="svelte-hs3lz9"&&(I.textContent=V),x=k(z),L=p(z,"SPAN",{class:!0});var U=E(L);T=M(U,N),U.forEach(f),z.forEach(f),q.forEach(f),H=k(O),A=p(O,"P",{class:!0,"data-svelte-h":!0}),K(A)!=="svelte-1sqtuh2"&&(A.textContent=P),O.forEach(f),this.h()},h(){c(t,"class","font-medieval text-neutral font-bold mb-2"),c(o,"class","text-neutral/60"),c(v,"class","font-bold ml-2"),c(I,"class","text-neutral/60"),c(L,"class","font-bold ml-2 capitalize"),c(n,"class","grid grid-cols-2 gap-2 text-sm"),c(A,"class","text-xs text-neutral/60 italic mt-2"),c(e,"class","bg-error/10 p-4 rounded-lg border border-error/30")},m(S,O){j(S,e,O),r(e,t),r(e,s),r(e,n),r(n,i),r(i,o),r(i,m),r(i,v),r(v,b),r(v,_),r(v,g),r(n,C),r(n,w),r(w,I),r(w,x),r(w,L),r(L,T),r(e,H),r(e,A)},p(S,O){O[0]&2&&d!==(d=S[1].weaponData.damageDice+"")&&ee(b,d),O[0]&2&&y!==(y=S[1].weaponData.damageType+"")&&ee(g,y),O[0]&2&&N!==(N=S[1].weaponData.weaponType.replace("_"," ")+"")&&ee(T,N)},d(S){S&&f(e)}}}function la(l){let e,t,a="üõ°Ô∏è Datos de Armadura",s,n,i,o,u="AC Base:",m,v,d=l[1].armorData.baseAC+"",b,_,y,g,C="Tipo:",w,I,V=l[1].armorData.armorType+"",x,L,N,T="* La AC base y tipo no son editables";return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div"),i=h("div"),o=h("span"),o.textContent=u,m=D(),v=h("span"),b=B(d),_=D(),y=h("div"),g=h("span"),g.textContent=C,w=D(),I=h("span"),x=B(V),L=D(),N=h("p"),N.textContent=T,this.h()},l(H){e=p(H,"DIV",{class:!0});var A=E(e);t=p(A,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1pyu6rc"&&(t.textContent=a),s=k(A),n=p(A,"DIV",{class:!0});var P=E(n);i=p(P,"DIV",{});var S=E(i);o=p(S,"SPAN",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-dcift0"&&(o.textContent=u),m=k(S),v=p(S,"SPAN",{class:!0});var O=E(v);b=M(O,d),O.forEach(f),S.forEach(f),_=k(P),y=p(P,"DIV",{});var q=E(y);g=p(q,"SPAN",{class:!0,"data-svelte-h":!0}),K(g)!=="svelte-hs3lz9"&&(g.textContent=C),w=k(q),I=p(q,"SPAN",{class:!0});var F=E(I);x=M(F,V),F.forEach(f),q.forEach(f),P.forEach(f),L=k(A),N=p(A,"P",{class:!0,"data-svelte-h":!0}),K(N)!=="svelte-1kkotj1"&&(N.textContent=T),A.forEach(f),this.h()},h(){c(t,"class","font-medieval text-neutral font-bold mb-2"),c(o,"class","text-neutral/60"),c(v,"class","font-bold ml-2"),c(g,"class","text-neutral/60"),c(I,"class","font-bold ml-2 capitalize"),c(n,"class","grid grid-cols-2 gap-2 text-sm"),c(N,"class","text-xs text-neutral/60 italic mt-2"),c(e,"class","bg-info/10 p-4 rounded-lg border border-info/30")},m(H,A){j(H,e,A),r(e,t),r(e,s),r(e,n),r(n,i),r(i,o),r(i,m),r(i,v),r(v,b),r(n,_),r(n,y),r(y,g),r(y,w),r(y,I),r(I,x),r(e,L),r(e,N)},p(H,A){A[0]&2&&d!==(d=H[1].armorData.baseAC+"")&&ee(b,d),A[0]&2&&V!==(V=H[1].armorData.armorType+"")&&ee(x,V)},d(H){H&&f(e)}}}function Mr(l){let e;function t(n,i){if(n[0]&&n[1]&&n[2])return wr;if(n[0]&&n[1]&&!n[2])return Dr}let a=t(l),s=a&&a(l);return{c(){s&&s.c(),e=Ye()},l(n){s&&s.l(n),e=Ye()},m(n,i){s&&s.m(n,i),j(n,e,i)},p(n,i){a===(a=t(n))&&s?s.p(n,i):(s&&s.d(1),s=a&&a(n),s&&(s.c(),s.m(e.parentNode,e)))},i:We,o:We,d(n){n&&f(e),s&&s.d(n)}}}function Br(l,e,t){let{isOpen:a=!1}=e,{item:s=null}=e,{isOwner:n=!1}=e;const i=Mt();let o={name:"",description:"",quantity:1,value:0,weaponMagicBonus:0,armorMagicBonus:0},u={name:"",quantity:"",value:"",description:""},m={name:!1,quantity:!1,value:!1,description:!1},v=!1,d=!1,b=!1,_=null;function y(R){t(5,m[R]=!0,m)}function g(){if(!n||(Object.keys(m).forEach(G=>{t(5,m[G]=!0,m)}),!d))return;if(!v){C();return}const R={};o.name!==(s==null?void 0:s.name)&&(R.name=o.name),o.description!==((s==null?void 0:s.description)||"")&&(R.description=o.description),o.quantity!==(s==null?void 0:s.quantity)&&(R.quantity=o.quantity),o.value!==(s==null?void 0:s.value)&&(R.value=o.value),s!=null&&s.weaponData&&o.weaponMagicBonus!==(s.weaponData.magicBonus||0)&&(R.weaponData={...s.weaponData,magicBonus:o.weaponMagicBonus}),s!=null&&s.armorData&&o.armorMagicBonus!==(s.armorData.magicBonus||0)&&(R.armorData={...s.armorData,magicBonus:o.armorMagicBonus}),i("update",R),C()}function C(){w(),t(14,b=!1),t(15,_=null),i("close")}function w(){Object.keys(m).forEach(R=>{t(5,m[R]=!1,m)}),Object.keys(u).forEach(R=>{t(4,u[R]="",u)})}function I(){o.quantity<999&&(t(3,o.quantity++,o),t(5,m.quantity=!0,m))}function V(){o.quantity>0&&(t(3,o.quantity--,o),t(5,m.quantity=!0,m))}function x(){o.quantity===0&&s&&s.quantity>0&&(confirm("‚ö†Ô∏è Si la cantidad llega a 0, el item se eliminar√°. ¬øContinuar?")||t(3,o.quantity=1,o))}function L(R){Pt.call(this,l,R)}function N(){o.name=this.value,t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}const T=()=>t(5,m.name=!0,m),H=()=>y("name");function A(){o.quantity=Re(this.value),t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}const P=()=>t(5,m.quantity=!0,m),S=()=>{y("quantity"),x()};function O(){o.value=Re(this.value),t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}const q=()=>t(5,m.value=!0,m),F=()=>y("value");function W(){o.description=this.value,t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}const z=()=>y("description");function U(){o.weaponMagicBonus=Re(this.value),t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}function se(){o.armorMagicBonus=Re(this.value),t(3,o),t(1,s),t(0,a),t(14,b),t(15,_)}return l.$$set=R=>{"isOpen"in R&&t(0,a=R.isOpen),"item"in R&&t(1,s=R.item),"isOwner"in R&&t(2,n=R.isOwner)},l.$$.update=()=>{var R,G;if(l.$$.dirty[0]&49155&&s&&a&&(!b||_!==s.id)&&(t(3,o={name:s.name,description:s.description||"",quantity:s.quantity,value:s.value,weaponMagicBonus:((R=s.weaponData)==null?void 0:R.magicBonus)||0,armorMagicBonus:((G=s.armorData)==null?void 0:G.magicBonus)||0}),w(),t(14,b=!0),t(15,_=s.id)),l.$$.dirty[0]&1&&(a||(t(14,b=!1),t(15,_=null))),l.$$.dirty[0]&40&&m.name&&o.name!==void 0){const X=zs(o.name);t(4,u.name=X.valid?"":X.error||"",u)}if(l.$$.dirty[0]&40&&m.quantity&&o.quantity!==void 0){const X=Rs(o.quantity);t(4,u.quantity=X.valid?"":X.error||"",u)}if(l.$$.dirty[0]&40&&m.value&&o.value!==void 0){const X=Gs(o.value);t(4,u.value=X.valid?"":X.error||"",u)}if(l.$$.dirty[0]&40&&m.description&&o.description!==void 0){const X=Qs(o.description);t(4,u.description=X.valid?"":X.error||"",u)}if(l.$$.dirty[0]&16394)if(s&&b){const X=o.name!==s.name,Z=o.description!==(s.description||""),J=Number(o.quantity)!==Number(s.quantity),Q=Number(o.value)!==Number(s.value);let te=!1;s.weaponData&&(te=Number(o.weaponMagicBonus)!==Number(s.weaponData.magicBonus||0));let re=!1;s.armorData&&(re=Number(o.armorMagicBonus)!==Number(s.armorData.magicBonus||0)),t(6,v=X||Z||J||Q||te||re)}else t(6,v=!1);l.$$.dirty[0]&24&&t(7,d=!u.name&&!u.quantity&&!u.value&&!u.description&&o.name.trim().length>0)},[a,s,n,o,u,m,v,d,y,g,C,I,V,x,b,_,L,N,T,H,A,P,S,O,q,F,W,z,U,se]}class Hr extends Dt{constructor(e){super(),wt(this,e,Br,Mr,It,{isOpen:0,item:1,isOwner:2},null,[-1,-1])}}function aa(l,e,t){const a=l.slice();a[78]=e[t];const s=a[10][a[78]];a[79]=s;const n=a[32](a[78]);a[80]=n;const i=a[33](a[78]);a[81]=i;const o=a[7][a[78]]||0;return a[82]=o,a}function sa(l,e,t){const a=l.slice();return a[85]=e[t],a}function Or(l,e,t){const a=l.slice();return a[75]=e[t],a}function ra(l){let e,t,a,s,n,i,o,u,m="‚úï",v,d;return{c(){e=h("div"),t=Ut("svg"),a=Ut("path"),s=D(),n=h("span"),i=B(l[12]),o=D(),u=h("button"),u.textContent=m,this.h()},l(b){e=p(b,"DIV",{class:!0});var _=E(e);t=Ft(_,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var y=E(t);a=Ft(y,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),E(a).forEach(f),y.forEach(f),s=k(_),n=p(_,"SPAN",{});var g=E(n);i=M(g,l[12]),g.forEach(f),o=k(_),u=p(_,"BUTTON",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-4f72mu"&&(u.textContent=m),_.forEach(f),this.h()},h(){c(a,"fill-rule","evenodd"),c(a,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"),c(a,"clip-rule","evenodd"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-5 w-5"),c(t,"viewBox","0 0 20 20"),c(t,"fill","currentColor"),c(u,"class","btn btn-sm btn-ghost"),c(e,"class","alert alert-error")},m(b,_){j(b,e,_),r(e,t),r(t,a),r(e,s),r(e,n),r(n,i),r(e,o),r(e,u),v||(d=le(u,"click",l[39]),v=!0)},p(b,_){_[0]&4096&&ee(i,b[12])},d(b){b&&f(e),v=!1,d()}}}function qr(l){let e,t,a,s,n,i="üí∞",o,u,m,v="MONEDAS",d,b,_,y,g,C,w,I,V,x,L="üì¶",N,T,H,A="ITEMS",P,S,O,q,F,W,z=l[2].items.length+"",U,se,R,G,X,Z="üíé",J,Q,te,re="VALOR",fe,pe,Ee=nt(l[2].totalValue)+"",De,$,he,be,Ce,Ue,Ve,ke=l[2].items.length>0&&na(l),ce=l[2].currency.platinum>0&&ca(l),de=l[2].currency.gold>0&&ua(l),ve=l[2].currency.silver>0&&fa(l),xe=l[2].currency.copper>0&&da(l),me=l[2].currency.platinum===0&&l[2].currency.gold===0&&l[2].currency.silver===0&&l[2].currency.copper===0&&pa(),_e=l[1]&&ha(l);function He(ie,we){return ie[2].items.length===0?zr:Ur}let Oe=He(l),Se=Oe(l);return{c(){ke&&ke.c(),e=D(),t=h("div"),a=h("div"),s=h("button"),n=h("div"),n.textContent=i,o=D(),u=h("div"),m=h("p"),m.textContent=v,d=D(),b=h("div"),ce&&ce.c(),_=D(),de&&de.c(),y=D(),ve&&ve.c(),g=D(),xe&&xe.c(),C=D(),me&&me.c(),I=D(),V=h("div"),x=h("div"),x.textContent=L,N=D(),T=h("div"),H=h("p"),H.textContent=A,P=D(),S=h("p"),O=B(l[20]),q=B(" items"),F=D(),W=h("p"),U=B(z),se=B(" tipos"),R=D(),G=h("div"),X=h("div"),X.textContent=Z,J=D(),Q=h("div"),te=h("p"),te.textContent=re,fe=D(),pe=h("p"),De=B(Ee),$=B(" gp"),he=D(),_e&&_e.c(),be=D(),Se.c(),Ce=Ye(),this.h()},l(ie){ke&&ke.l(ie),e=k(ie),t=p(ie,"DIV",{class:!0});var we=E(t);a=p(we,"DIV",{class:!0});var Ge=E(a);s=p(Ge,"BUTTON",{class:!0});var Je=E(s);n=p(Je,"DIV",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-1vd21yd"&&(n.textContent=i),o=k(Je),u=p(Je,"DIV",{class:!0});var Fe=E(u);m=p(Fe,"P",{class:!0,"data-svelte-h":!0}),K(m)!=="svelte-xkj9ha"&&(m.textContent=v),d=k(Fe),b=p(Fe,"DIV",{class:!0});var Me=E(b);ce&&ce.l(Me),_=k(Me),de&&de.l(Me),y=k(Me),ve&&ve.l(Me),g=k(Me),xe&&xe.l(Me),C=k(Me),me&&me.l(Me),Me.forEach(f),Fe.forEach(f),Je.forEach(f),I=k(Ge),V=p(Ge,"DIV",{class:!0});var qe=E(V);x=p(qe,"DIV",{class:!0,"data-svelte-h":!0}),K(x)!=="svelte-nk72pb"&&(x.textContent=L),N=k(qe),T=p(qe,"DIV",{});var Ne=E(T);H=p(Ne,"P",{class:!0,"data-svelte-h":!0}),K(H)!=="svelte-kwvj0d"&&(H.textContent=A),P=k(Ne),S=p(Ne,"P",{class:!0});var Qe=E(S);O=M(Qe,l[20]),q=M(Qe," items"),Qe.forEach(f),F=k(Ne),W=p(Ne,"P",{class:!0});var ge=E(W);U=M(ge,z),se=M(ge," tipos"),ge.forEach(f),Ne.forEach(f),qe.forEach(f),R=k(Ge),G=p(Ge,"DIV",{class:!0});var Be=E(G);X=p(Be,"DIV",{class:!0,"data-svelte-h":!0}),K(X)!=="svelte-ucifnb"&&(X.textContent=Z),J=k(Be),Q=p(Be,"DIV",{});var ne=E(Q);te=p(ne,"P",{class:!0,"data-svelte-h":!0}),K(te)!=="svelte-1g54e5b"&&(te.textContent=re),fe=k(ne),pe=p(ne,"P",{class:!0});var Ae=E(pe);De=M(Ae,Ee),$=M(Ae," gp"),Ae.forEach(f),ne.forEach(f),Be.forEach(f),he=k(Ge),_e&&_e.l(Ge),Ge.forEach(f),we.forEach(f),be=k(ie),Se.l(ie),Ce=Ye(),this.h()},h(){c(n,"class","text-3xl"),c(m,"class","text-xs font-medieval text-neutral/60"),c(b,"class","flex gap-2 text-sm font-bold flex-wrap"),c(u,"class","text-left"),c(s,"class","flex items-center gap-3 hover:bg-primary/10 p-2 rounded-lg transition-colors flex-1 min-w-[200px]"),s.disabled=w=!l[1],c(x,"class","text-3xl"),c(H,"class","text-xs font-medieval text-neutral/60"),c(S,"class","text-sm font-bold"),c(W,"class","text-xs text-neutral/60"),c(V,"class","flex items-center gap-3 flex-1 min-w-[150px]"),c(X,"class","text-3xl"),c(te,"class","text-xs font-medieval text-neutral/60"),c(pe,"class","text-sm font-bold"),c(G,"class","flex items-center gap-3 flex-1 min-w-[150px]"),c(a,"class","flex flex-wrap justify-between items-center gap-4"),c(t,"class","bg-gradient-to-r from-primary/10 to-accent/10 p-4 rounded-lg border-2 border-primary/30")},m(ie,we){ke&&ke.m(ie,we),j(ie,e,we),j(ie,t,we),r(t,a),r(a,s),r(s,n),r(s,o),r(s,u),r(u,m),r(u,d),r(u,b),ce&&ce.m(b,null),r(b,_),de&&de.m(b,null),r(b,y),ve&&ve.m(b,null),r(b,g),xe&&xe.m(b,null),r(b,C),me&&me.m(b,null),r(a,I),r(a,V),r(V,x),r(V,N),r(V,T),r(T,H),r(T,P),r(T,S),r(S,O),r(S,q),r(T,F),r(T,W),r(W,U),r(W,se),r(a,R),r(a,G),r(G,X),r(G,J),r(G,Q),r(Q,te),r(Q,fe),r(Q,pe),r(pe,De),r(pe,$),r(a,he),_e&&_e.m(a,null),j(ie,be,we),Se.m(ie,we),j(ie,Ce,we),Ue||(Ve=le(s,"click",l[44]),Ue=!0)},p(ie,we){ie[2].items.length>0?ke?ke.p(ie,we):(ke=na(ie),ke.c(),ke.m(e.parentNode,e)):ke&&(ke.d(1),ke=null),ie[2].currency.platinum>0?ce?ce.p(ie,we):(ce=ca(ie),ce.c(),ce.m(b,_)):ce&&(ce.d(1),ce=null),ie[2].currency.gold>0?de?de.p(ie,we):(de=ua(ie),de.c(),de.m(b,y)):de&&(de.d(1),de=null),ie[2].currency.silver>0?ve?ve.p(ie,we):(ve=fa(ie),ve.c(),ve.m(b,g)):ve&&(ve.d(1),ve=null),ie[2].currency.copper>0?xe?xe.p(ie,we):(xe=da(ie),xe.c(),xe.m(b,C)):xe&&(xe.d(1),xe=null),ie[2].currency.platinum===0&&ie[2].currency.gold===0&&ie[2].currency.silver===0&&ie[2].currency.copper===0?me||(me=pa(),me.c(),me.m(b,null)):me&&(me.d(1),me=null),we[0]&2&&w!==(w=!ie[1])&&(s.disabled=w),we[0]&1048576&&ee(O,ie[20]),we[0]&4&&z!==(z=ie[2].items.length+"")&&ee(U,z),we[0]&4&&Ee!==(Ee=nt(ie[2].totalValue)+"")&&ee(De,Ee),ie[1]?_e?_e.p(ie,we):(_e=ha(ie),_e.c(),_e.m(a,null)):_e&&(_e.d(1),_e=null),Oe===(Oe=He(ie))&&Se?Se.p(ie,we):(Se.d(1),Se=Oe(ie),Se&&(Se.c(),Se.m(Ce.parentNode,Ce)))},d(ie){ie&&(f(e),f(t),f(be),f(Ce)),ke&&ke.d(ie),ce&&ce.d(),de&&de.d(),ve&&ve.d(),xe&&xe.d(),me&&me.d(),_e&&_e.d(),Se.d(ie),Ue=!1,Ve()}}}function jr(l){let e,t,a="‚ö†Ô∏è",s,n,i="Error al Cargar",o,u,m="No se pudo cargar el inventario",v,d,b="üîÑ Reintentar",_,y;return{c(){e=h("div"),t=h("div"),t.textContent=a,s=D(),n=h("h3"),n.textContent=i,o=D(),u=h("p"),u.textContent=m,v=D(),d=h("button"),d.textContent=b,this.h()},l(g){e=p(g,"DIV",{class:!0});var C=E(e);t=p(C,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-173t1pq"&&(t.textContent=a),s=k(C),n=p(C,"H3",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-1vg6w0"&&(n.textContent=i),o=k(C),u=p(C,"P",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-6u3xlx"&&(u.textContent=m),v=k(C),d=p(C,"BUTTON",{class:!0,"data-svelte-h":!0}),K(d)!=="svelte-ubrxq7"&&(d.textContent=b),C.forEach(f),this.h()},h(){c(t,"class","text-4xl mb-4"),c(n,"class","text-xl font-medieval text-neutral mb-2"),c(u,"class","text-neutral/70 mb-4"),c(d,"class","btn btn-primary btn-sm"),c(e,"class","card-parchment p-8 text-center")},m(g,C){j(g,e,C),r(e,t),r(e,s),r(e,n),r(e,o),r(e,u),r(e,v),r(e,d),_||(y=le(d,"click",l[40]),_=!0)},p:We,d(g){g&&f(e),_=!1,y()}}}function Fr(l){let e,t,a,s,n=Ke(Array(4)),i=[];for(let o=0;o<n.length;o+=1)i[o]=Xr(Or(l,n,o));return{c(){e=h("div"),t=h("div"),a=D(),s=h("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=p(o,"DIV",{class:!0});var u=E(e);t=p(u,"DIV",{class:!0}),E(t).forEach(f),a=k(u),s=p(u,"DIV",{class:!0});var m=E(s);for(let v=0;v<i.length;v+=1)i[v].l(m);m.forEach(f),u.forEach(f),this.h()},h(){c(t,"class","skeleton h-32 w-full"),c(s,"class","grid grid-cols-1 md:grid-cols-2 gap-3"),c(e,"class","space-y-4")},m(o,u){j(o,e,u),r(e,t),r(e,a),r(e,s);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(s,null)},p:We,d(o){o&&f(e),at(i,o)}}}function na(l){let e,t,a,s,n,i,o,u,m=l[3]&&ia(l),v=l[3]&&oa(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("input"),n=D(),m&&m.c(),i=D(),v&&v.c(),this.h()},l(d){e=p(d,"DIV",{class:!0});var b=E(e);t=p(b,"DIV",{class:!0});var _=E(t);a=p(_,"DIV",{class:!0});var y=E(a);s=p(y,"INPUT",{type:!0,placeholder:!0,class:!0}),n=k(y),m&&m.l(y),y.forEach(f),i=k(_),v&&v.l(_),_.forEach(f),b.forEach(f),this.h()},h(){c(s,"type","text"),c(s,"placeholder","üîç Buscar en tu inventario..."),c(s,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full pr-10"),c(a,"class","relative"),c(t,"class","form-control"),c(e,"class","mb-4")},m(d,b){j(d,e,b),r(e,t),r(t,a),r(a,s),Ie(s,l[3]),r(a,n),m&&m.m(a,null),r(t,i),v&&v.m(t,null),o||(u=le(s,"input",l[41]),o=!0)},p(d,b){b[0]&8&&s.value!==d[3]&&Ie(s,d[3]),d[3]?m?m.p(d,b):(m=ia(d),m.c(),m.m(a,null)):m&&(m.d(1),m=null),d[3]?v?v.p(d,b):(v=oa(d),v.c(),v.m(t,null)):v&&(v.d(1),v=null)},d(d){d&&f(e),m&&m.d(),v&&v.d(),o=!1,u()}}}function ia(l){let e,t="‚úï",a,s;return{c(){e=h("button"),e.textContent=t,this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-15211rw"&&(e.textContent=t),this.h()},h(){c(e,"class","btn btn-ghost btn-sm btn-circle absolute right-2 top-1/2 -translate-y-1/2")},m(n,i){j(n,e,i),a||(s=le(e,"click",l[42]),a=!0)},p:We,d(n){n&&f(e),a=!1,s()}}}function oa(l){let e,t,a,s=l[2].items.filter(l[43]).length+"",n,i;return{c(){e=h("label"),t=h("span"),a=B("‚úì "),n=B(s),i=B(" items encontrados"),this.h()},l(o){e=p(o,"LABEL",{class:!0});var u=E(e);t=p(u,"SPAN",{class:!0});var m=E(t);a=M(m,"‚úì "),n=M(m,s),i=M(m," items encontrados"),m.forEach(f),u.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-success"),c(e,"class","label")},m(o,u){j(o,e,u),r(e,t),r(t,a),r(t,n),r(t,i)},p(o,u){u[0]&12&&s!==(s=o[2].items.filter(o[43]).length+"")&&ee(n,s)},d(o){o&&f(e)}}}function ca(l){let e,t=l[2].currency.platinum+"",a,s;return{c(){e=h("span"),a=B(t),s=B("pp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=E(e);a=M(i,t),s=M(i,"pp"),i.forEach(f),this.h()},h(){c(e,"class","text-primary")},m(n,i){j(n,e,i),r(e,a),r(e,s)},p(n,i){i[0]&4&&t!==(t=n[2].currency.platinum+"")&&ee(a,t)},d(n){n&&f(e)}}}function ua(l){let e,t=l[2].currency.gold+"",a,s;return{c(){e=h("span"),a=B(t),s=B("gp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=E(e);a=M(i,t),s=M(i,"gp"),i.forEach(f),this.h()},h(){c(e,"class","text-warning")},m(n,i){j(n,e,i),r(e,a),r(e,s)},p(n,i){i[0]&4&&t!==(t=n[2].currency.gold+"")&&ee(a,t)},d(n){n&&f(e)}}}function fa(l){let e,t=l[2].currency.silver+"",a,s;return{c(){e=h("span"),a=B(t),s=B("sp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=E(e);a=M(i,t),s=M(i,"sp"),i.forEach(f),this.h()},h(){c(e,"class","text-info")},m(n,i){j(n,e,i),r(e,a),r(e,s)},p(n,i){i[0]&4&&t!==(t=n[2].currency.silver+"")&&ee(a,t)},d(n){n&&f(e)}}}function da(l){let e,t=l[2].currency.copper+"",a,s;return{c(){e=h("span"),a=B(t),s=B("cp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=E(e);a=M(i,t),s=M(i,"cp"),i.forEach(f),this.h()},h(){c(e,"class","text-error")},m(n,i){j(n,e,i),r(e,a),r(e,s)},p(n,i){i[0]&4&&t!==(t=n[2].currency.copper+"")&&ee(a,t)},d(n){n&&f(e)}}}function pa(l){let e,t="0 gp";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1tcucg9"&&(e.textContent=t),this.h()},h(){c(e,"class","text-neutral/50")},m(a,s){j(a,e,s)},d(a){a&&f(e)}}}function ha(l){let e,t='<span class="text-xl">‚ûï</span> <span class="hidden sm:inline">Agregar</span>',a,s;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-4tu0nu"&&(e.innerHTML=t),this.h()},h(){c(e,"class","btn btn-success gap-2")},m(n,i){j(n,e,i),a||(s=le(e,"click",l[45]),a=!0)},p:We,d(n){n&&f(e),a=!1,s()}}}function Ur(l){let e,t=Ke(l[21]),a=[];for(let s=0;s<t.length;s+=1)a[s]=xa(aa(l,t,s));return{c(){e=h("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=p(s,"DIV",{class:!0});var n=E(e);for(let i=0;i<a.length;i+=1)a[i].l(n);n.forEach(f),this.h()},h(){c(e,"class","space-y-4")},m(s,n){j(s,e,n);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null)},p(s,n){if(n[0]&1210066050|n[1]&15){t=Ke(s[21]);let i;for(i=0;i<t.length;i+=1){const o=aa(s,t,i);a[i]?a[i].p(o,n):(a[i]=xa(o),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(s){s&&f(e),at(a,s)}}}function zr(l){let e,t,a="üéí",s,n,i="Inventario Vac√≠o",o,u,m;function v(y,g){return y[1]?Wr:Kr}let d=v(l),b=d(l),_=l[1]&&Ta(l);return{c(){e=h("div"),t=h("div"),t.textContent=a,s=D(),n=h("h3"),n.textContent=i,o=D(),u=h("p"),b.c(),m=D(),_&&_.c(),this.h()},l(y){e=p(y,"DIV",{class:!0});var g=E(e);t=p(g,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-1bcp5wx"&&(t.textContent=a),s=k(g),n=p(g,"H3",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-1uno1fu"&&(n.textContent=i),o=k(g),u=p(g,"P",{class:!0});var C=E(u);b.l(C),C.forEach(f),m=k(g),_&&_.l(g),g.forEach(f),this.h()},h(){c(t,"class","text-6xl mb-4"),c(n,"class","text-2xl font-medieval text-neutral mb-2"),c(u,"class","text-neutral/70 font-body mb-4"),c(e,"class","card-parchment p-12 text-center")},m(y,g){j(y,e,g),r(e,t),r(e,s),r(e,n),r(e,o),r(e,u),b.m(u,null),r(e,m),_&&_.m(e,null)},p(y,g){d!==(d=v(y))&&(b.d(1),b=d(y),b&&(b.c(),b.m(u,null))),y[1]?_?_.p(y,g):(_=Ta(y),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},d(y){y&&f(e),b.d(),_&&_.d()}}}function ma(l){let e,t,a,s,n,i,o=l[82]+1+"",u,m,v=l[81]+"",d,b,_,y,g,C,w;function I(){return l[47](l[78])}function V(){return l[48](l[78])}return{c(){e=h("div"),t=h("button"),a=B("‚óÄ"),n=D(),i=h("span"),u=B(o),m=B(" / "),d=B(v),b=D(),_=h("button"),y=B("‚ñ∂"),this.h()},l(x){e=p(x,"DIV",{class:!0});var L=E(e);t=p(L,"BUTTON",{class:!0});var N=E(t);a=M(N,"‚óÄ"),N.forEach(f),n=k(L),i=p(L,"SPAN",{class:!0});var T=E(i);u=M(T,o),m=M(T," / "),d=M(T,v),T.forEach(f),b=k(L),_=p(L,"BUTTON",{class:!0});var H=E(_);y=M(H,"‚ñ∂"),H.forEach(f),L.forEach(f),this.h()},h(){c(t,"class","btn btn-xs btn-circle btn-ghost"),t.disabled=s=l[82]===0,c(i,"class","text-xs"),c(_,"class","btn btn-xs btn-circle btn-ghost"),_.disabled=g=l[82]>=l[81]-1,c(e,"class","flex items-center gap-2")},m(x,L){j(x,e,L),r(e,t),r(t,a),r(e,n),r(e,i),r(i,u),r(i,m),r(i,d),r(e,b),r(e,_),r(_,y),C||(w=[le(t,"click",I),le(_,"click",V)],C=!0)},p(x,L){l=x,L[0]&2097280&&s!==(s=l[82]===0)&&(t.disabled=s),L[0]&2097280&&o!==(o=l[82]+1+"")&&ee(u,o),L[0]&2097152&&v!==(v=l[81]+"")&&ee(d,v),L[0]&2097280&&g!==(g=l[82]>=l[81]-1)&&(_.disabled=g)},d(x){x&&f(e),C=!1,st(w)}}}function va(l){let e,t,a=l[85].quantity+"",s;return{c(){e=h("span"),t=B("√ó"),s=B(a),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=E(e);t=M(i,"√ó"),s=M(i,a),i.forEach(f),this.h()},h(){c(e,"class","badge badge-sm badge-neutral")},m(n,i){j(n,e,i),r(e,t),r(e,s)},p(n,i){i[0]&2097152&&a!==(a=n[85].quantity+"")&&ee(s,a)},d(n){n&&f(e)}}}function ba(l){let e,t,a=nt(l[85].value*l[85].quantity)+"",s,n;return{c(){e=h("span"),t=B("üí∞ "),s=B(a),n=B(" gp"),this.h()},l(i){e=p(i,"SPAN",{class:!0});var o=E(e);t=M(o,"üí∞ "),s=M(o,a),n=M(o," gp"),o.forEach(f),this.h()},h(){c(e,"class","badge badge-ghost badge-xs")},m(i,o){j(i,e,o),r(e,t),r(e,s),r(e,n)},p(i,o){o[0]&2097152&&a!==(a=nt(i[85].value*i[85].quantity)+"")&&ee(s,a)},d(i){i&&f(e)}}}function _a(l){let e,t=qa(l[85].rarity)+"",a,s;return{c(){e=h("span"),a=B(t),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=E(e);a=M(i,t),i.forEach(f),this.h()},h(){c(e,"class",s="badge badge-xs "+Oa(l[85].rarity))},m(n,i){j(n,e,i),r(e,a)},p(n,i){i[0]&2097152&&t!==(t=qa(n[85].rarity)+"")&&ee(a,t),i[0]&2097152&&s!==(s="badge badge-xs "+Oa(n[85].rarity))&&c(e,"class",s)},d(n){n&&f(e)}}}function ga(l){let e,t,a=l[85].weaponData.damageDice+"",s,n,i,o=l[85].weaponData.properties.versatile&&ya(l),u=l[85].weaponData.damageType&&Ea(l),m=l[85].weaponData.magicBonus&&l[85].weaponData.magicBonus>0&&Ca(l);return{c(){e=h("span"),t=B("‚öîÔ∏è "),s=B(a),o&&o.c(),n=D(),u&&u.c(),i=D(),m&&m.c(),this.h()},l(v){e=p(v,"SPAN",{class:!0});var d=E(e);t=M(d,"‚öîÔ∏è "),s=M(d,a),o&&o.l(d),n=k(d),u&&u.l(d),i=k(d),m&&m.l(d),d.forEach(f),this.h()},h(){c(e,"class","badge badge-error badge-xs")},m(v,d){j(v,e,d),r(e,t),r(e,s),o&&o.m(e,null),r(e,n),u&&u.m(e,null),r(e,i),m&&m.m(e,null)},p(v,d){d[0]&2097152&&a!==(a=v[85].weaponData.damageDice+"")&&ee(s,a),v[85].weaponData.properties.versatile?o?o.p(v,d):(o=ya(v),o.c(),o.m(e,n)):o&&(o.d(1),o=null),v[85].weaponData.damageType?u?u.p(v,d):(u=Ea(v),u.c(),u.m(e,i)):u&&(u.d(1),u=null),v[85].weaponData.magicBonus&&v[85].weaponData.magicBonus>0?m?m.p(v,d):(m=Ca(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(v){v&&f(e),o&&o.d(),u&&u.d(),m&&m.d()}}}function ya(l){let e,t=l[85].weaponData.properties.versatile+"",a;return{c(){e=B("/"),a=B(t)},l(s){e=M(s,"/"),a=M(s,t)},m(s,n){j(s,e,n),j(s,a,n)},p(s,n){n[0]&2097152&&t!==(t=s[85].weaponData.properties.versatile+"")&&ee(a,t)},d(s){s&&(f(e),f(a))}}}function Ea(l){let e=l[85].weaponData.damageType+"",t;return{c(){t=B(e)},l(a){t=M(a,e)},m(a,s){j(a,t,s)},p(a,s){s[0]&2097152&&e!==(e=a[85].weaponData.damageType+"")&&ee(t,e)},d(a){a&&f(t)}}}function Ca(l){let e,t=l[85].weaponData.magicBonus+"",a;return{c(){e=B("+"),a=B(t)},l(s){e=M(s,"+"),a=M(s,t)},m(s,n){j(s,e,n),j(s,a,n)},p(s,n){n[0]&2097152&&t!==(t=s[85].weaponData.magicBonus+"")&&ee(a,t)},d(s){s&&(f(e),f(a))}}}function ka(l){let e;function t(n,i){return n[85].armorData.armorType==="Shield"?Gr:Rr}let a=t(l),s=a(l);return{c(){e=h("span"),s.c(),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=E(e);s.l(i),i.forEach(f),this.h()},h(){c(e,"class","badge badge-info badge-xs")},m(n,i){j(n,e,i),s.m(e,null)},p(n,i){a===(a=t(n))&&s?s.p(n,i):(s.d(1),s=a(n),s&&(s.c(),s.m(e,null)))},d(n){n&&f(e),s.d()}}}function Rr(l){let e,t=l[85].armorData.baseAC+"",a,s=l[85].armorData.magicBonus?`+${l[85].armorData.magicBonus}`:"",n;return{c(){e=B("AC "),a=B(t),n=B(s)},l(i){e=M(i,"AC "),a=M(i,t),n=M(i,s)},m(i,o){j(i,e,o),j(i,a,o),j(i,n,o)},p(i,o){o[0]&2097152&&t!==(t=i[85].armorData.baseAC+"")&&ee(a,t),o[0]&2097152&&s!==(s=i[85].armorData.magicBonus?`+${i[85].armorData.magicBonus}`:"")&&ee(n,s)},d(i){i&&(f(e),f(a),f(n))}}}function Gr(l){let e,t=(l[85].armorData.baseAC||2)+"",a,s=l[85].armorData.magicBonus?`+${l[85].armorData.magicBonus}`:"",n,i;return{c(){e=B("+"),a=B(t),n=B(s),i=B(" AC")},l(o){e=M(o,"+"),a=M(o,t),n=M(o,s),i=M(o," AC")},m(o,u){j(o,e,u),j(o,a,u),j(o,n,u),j(o,i,u)},p(o,u){u[0]&2097152&&t!==(t=(o[85].armorData.baseAC||2)+"")&&ee(a,t),u[0]&2097152&&s!==(s=o[85].armorData.magicBonus?`+${o[85].armorData.magicBonus}`:"")&&ee(n,s)},d(o){o&&(f(e),f(a),f(n),f(i))}}}function Da(l){let e,t,a;function s(o,u){return o[13]===o[85].id?Jr:Qr}let n=s(l),i=n(l);return{c(){e=h("div"),i.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var u=E(e);i.l(u),u.forEach(f),this.h()},h(){c(e,"class","dropdown dropdown-end flex-shrink-0")},m(o,u){j(o,e,u),i.m(e,null),t||(a=le(e,"click",kt(l[38])),t=!0)},p(o,u){n===(n=s(o))&&i?i.p(o,u):(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},d(o){o&&f(e),i.d(),t=!1,a()}}}function Qr(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',a,s,n,i,o="‚úèÔ∏è Modificar",u,m,v,d="üóëÔ∏è Eliminar",b,_;function y(){return l[49](l[85])}function g(){return l[50](l[85])}return{c(){e=h("label"),e.innerHTML=t,a=D(),s=h("ul"),n=h("li"),i=h("a"),i.textContent=o,u=D(),m=h("li"),v=h("a"),v.textContent=d,this.h()},l(C){e=p(C,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1k5uepk"&&(e.innerHTML=t),a=k(C),s=p(C,"UL",{tabindex:!0,class:!0});var w=E(s);n=p(w,"LI",{});var I=E(n);i=p(I,"A",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-jpzwe"&&(i.textContent=o),I.forEach(f),u=k(w),m=p(w,"LI",{});var V=E(m);v=p(V,"A",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-1312pp7"&&(v.textContent=d),V.forEach(f),w.forEach(f),this.h()},h(){c(e,"tabindex","0"),c(e,"class","btn btn-ghost btn-xs btn-circle"),c(i,"class","text-secondary"),c(v,"class","text-error"),c(s,"tabindex","0"),c(s,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-48 border-2 border-secondary text-xs")},m(C,w){j(C,e,w),j(C,a,w),j(C,s,w),r(s,n),r(n,i),r(s,u),r(s,m),r(m,v),b||(_=[le(i,"click",kt(y)),le(v,"click",kt(g))],b=!0)},p(C,w){l=C},d(C){C&&(f(e),f(a),f(s)),b=!1,st(_)}}}function Jr(l){let e,t='<span class="loading loading-spinner loading-xs"></span>';return{c(){e=h("button"),e.innerHTML=t,this.h()},l(a){e=p(a,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-vc12vo"&&(e.innerHTML=t),this.h()},h(){c(e,"class","btn btn-ghost btn-xs btn-circle"),e.disabled=!0},m(a,s){j(a,e,s)},p:We,d(a){a&&f(e)}}}function wa(l){let e,t=l[85].description+"",a;return{c(){e=h("p"),a=B(t),this.h()},l(s){e=p(s,"P",{class:!0});var n=E(e);a=M(n,t),n.forEach(f),this.h()},h(){c(e,"class","text-xs text-neutral/70 line-clamp-2 mt-1")},m(s,n){j(s,e,n),r(e,a)},p(s,n){n[0]&2097152&&t!==(t=s[85].description+"")&&ee(a,t)},d(s){s&&f(e)}}}function Ia(l){let e,t,a,s,n=l[85].name+"",i,o,u,m,v,d,b,_,y,g,C,w,I,V=l[85].quantity>1&&va(l),x=l[85].value>0&&ba(l),L=l[85].rarity&&_a(l),N=l[85].weaponData&&ga(l),T=l[85].armorData&&ka(l),H=l[1]&&Da(l),A=l[85].description&&wa(l);function P(){return l[51](l[85])}return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("h4"),i=B(n),o=D(),V&&V.c(),u=D(),m=h("div"),x&&x.c(),v=D(),L&&L.c(),d=D(),N&&N.c(),b=D(),T&&T.c(),_=D(),H&&H.c(),y=D(),A&&A.c(),g=D(),this.h()},l(S){e=p(S,"DIV",{class:!0});var O=E(e);t=p(O,"DIV",{class:!0});var q=E(t);a=p(q,"DIV",{class:!0});var F=E(a);s=p(F,"H4",{class:!0});var W=E(s);i=M(W,n),o=k(W),V&&V.l(W),W.forEach(f),u=k(F),m=p(F,"DIV",{class:!0});var z=E(m);x&&x.l(z),v=k(z),L&&L.l(z),d=k(z),N&&N.l(z),b=k(z),T&&T.l(z),z.forEach(f),F.forEach(f),_=k(q),H&&H.l(q),q.forEach(f),y=k(O),A&&A.l(O),g=k(O),O.forEach(f),this.h()},h(){c(s,"class","font-medieval font-bold text-neutral truncate flex items-center gap-2"),c(m,"class","flex flex-wrap gap-1 mt-1"),c(a,"class","flex-1 min-w-0"),c(t,"class","flex items-start justify-between gap-2 mb-2"),c(e,"class",C="bg-gradient-to-br from-primary/5 to-accent/5 p-3 rounded-lg border-2 "+(l[13]===l[85].id?"opacity-50":"")+" transition-all hover:shadow-md cursor-pointer")},m(S,O){j(S,e,O),r(e,t),r(t,a),r(a,s),r(s,i),r(s,o),V&&V.m(s,null),r(a,u),r(a,m),x&&x.m(m,null),r(m,v),L&&L.m(m,null),r(m,d),N&&N.m(m,null),r(m,b),T&&T.m(m,null),r(t,_),H&&H.m(t,null),r(e,y),A&&A.m(e,null),r(e,g),w||(I=le(e,"click",P),w=!0)},p(S,O){l=S,O[0]&2097152&&n!==(n=l[85].name+"")&&ee(i,n),l[85].quantity>1?V?V.p(l,O):(V=va(l),V.c(),V.m(s,null)):V&&(V.d(1),V=null),l[85].value>0?x?x.p(l,O):(x=ba(l),x.c(),x.m(m,v)):x&&(x.d(1),x=null),l[85].rarity?L?L.p(l,O):(L=_a(l),L.c(),L.m(m,d)):L&&(L.d(1),L=null),l[85].weaponData?N?N.p(l,O):(N=ga(l),N.c(),N.m(m,b)):N&&(N.d(1),N=null),l[85].armorData?T?T.p(l,O):(T=ka(l),T.c(),T.m(m,null)):T&&(T.d(1),T=null),l[1]?H?H.p(l,O):(H=Da(l),H.c(),H.m(t,null)):H&&(H.d(1),H=null),l[85].description?A?A.p(l,O):(A=wa(l),A.c(),A.m(e,g)):A&&(A.d(1),A=null),O[0]&2105344&&C!==(C="bg-gradient-to-br from-primary/5 to-accent/5 p-3 rounded-lg border-2 "+(l[13]===l[85].id?"opacity-50":"")+" transition-all hover:shadow-md cursor-pointer")&&c(e,"class",C)},d(S){S&&f(e),V&&V.d(),x&&x.d(),L&&L.d(),N&&N.d(),T&&T.d(),H&&H.d(),A&&A.d(),w=!1,I()}}}function xa(l){let e,t,a,s,n,i=Ba(l[78])+"",o,u,m,v=Ha(l[78])+"",d,b,_,y=l[79].length+"",g,C,w,I=l[79].reduce(ja,0)+"",V,x,L,N,T,H,A=l[81]>1&&ma(l),P=Ke(l[80]),S=[];for(let O=0;O<P.length;O+=1)S[O]=Ia(sa(l,P,O));return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("div"),n=h("span"),o=B(i),u=D(),m=h("h3"),d=B(v),b=D(),_=h("span"),g=B(y),C=D(),w=h("span"),V=B(I),x=B(" items"),L=D(),A&&A.c(),N=D(),T=h("div");for(let O=0;O<S.length;O+=1)S[O].c();H=D(),this.h()},l(O){e=p(O,"DIV",{class:!0});var q=E(e);t=p(q,"DIV",{class:!0});var F=E(t);a=p(F,"DIV",{class:!0});var W=E(a);s=p(W,"DIV",{class:!0});var z=E(s);n=p(z,"SPAN",{class:!0});var U=E(n);o=M(U,i),U.forEach(f),u=k(z),m=p(z,"H3",{class:!0});var se=E(m);d=M(se,v),se.forEach(f),b=k(z),_=p(z,"SPAN",{class:!0});var R=E(_);g=M(R,y),R.forEach(f),C=k(z),w=p(z,"SPAN",{class:!0});var G=E(w);V=M(G,I),x=M(G," items"),G.forEach(f),z.forEach(f),L=k(W),A&&A.l(W),W.forEach(f),N=k(F),T=p(F,"DIV",{class:!0});var X=E(T);for(let Z=0;Z<S.length;Z+=1)S[Z].l(X);X.forEach(f),F.forEach(f),H=k(q),q.forEach(f),this.h()},h(){c(n,"class","text-2xl"),c(m,"class","text-xl font-medieval text-neutral"),c(_,"class","badge badge-secondary badge-sm"),c(w,"class","badge badge-ghost badge-sm"),c(s,"class","flex items-center gap-2 flex-1"),c(a,"class","flex items-center justify-between mb-3"),c(T,"class","grid grid-cols-1 md:grid-cols-2 gap-3"),c(t,"class","card-body p-4"),c(e,"class","card-parchment")},m(O,q){j(O,e,q),r(e,t),r(t,a),r(a,s),r(s,n),r(n,o),r(s,u),r(s,m),r(m,d),r(s,b),r(s,_),r(_,g),r(s,C),r(s,w),r(w,V),r(w,x),r(a,L),A&&A.m(a,null),r(t,N),r(t,T);for(let F=0;F<S.length;F+=1)S[F]&&S[F].m(T,null);r(e,H)},p(O,q){if(q[0]&2097152&&i!==(i=Ba(O[78])+"")&&ee(o,i),q[0]&2097152&&v!==(v=Ha(O[78])+"")&&ee(d,v),q[0]&2098176&&y!==(y=O[79].length+"")&&ee(g,y),q[0]&2098176&&I!==(I=O[79].reduce(ja,0)+"")&&ee(V,I),O[81]>1?A?A.p(O,q):(A=ma(O),A.c(),A.m(a,null)):A&&(A.d(1),A=null),q[0]&1210064898|q[1]&3){P=Ke(O[80]);let F;for(F=0;F<P.length;F+=1){const W=sa(O,P,F);S[F]?S[F].p(W,q):(S[F]=Ia(W),S[F].c(),S[F].m(T,null))}for(;F<S.length;F+=1)S[F].d(1);S.length=P.length}},d(O){O&&f(e),A&&A.d(),at(S,O)}}}function Kr(l){let e;return{c(){e=B("Este personaje no tiene items a√∫n")},l(t){e=M(t,"Este personaje no tiene items a√∫n")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Wr(l){let e;return{c(){e=B("Agrega tu primer item para comenzar")},l(t){e=M(t,"Agrega tu primer item para comenzar")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Ta(l){let e,t=`<span class="text-xl">‚ûï</span>
            Agregar Primer Item`,a,s;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1gd3ivp"&&(e.innerHTML=t),this.h()},h(){c(e,"class","btn btn-primary")},m(n,i){j(n,e,i),a||(s=le(e,"click",l[46]),a=!0)},p:We,d(n){n&&f(e),a=!1,s()}}}function Xr(l){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),E(e).forEach(f),this.h()},h(){c(e,"class","skeleton h-24 w-full")},m(t,a){j(t,e,a)},p:We,d(t){t&&f(e)}}}function Va(l){let e,t,a,s="‚úï",n,i,o,u="üí∞ Gestionar Monedas",m,v,d,b,_=l[19]?"Ocultar":"Mostrar",y,g,C,w,I,V,x,L='<span class="label-text font-medieval text-neutral">Platino (pp)</span> <span class="label-text-alt text-neutral/60">10 gp c/u</span>',N,T,H,A,P,S,O,q='<span class="label-text font-medieval text-neutral">Oro (gp)</span>',F,W,z,U,se,R,G,X='<span class="label-text font-medieval text-neutral">Plata (sp)</span> <span class="label-text-alt text-neutral/60">0.1 gp c/u</span>',Z,J,Q,te,re,fe,pe,Ee='<span class="label-text font-medieval text-neutral">Cobre (cp)</span> <span class="label-text-alt text-neutral/60">0.01 gp c/u</span>',De,$,he,be,Ce,Ue,Ve,ke="Valor Total en Oro (gp):",ce,de,ve=nt(l[4].platinum*10+l[4].gold+l[4].silver*.1+l[4].copper*.01)+"",xe,me,_e,He,Oe,Se="Cancelar",ie,we,Ge,Je,Fe,Me,qe=l[19]&&Aa(l),Ne=l[5].platinum&&l[6].platinum&&Pa(l),Qe=l[5].gold&&l[6].gold&&Sa(l),ge=l[5].silver&&l[6].silver&&Na(l),Be=l[5].copper&&l[6].copper&&Ma(l);return{c(){e=h("div"),t=h("div"),a=h("button"),a.textContent=s,n=D(),i=h("div"),o=h("h3"),o.textContent=u,m=D(),v=h("div"),d=h("button"),b=B("üîÑ "),y=B(_),g=B(" Calculadora de Conversi√≥n"),C=D(),qe&&qe.c(),w=D(),I=h("div"),V=h("div"),x=h("label"),x.innerHTML=L,N=D(),T=h("input"),A=D(),Ne&&Ne.c(),P=D(),S=h("div"),O=h("label"),O.innerHTML=q,F=D(),W=h("input"),U=D(),Qe&&Qe.c(),se=D(),R=h("div"),G=h("label"),G.innerHTML=X,Z=D(),J=h("input"),te=D(),ge&&ge.c(),re=D(),fe=h("div"),pe=h("label"),pe.innerHTML=Ee,De=D(),$=h("input"),be=D(),Be&&Be.c(),Ce=D(),Ue=h("div"),Ve=h("p"),Ve.textContent=ke,ce=D(),de=h("p"),xe=B(ve),me=B(" gp"),_e=D(),He=h("div"),Oe=h("button"),Oe.textContent=Se,ie=D(),we=h("button"),Ge=B("üí∞ Actualizar Monedas"),this.h()},l(ne){e=p(ne,"DIV",{class:!0});var Ae=E(e);t=p(Ae,"DIV",{class:!0});var Xe=E(t);a=p(Xe,"BUTTON",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1bq4q6z"&&(a.textContent=s),n=k(Xe),i=p(Xe,"DIV",{class:!0});var je=E(i);o=p(je,"H3",{class:!0,"data-svelte-h":!0}),K(o)!=="svelte-1bizsdp"&&(o.textContent=u),m=k(je),v=p(je,"DIV",{class:!0});var Y=E(v);d=p(Y,"BUTTON",{class:!0});var ae=E(d);b=M(ae,"üîÑ "),y=M(ae,_),g=M(ae," Calculadora de Conversi√≥n"),ae.forEach(f),Y.forEach(f),C=k(je),qe&&qe.l(je),w=k(je),I=p(je,"DIV",{class:!0});var Te=E(I);V=p(Te,"DIV",{class:!0});var ue=E(V);x=p(ue,"LABEL",{class:!0,"data-svelte-h":!0}),K(x)!=="svelte-yyxksc"&&(x.innerHTML=L),N=k(ue),T=p(ue,"INPUT",{type:!0,min:!0,class:!0}),A=k(ue),Ne&&Ne.l(ue),ue.forEach(f),P=k(Te),S=p(Te,"DIV",{class:!0});var ye=E(S);O=p(ye,"LABEL",{class:!0,"data-svelte-h":!0}),K(O)!=="svelte-1hnm55z"&&(O.innerHTML=q),F=k(ye),W=p(ye,"INPUT",{type:!0,min:!0,class:!0}),U=k(ye),Qe&&Qe.l(ye),ye.forEach(f),se=k(Te),R=p(Te,"DIV",{class:!0});var ze=E(R);G=p(ze,"LABEL",{class:!0,"data-svelte-h":!0}),K(G)!=="svelte-auuhws"&&(G.innerHTML=X),Z=k(ze),J=p(ze,"INPUT",{type:!0,min:!0,class:!0}),te=k(ze),ge&&ge.l(ze),ze.forEach(f),re=k(Te),fe=p(Te,"DIV",{class:!0});var Le=E(fe);pe=p(Le,"LABEL",{class:!0,"data-svelte-h":!0}),K(pe)!=="svelte-glv807"&&(pe.innerHTML=Ee),De=k(Le),$=p(Le,"INPUT",{type:!0,min:!0,class:!0}),be=k(Le),Be&&Be.l(Le),Le.forEach(f),Te.forEach(f),Ce=k(je),Ue=p(je,"DIV",{class:!0});var oe=E(Ue);Ve=p(oe,"P",{class:!0,"data-svelte-h":!0}),K(Ve)!=="svelte-13m8np5"&&(Ve.textContent=ke),ce=k(oe),de=p(oe,"P",{class:!0});var Pe=E(de);xe=M(Pe,ve),me=M(Pe," gp"),Pe.forEach(f),oe.forEach(f),_e=k(je),He=p(je,"DIV",{class:!0});var et=E(He);Oe=p(et,"BUTTON",{class:!0,"data-svelte-h":!0}),K(Oe)!=="svelte-e287bb"&&(Oe.textContent=Se),ie=k(et),we=p(et,"BUTTON",{class:!0});var Ze=E(we);Ge=M(Ze,"üí∞ Actualizar Monedas"),Ze.forEach(f),et.forEach(f),je.forEach(f),Xe.forEach(f),Ae.forEach(f),this.h()},h(){c(a,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-2xl font-medieval text-neutral text-center mb-4"),c(d,"class","btn btn-sm btn-outline w-full"),c(v,"class","mb-4"),c(x,"class","label"),c(T,"type","number"),c(T,"min","0"),c(T,"class",H="input input-bordered bg-[#2d241c] text-base-content "+(l[5].platinum&&l[6].platinum?"border-error border-2":"border-primary/50")),c(V,"class","form-control"),c(O,"class","label"),c(W,"type","number"),c(W,"min","0"),c(W,"class",z="input input-bordered bg-[#2d241c] text-base-content "+(l[5].gold&&l[6].gold?"border-error border-2":"border-primary/50")),c(S,"class","form-control"),c(G,"class","label"),c(J,"type","number"),c(J,"min","0"),c(J,"class",Q="input input-bordered bg-[#2d241c] text-base-content "+(l[5].silver&&l[6].silver?"border-error border-2":"border-primary/50")),c(R,"class","form-control"),c(pe,"class","label"),c($,"type","number"),c($,"min","0"),c($,"class",he="input input-bordered bg-[#2d241c] text-base-content "+(l[5].copper&&l[6].copper?"border-error border-2":"border-primary/50")),c(fe,"class","form-control"),c(I,"class","space-y-3"),c(Ve,"class","text-xs font-medieval mb-1"),c(de,"class","text-lg font-bold text-success"),c(Ue,"class","bg-success/10 p-3 rounded-lg border border-success/30 mt-3"),c(Oe,"class","btn btn-ghost"),c(we,"class","btn btn-primary"),we.disabled=Je=!l[22],c(He,"class","card-actions justify-end mt-4"),c(i,"class","card-body"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-2xl relative"),c(e,"class","modal modal-open z-50")},m(ne,Ae){j(ne,e,Ae),r(e,t),r(t,a),r(t,n),r(t,i),r(i,o),r(i,m),r(i,v),r(v,d),r(d,b),r(d,y),r(d,g),r(i,C),qe&&qe.m(i,null),r(i,w),r(i,I),r(I,V),r(V,x),r(V,N),r(V,T),Ie(T,l[4].platinum),r(V,A),Ne&&Ne.m(V,null),r(I,P),r(I,S),r(S,O),r(S,F),r(S,W),Ie(W,l[4].gold),r(S,U),Qe&&Qe.m(S,null),r(I,se),r(I,R),r(R,G),r(R,Z),r(R,J),Ie(J,l[4].silver),r(R,te),ge&&ge.m(R,null),r(I,re),r(I,fe),r(fe,pe),r(fe,De),r(fe,$),Ie($,l[4].copper),r(fe,be),Be&&Be.m(fe,null),r(i,Ce),r(i,Ue),r(Ue,Ve),r(Ue,ce),r(Ue,de),r(de,xe),r(de,me),r(i,_e),r(i,He),r(He,Oe),r(He,ie),r(He,we),r(we,Ge),Fe||(Me=[le(a,"click",l[58]),le(d,"click",l[59]),le(T,"input",l[62]),le(T,"blur",l[63]),le(W,"input",l[64]),le(W,"blur",l[65]),le(J,"input",l[66]),le(J,"blur",l[67]),le($,"input",l[68]),le($,"blur",l[69]),le(Oe,"click",l[70]),le(we,"click",l[28]),le(t,"click",kt(l[37])),le(e,"click",l[71])],Fe=!0)},p(ne,Ae){Ae[0]&524288&&_!==(_=ne[19]?"Ocultar":"Mostrar")&&ee(y,_),ne[19]?qe?qe.p(ne,Ae):(qe=Aa(ne),qe.c(),qe.m(i,w)):qe&&(qe.d(1),qe=null),Ae[0]&96&&H!==(H="input input-bordered bg-[#2d241c] text-base-content "+(ne[5].platinum&&ne[6].platinum?"border-error border-2":"border-primary/50"))&&c(T,"class",H),Ae[0]&16&&Re(T.value)!==ne[4].platinum&&Ie(T,ne[4].platinum),ne[5].platinum&&ne[6].platinum?Ne?Ne.p(ne,Ae):(Ne=Pa(ne),Ne.c(),Ne.m(V,null)):Ne&&(Ne.d(1),Ne=null),Ae[0]&96&&z!==(z="input input-bordered bg-[#2d241c] text-base-content "+(ne[5].gold&&ne[6].gold?"border-error border-2":"border-primary/50"))&&c(W,"class",z),Ae[0]&16&&Re(W.value)!==ne[4].gold&&Ie(W,ne[4].gold),ne[5].gold&&ne[6].gold?Qe?Qe.p(ne,Ae):(Qe=Sa(ne),Qe.c(),Qe.m(S,null)):Qe&&(Qe.d(1),Qe=null),Ae[0]&96&&Q!==(Q="input input-bordered bg-[#2d241c] text-base-content "+(ne[5].silver&&ne[6].silver?"border-error border-2":"border-primary/50"))&&c(J,"class",Q),Ae[0]&16&&Re(J.value)!==ne[4].silver&&Ie(J,ne[4].silver),ne[5].silver&&ne[6].silver?ge?ge.p(ne,Ae):(ge=Na(ne),ge.c(),ge.m(R,null)):ge&&(ge.d(1),ge=null),Ae[0]&96&&he!==(he="input input-bordered bg-[#2d241c] text-base-content "+(ne[5].copper&&ne[6].copper?"border-error border-2":"border-primary/50"))&&c($,"class",he),Ae[0]&16&&Re($.value)!==ne[4].copper&&Ie($,ne[4].copper),ne[5].copper&&ne[6].copper?Be?Be.p(ne,Ae):(Be=Ma(ne),Be.c(),Be.m(fe,null)):Be&&(Be.d(1),Be=null),Ae[0]&16&&ve!==(ve=nt(ne[4].platinum*10+ne[4].gold+ne[4].silver*.1+ne[4].copper*.01)+"")&&ee(xe,ve),Ae[0]&4194304&&Je!==(Je=!ne[22])&&(we.disabled=Je)},d(ne){ne&&f(e),qe&&qe.d(),Ne&&Ne.d(),Qe&&Qe.d(),ge&&ge.d(),Be&&Be.d(),Fe=!1,st(Me)}}}function Aa(l){let e,t,a="Calculadora de Monedas",s,n,i,o,u,m,v="Cobre (cp)",d,b="Plata (sp)",_,y="Oro (gp)",g,C="Platino (pp)",w,I,V,x=l[8]>0&&La(l);return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div"),i=h("input"),o=D(),u=h("select"),m=h("option"),m.textContent=v,d=h("option"),d.textContent=b,_=h("option"),_.textContent=y,g=h("option"),g.textContent=C,w=D(),x&&x.c(),this.h()},l(L){e=p(L,"DIV",{class:!0});var N=E(e);t=p(N,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-xg16f"&&(t.textContent=a),s=k(N),n=p(N,"DIV",{class:!0});var T=E(n);i=p(T,"INPUT",{type:!0,placeholder:!0,class:!0}),o=k(T),u=p(T,"SELECT",{class:!0});var H=E(u);m=p(H,"OPTION",{"data-svelte-h":!0}),K(m)!=="svelte-ep68vs"&&(m.textContent=v),d=p(H,"OPTION",{"data-svelte-h":!0}),K(d)!=="svelte-t2zfkx"&&(d.textContent=b),_=p(H,"OPTION",{"data-svelte-h":!0}),K(_)!=="svelte-gdqh7j"&&(_.textContent=y),g=p(H,"OPTION",{"data-svelte-h":!0}),K(g)!=="svelte-fp2d4o"&&(g.textContent=C),H.forEach(f),T.forEach(f),w=k(N),x&&x.l(N),N.forEach(f),this.h()},h(){c(t,"class","font-medieval text-sm mb-2"),c(i,"type","number"),c(i,"placeholder","Cantidad"),c(i,"class","input input-sm input-bordered bg-[#2d241c]"),m.__value="cp",Ie(m,m.__value),d.__value="sp",Ie(d,d.__value),_.__value="gp",Ie(_,_.__value),g.__value="pp",Ie(g,g.__value),c(u,"class","select select-sm select-bordered bg-[#2d241c]"),l[9]===void 0&&Ts(()=>l[61].call(u)),c(n,"class","grid grid-cols-2 gap-2"),c(e,"class","bg-info/10 p-4 rounded-lg border border-info/30 mb-4")},m(L,N){j(L,e,N),r(e,t),r(e,s),r(e,n),r(n,i),Ie(i,l[8]),r(n,o),r(n,u),r(u,m),r(u,d),r(u,_),r(u,g),jt(u,l[9],!0),r(e,w),x&&x.m(e,null),I||(V=[le(i,"input",l[60]),le(u,"change",l[61])],I=!0)},p(L,N){N[0]&256&&Re(i.value)!==L[8]&&Ie(i,L[8]),N[0]&512&&jt(u,L[9]),L[8]>0?x?x.p(L,N):(x=La(L),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},d(L){L&&f(e),x&&x.d(),I=!1,st(V)}}}function La(l){let e,t,a,s,n,i,o,u,m,v,d=nt(l[23].cp)+"",b,_,y,g,C,w=nt(l[23].sp)+"",I,V,x,L,N,T=nt(l[23].gp)+"",H,A,P,S,O,q=nt(l[23].pp)+"",F,W;return{c(){e=h("div"),t=h("p"),a=h("strong"),s=B(l[8]),n=D(),i=B(l[9]),o=B(" equivale a:"),u=D(),m=h("p"),v=B("ü•â "),b=B(d),_=B(" cp"),y=D(),g=h("p"),C=B("ü•à "),I=B(w),V=B(" sp"),x=D(),L=h("p"),N=B("ü•á "),H=B(T),A=B(" gp"),P=D(),S=h("p"),O=B("üíé "),F=B(q),W=B(" pp"),this.h()},l(z){e=p(z,"DIV",{class:!0});var U=E(e);t=p(U,"P",{});var se=E(t);a=p(se,"STRONG",{});var R=E(a);s=M(R,l[8]),n=k(R),i=M(R,l[9]),R.forEach(f),o=M(se," equivale a:"),se.forEach(f),u=k(U),m=p(U,"P",{});var G=E(m);v=M(G,"ü•â "),b=M(G,d),_=M(G," cp"),G.forEach(f),y=k(U),g=p(U,"P",{});var X=E(g);C=M(X,"ü•à "),I=M(X,w),V=M(X," sp"),X.forEach(f),x=k(U),L=p(U,"P",{});var Z=E(L);N=M(Z,"ü•á "),H=M(Z,T),A=M(Z," gp"),Z.forEach(f),P=k(U),S=p(U,"P",{});var J=E(S);O=M(J,"üíé "),F=M(J,q),W=M(J," pp"),J.forEach(f),U.forEach(f),this.h()},h(){c(e,"class","mt-3 text-xs space-y-1")},m(z,U){j(z,e,U),r(e,t),r(t,a),r(a,s),r(a,n),r(a,i),r(t,o),r(e,u),r(e,m),r(m,v),r(m,b),r(m,_),r(e,y),r(e,g),r(g,C),r(g,I),r(g,V),r(e,x),r(e,L),r(L,N),r(L,H),r(L,A),r(e,P),r(e,S),r(S,O),r(S,F),r(S,W)},p(z,U){U[0]&256&&ee(s,z[8]),U[0]&512&&ee(i,z[9]),U[0]&8388608&&d!==(d=nt(z[23].cp)+"")&&ee(b,d),U[0]&8388608&&w!==(w=nt(z[23].sp)+"")&&ee(I,w),U[0]&8388608&&T!==(T=nt(z[23].gp)+"")&&ee(H,T),U[0]&8388608&&q!==(q=nt(z[23].pp)+"")&&ee(F,q)},d(z){z&&f(e)}}}function Pa(l){let e,t,a,s=l[5].platinum+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&32&&s!==(s=i[5].platinum+"")&&ee(n,s)},d(i){i&&f(e)}}}function Sa(l){let e,t,a,s=l[5].gold+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&32&&s!==(s=i[5].gold+"")&&ee(n,s)},d(i){i&&f(e)}}}function Na(l){let e,t,a,s=l[5].silver+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&32&&s!==(s=i[5].silver+"")&&ee(n,s)},d(i){i&&f(e)}}}function Ma(l){let e,t,a,s=l[5].copper+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&32&&s!==(s=i[5].copper+"")&&ee(n,s)},d(i){i&&f(e)}}}function Yr(l){let e,t,a,s,n,i,o,u,m,v,d,b,_,y,g=l[12]&&ra(l);function C(P,S){return P[11]?Fr:P[2]?qr:jr}let w=C(l),I=w(l);function V(P){l[52](P)}let x={characterId:l[0]};l[14]!==void 0&&(x.isOpen=l[14]),s=new _r({props:x}),Vt.push(()=>At(s,"isOpen",V)),s.$on("add",l[25]),s.$on("close",l[53]);function L(P){l[54](P)}let N={item:l[18]};l[16]!==void 0&&(N.isOpen=l[16]),o=new kr({props:N}),Vt.push(()=>At(o,"isOpen",L)),o.$on("close",l[55]);function T(P){l[56](P)}let H={item:l[18],isOwner:l[1]};l[17]!==void 0&&(H.isOpen=l[17]),v=new Hr({props:H}),Vt.push(()=>At(v,"isOpen",T)),v.$on("update",l[26]),v.$on("close",l[57]);let A=l[15]&&l[2]&&Va(l);return{c(){e=h("div"),g&&g.c(),t=D(),I.c(),a=D(),Et(s.$$.fragment),i=D(),Et(o.$$.fragment),m=D(),Et(v.$$.fragment),b=D(),A&&A.c(),_=Ye(),this.h()},l(P){e=p(P,"DIV",{class:!0});var S=E(e);g&&g.l(S),t=k(S),I.l(S),S.forEach(f),a=k(P),yt(s.$$.fragment,P),i=k(P),yt(o.$$.fragment,P),m=k(P),yt(v.$$.fragment,P),b=k(P),A&&A.l(P),_=Ye(),this.h()},h(){c(e,"class","space-y-4")},m(P,S){j(P,e,S),g&&g.m(e,null),r(e,t),I.m(e,null),j(P,a,S),gt(s,P,S),j(P,i,S),gt(o,P,S),j(P,m,S),gt(v,P,S),j(P,b,S),A&&A.m(P,S),j(P,_,S),y=!0},p(P,S){P[12]?g?g.p(P,S):(g=ra(P),g.c(),g.m(e,t)):g&&(g.d(1),g=null),w===(w=C(P))&&I?I.p(P,S):(I.d(1),I=w(P),I&&(I.c(),I.m(e,null)));const O={};S[0]&1&&(O.characterId=P[0]),!n&&S[0]&16384&&(n=!0,O.isOpen=P[14],Lt(()=>n=!1)),s.$set(O);const q={};S[0]&262144&&(q.item=P[18]),!u&&S[0]&65536&&(u=!0,q.isOpen=P[16],Lt(()=>u=!1)),o.$set(q);const F={};S[0]&262144&&(F.item=P[18]),S[0]&2&&(F.isOwner=P[1]),!d&&S[0]&131072&&(d=!0,F.isOpen=P[17],Lt(()=>d=!1)),v.$set(F),P[15]&&P[2]?A?A.p(P,S):(A=Va(P),A.c(),A.m(_.parentNode,_)):A&&(A.d(1),A=null)},i(P){y||($e(s.$$.fragment,P),$e(o.$$.fragment,P),$e(v.$$.fragment,P),y=!0)},o(P){lt(s.$$.fragment,P),lt(o.$$.fragment,P),lt(v.$$.fragment,P),y=!1},d(P){P&&(f(e),f(a),f(i),f(m),f(b),f(_)),g&&g.d(),I.d(),_t(s,P),_t(o,P),_t(v,P),A&&A.d(P)}}}const Jt=20;function Ba(l){return{weapon:"‚öîÔ∏è",armor:"üõ°Ô∏è",shield:"üõ°Ô∏è",tool:"üîß",consumable:"üß™",treasure:"üíé",other:"üì¶"}[l]||"üì¶"}function nt(l){return l%1===0?l.toString():l.toFixed(2)}function Ha(l){return{weapon:"Armas",armor:"Armaduras",shield:"Escudos",tool:"Herramientas",consumable:"Consumibles",treasure:"Tesoros",other:"Otros"}[l]||"Items"}function Oa(l){return l&&{common:"badge-ghost",uncommon:"badge-success",rare:"badge-primary","very rare":"badge-secondary",legendary:"badge-warning",artifact:"badge-error"}[l.toLowerCase()]||"badge-ghost"}function qa(l){return l?l.charAt(0).toUpperCase()+l.slice(1):"Com√∫n"}function Zr(l,e){if(!l||l<=0)return{cp:0,sp:0,gp:0,pp:0};let t=0;switch(e){case"cp":t=l;break;case"sp":t=l*10;break;case"gp":t=l*100;break;case"pp":t=l*1e3;break}return{cp:t,sp:t/10,gp:t/100,pp:t/1e3}}const ja=(l,e)=>l+e.quantity;function $r(l,e,t){let a,s,n,i,o,u,{characterId:m}=e,{isOwner:v=!1}=e,d=null,b=!0,_="",y=null,g="",C=!1,w=!1,I=!1,V=!1,x=null,L={copper:0,silver:0,gold:0,platinum:0},N={copper:"",silver:"",gold:"",platinum:""},T={copper:!1,silver:!1,gold:!1,platinum:!1},H=null,A=null;const P=Ls(Ms);let S=(()=>{if(typeof window>"u")return{};const Y=sessionStorage.getItem(`inventory-pages-${m}`);return Y?JSON.parse(Y):{}})(),O=!1,q=0,F="gp";Vs(async()=>{W()}),As(()=>{H&&H(),A&&A()});function W(){try{t(11,b=!0);const Y=Ps(P,"inventory_items"),ae=Ss(Y,Ns("characterId","==",m));H=Kt(ae,ue=>{const ye=ue.docs.map(Le=>{var oe,Pe,et,Ze,tt,rt;return{id:Le.id,...Le.data(),createdAt:((et=(Pe=(oe=Le.data().createdAt)==null?void 0:oe.toDate)==null?void 0:Pe.call(oe))==null?void 0:et.toISOString())||new Date().toISOString(),updatedAt:((rt=(tt=(Ze=Le.data().updatedAt)==null?void 0:Ze.toDate)==null?void 0:tt.call(Ze))==null?void 0:rt.toISOString())||new Date().toISOString()}}),ze=ye.reduce((Le,oe)=>Le+oe.value*oe.quantity,0);d?(t(2,d.items=ye,d),t(2,d.totalValue=ze+(d.currency.copper*.01+d.currency.silver*.1+d.currency.gold+d.currency.platinum*10),d)):t(2,d={items:ye,currency:{copper:0,silver:0,gold:0,platinum:0},totalValue:ze}),t(11,b=!1)},ue=>{console.error("Error en listener de items:",ue),t(12,_=ue.message),t(11,b=!1)});const Te=Ys(P,"currencies",m);A=Kt(Te,ue=>{if(ue.exists()){const ye=ue.data();d?(t(2,d.currency=ye,d),t(2,d.totalValue=d.items.reduce((ze,Le)=>ze+Le.value*Le.quantity,0)+(ye.copper*.01+ye.silver*.1+ye.gold+ye.platinum*10),d)):t(2,d={items:[],currency:ye,totalValue:ye.copper*.01+ye.silver*.1+ye.gold+ye.platinum*10}),t(4,L={...ye})}},ue=>{console.error("Error en listener de currency:",ue)})}catch(Y){t(12,_=Y.message),t(11,b=!1)}}async function z(Y){try{t(12,_=""),await qt.createItem(m,Y.detail),t(14,C=!1)}catch(ae){t(12,_=ae.message||"Error agregando item"),console.error("Error adding item:",ae)}}async function U(Y){if(x)try{t(12,_=""),t(13,y=x.id);const ae=Y.detail;await qt.updateItem(x.id,ae),t(17,V=!1),t(18,x=null)}catch(ae){t(12,_=ae.message||"Error actualizando item"),console.error("Error updating item:",ae)}finally{t(13,y=null)}}async function se(Y){if(confirm(`¬øEliminar ${Y.name}${Y.quantity>1?` (√ó${Y.quantity})`:""}?`))try{t(13,y=Y.id),t(12,_=""),await qt.deleteItem(Y.id)}catch(ae){t(12,_=ae.message||"Error eliminando item"),console.error("Error deleting item:",ae)}finally{t(13,y=null)}}async function R(){if(Object.keys(T).forEach(Y=>{t(6,T[Y]=!0,T)}),!!a)try{t(12,_=""),await qt.updateCurrency(m,L),t(15,w=!1),G()}catch(Y){t(12,_=Y.message||"Error actualizando monedas"),console.error("Error updating currency:",Y)}}function G(){Object.keys(T).forEach(Y=>{t(6,T[Y]=!1,T)}),Object.keys(N).forEach(Y=>{t(5,N[Y]="",N)})}function X(Y){t(18,x=Y),t(16,I=!0)}function Z(Y){t(18,x=Y),t(17,V=!0)}function J(Y){const ae=i[Y]||[],ue=(S[Y]||0)*Jt,ye=ue+Jt;return ae.slice(ue,ye)}function Q(Y){const ae=i[Y]||[];return Math.ceil(ae.length/Jt)}function te(Y,ae){const Te=Q(Y),ye=(S[Y]||0)+ae;ye>=0&&ye<Te&&t(7,S={...S,[Y]:ye})}function re(Y){t(6,T[Y]=!0,T)}function fe(Y){Pt.call(this,l,Y)}function pe(Y){Pt.call(this,l,Y)}const Ee=()=>t(12,_=""),De=()=>{t(12,_=""),t(11,b=!0),W()};function $(){g=this.value,t(3,g)}const he=()=>t(3,g=""),be=Y=>Y.name.toLowerCase().includes(g.toLowerCase())||Y.description&&Y.description.toLowerCase().includes(g.toLowerCase()),Ce=()=>t(15,w=!0),Ue=()=>t(14,C=!0),Ve=()=>t(14,C=!0),ke=Y=>te(Y,-1),ce=Y=>te(Y,1),de=Y=>Z(Y),ve=Y=>se(Y),xe=Y=>X(Y);function me(Y){C=Y,t(14,C)}const _e=()=>t(14,C=!1);function He(Y){I=Y,t(16,I)}const Oe=()=>{t(16,I=!1),t(18,x=null)};function Se(Y){V=Y,t(17,V)}const ie=()=>{t(17,V=!1),t(18,x=null)},we=()=>{t(15,w=!1),G()},Ge=()=>t(19,O=!O);function Je(){q=Re(this.value),t(8,q)}function Fe(){F=xs(this),t(9,F)}function Me(){L.platinum=Re(this.value),t(4,L)}const qe=()=>re("platinum");function Ne(){L.gold=Re(this.value),t(4,L)}const Qe=()=>re("gold");function ge(){L.silver=Re(this.value),t(4,L)}const Be=()=>re("silver");function ne(){L.copper=Re(this.value),t(4,L)}const Ae=()=>re("copper"),Xe=()=>{t(15,w=!1),G()},je=()=>{t(15,w=!1),G()};return l.$$set=Y=>{"characterId"in Y&&t(0,m=Y.characterId),"isOwner"in Y&&t(1,v=Y.isOwner)},l.$$.update=()=>{if(l.$$.dirty[0]&136&&g&&Object.keys(S).forEach(Y=>{t(7,S[Y]=0,S)}),l.$$.dirty[0]&129&&typeof window<"u"&&sessionStorage.setItem(`inventory-pages-${m}`,JSON.stringify(S)),l.$$.dirty[0]&80&&T.copper){const Y=Ot(L.copper);t(5,N.copper=Y.valid?"":Y.error||"",N)}if(l.$$.dirty[0]&80&&T.silver){const Y=Ot(L.silver);t(5,N.silver=Y.valid?"":Y.error||"",N)}if(l.$$.dirty[0]&80&&T.gold){const Y=Ot(L.gold);t(5,N.gold=Y.valid?"":Y.error||"",N)}if(l.$$.dirty[0]&80&&T.platinum){const Y=Ot(L.platinum);t(5,N.platinum=Y.valid?"":Y.error||"",N)}l.$$.dirty[0]&32&&t(22,a=!N.copper&&!N.silver&&!N.gold&&!N.platinum),l.$$.dirty[0]&768&&t(23,s=Zr(q,F)),l.$$.dirty[0]&4&&t(10,n=(d==null?void 0:d.items.reduce((Y,ae)=>(Y[ae.type]||(Y[ae.type]=[]),Y[ae.type].push(ae),Y),{}))||{}),l.$$.dirty[0]&1032&&t(36,i=(()=>{if(!g.trim())return n;const Y=g.toLowerCase(),ae={};return Object.keys(n).forEach(Te=>{const ue=n[Te].filter(ye=>{var ze,Le;return ye.name.toLowerCase().includes(Y)||ye.description&&ye.description.toLowerCase().includes(Y)||((ze=ye.weaponData)==null?void 0:ze.weaponType.toLowerCase().includes(Y))||((Le=ye.armorData)==null?void 0:Le.armorType.toLowerCase().includes(Y))||ye.rarity&&ye.rarity.toLowerCase().includes(Y)});ue.length>0&&(ae[Te]=ue)}),ae})()),l.$$.dirty[1]&32&&t(21,o=Object.keys(i).sort()),l.$$.dirty[0]&4&&t(20,u=(d==null?void 0:d.items.reduce((Y,ae)=>Y+ae.quantity,0))||0)},[m,v,d,g,L,N,T,S,q,F,n,b,_,y,C,w,I,V,x,O,u,o,a,s,W,z,U,se,R,G,X,Z,J,Q,te,re,i,fe,pe,Ee,De,$,he,be,Ce,Ue,Ve,ke,ce,de,ve,xe,me,_e,He,Oe,Se,ie,we,Ge,Je,Fe,Me,qe,Ne,Qe,ge,Be,ne,Ae,Xe,je]}class en extends Dt{constructor(e){super(),wt(this,e,$r,Yr,It,{characterId:0,isOwner:1},null,[-1,-1,-1])}}function Fa(l,e,t){const a=l.slice();return a[22]=e[t],a}function Ua(l,e,t){const a=l.slice();return a[22]=e[t],a}function za(l,e,t){const a=l.slice();return a[27]=e[t],a}function Ra(l,e,t){const a=l.slice();return a[27]=e[t],a}function Ga(l,e,t){const a=l.slice();return a[32]=e[t],a}function Qa(l){let e,t,a,s='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',n,i,o,u,m="‚úèÔ∏è Editar",v,d,b,_="üóëÔ∏è Eliminar",y,g;return{c(){e=h("div"),t=h("div"),a=h("label"),a.innerHTML=s,n=D(),i=h("ul"),o=h("li"),u=h("a"),u.textContent=m,v=D(),d=h("li"),b=h("a"),b.textContent=_,this.h()},l(C){e=p(C,"DIV",{class:!0});var w=E(e);t=p(w,"DIV",{class:!0});var I=E(t);a=p(I,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),K(a)!=="svelte-peoic3"&&(a.innerHTML=s),n=k(I),i=p(I,"UL",{tabindex:!0,class:!0});var V=E(i);o=p(V,"LI",{});var x=E(o);u=p(x,"A",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-wsazpu"&&(u.textContent=m),x.forEach(f),v=k(V),d=p(V,"LI",{});var L=E(d);b=p(L,"A",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-14pabf4"&&(b.textContent=_),L.forEach(f),V.forEach(f),I.forEach(f),w.forEach(f),this.h()},h(){c(a,"tabindex","0"),c(a,"class","btn btn-ghost btn-sm btn-circle"),c(u,"class","text-secondary"),c(b,"class","text-error"),c(i,"tabindex","0"),c(i,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-52 border-2 border-secondary"),c(t,"class","dropdown dropdown-end"),c(e,"class","flex gap-2 flex-shrink-0")},m(C,w){j(C,e,w),r(e,t),r(t,a),r(t,n),r(t,i),r(i,o),r(o,u),r(i,v),r(i,d),r(d,b),y||(g=[le(u,"click",l[13]),le(b,"click",l[14])],y=!0)},p:We,d(C){C&&f(e),y=!1,st(g)}}}function tn(l){let e,t;return e=new en({props:{characterId:l[0].id,isOwner:l[1]}}),{c(){Et(e.$$.fragment)},l(a){yt(e.$$.fragment,a)},m(a,s){gt(e,a,s),t=!0},p(a,s){const n={};s[0]&1&&(n.characterId=a[0].id),s[0]&2&&(n.isOwner=a[1]),e.$set(n)},i(a){t||($e(e.$$.fragment,a),t=!0)},o(a){lt(e.$$.fragment,a),t=!1},d(a){_t(e,a)}}}function ln(l){let e,t,a,s,n="CA",i,o,u=l[0].armorClass+"",m,v,d,b,_="INIT",y,g,C,w=l[0].initiative+"",I,V,x,L,N="VELOCIDAD",T,H,A=l[0].speed+"",P,S,O,q,F,W="NIVEL",z,U,se=l[0].level+"",R,G,X,Z,J,Q="PUNTOS DE VIDA",te,re,fe=l[0].currentHp+"",pe,Ee,De=l[0].maxHp+"",$,he,be,Ce,Ue,Ve,ke,ce,de,ve,xe="üí™ Puntuaciones de Habilidad",me,_e,He,Oe,Se,ie="üõ°Ô∏è Tiradas de Salvaci√≥n",we,Ge,Je,Fe,Me,qe="üéØ Habilidades",Ne,Qe,ge=l[9]&&Ja(l),Be=Ke(l[8]),ne=[];for(let ae=0;ae<Be.length;ae+=1)ne[ae]=Wa(Ra(l,Be,ae));let Ae=Ke(l[7]),Xe=[];for(let ae=0;ae<Ae.length;ae+=1)Xe[ae]=Xa(za(l,Ae,ae));let je=l[6].length>0&&Ya(l),Y=l[5].length>0&&es(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("p"),s.textContent=n,i=D(),o=h("p"),m=B(u),v=D(),d=h("div"),b=h("p"),b.textContent=_,y=D(),g=h("p"),C=B("+"),I=B(w),V=D(),x=h("div"),L=h("p"),L.textContent=N,T=D(),H=h("p"),P=B(A),S=B("'"),O=D(),q=h("div"),F=h("p"),F.textContent=W,z=D(),U=h("p"),R=B(se),G=D(),X=h("div"),Z=h("div"),J=h("span"),J.textContent=Q,te=D(),re=h("span"),pe=B(fe),Ee=B("/"),$=B(De),he=D(),be=h("progress"),ke=D(),ge&&ge.c(),ce=D(),de=h("div"),ve=h("h4"),ve.textContent=xe,me=D(),_e=h("div");for(let ae=0;ae<ne.length;ae+=1)ne[ae].c();He=D(),Oe=h("div"),Se=h("h4"),Se.textContent=ie,we=D(),Ge=h("div");for(let ae=0;ae<Xe.length;ae+=1)Xe[ae].c();Je=D(),Fe=h("div"),Me=h("h4"),Me.textContent=qe,Ne=D(),je&&je.c(),Qe=D(),Y&&Y.c(),this.h()},l(ae){e=p(ae,"DIV",{class:!0});var Te=E(e);t=p(Te,"DIV",{class:!0});var ue=E(t);a=p(ue,"DIV",{class:!0});var ye=E(a);s=p(ye,"P",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-wol06o"&&(s.textContent=n),i=k(ye),o=p(ye,"P",{class:!0});var ze=E(o);m=M(ze,u),ze.forEach(f),ye.forEach(f),v=k(ue),d=p(ue,"DIV",{class:!0});var Le=E(d);b=p(Le,"P",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-kbusj2"&&(b.textContent=_),y=k(Le),g=p(Le,"P",{class:!0});var oe=E(g);C=M(oe,"+"),I=M(oe,w),oe.forEach(f),Le.forEach(f),V=k(ue),x=p(ue,"DIV",{class:!0});var Pe=E(x);L=p(Pe,"P",{class:!0,"data-svelte-h":!0}),K(L)!=="svelte-gdgr"&&(L.textContent=N),T=k(Pe),H=p(Pe,"P",{class:!0});var et=E(H);P=M(et,A),S=M(et,"'"),et.forEach(f),Pe.forEach(f),O=k(ue),q=p(ue,"DIV",{class:!0});var Ze=E(q);F=p(Ze,"P",{class:!0,"data-svelte-h":!0}),K(F)!=="svelte-16dg4q8"&&(F.textContent=W),z=k(Ze),U=p(Ze,"P",{class:!0});var tt=E(U);R=M(tt,se),tt.forEach(f),Ze.forEach(f),ue.forEach(f),G=k(Te),X=p(Te,"DIV",{class:!0});var rt=E(X);Z=p(rt,"DIV",{class:!0});var pt=E(Z);J=p(pt,"SPAN",{class:!0,"data-svelte-h":!0}),K(J)!=="svelte-13cywkd"&&(J.textContent=Q),te=k(pt),re=p(pt,"SPAN",{class:!0});var ft=E(re);pe=M(ft,fe),Ee=M(ft,"/"),$=M(ft,De),ft.forEach(f),pt.forEach(f),he=k(rt),be=p(rt,"PROGRESS",{class:!0,max:!0}),E(be).forEach(f),rt.forEach(f),ke=k(Te),ge&&ge.l(Te),ce=k(Te),de=p(Te,"DIV",{});var dt=E(de);ve=p(dt,"H4",{class:!0,"data-svelte-h":!0}),K(ve)!=="svelte-1279vkd"&&(ve.textContent=xe),me=k(dt),_e=p(dt,"DIV",{class:!0});var xt=E(_e);for(let ut=0;ut<ne.length;ut+=1)ne[ut].l(xt);xt.forEach(f),dt.forEach(f),He=k(Te),Oe=p(Te,"DIV",{});var vt=E(Oe);Se=p(vt,"H4",{class:!0,"data-svelte-h":!0}),K(Se)!=="svelte-14g2qgt"&&(Se.textContent=ie),we=k(vt),Ge=p(vt,"DIV",{class:!0});var ht=E(Ge);for(let ut=0;ut<Xe.length;ut+=1)Xe[ut].l(ht);ht.forEach(f),vt.forEach(f),Je=k(Te),Fe=p(Te,"DIV",{});var ct=E(Fe);Me=p(ct,"H4",{class:!0,"data-svelte-h":!0}),K(Me)!=="svelte-12uabm0"&&(Me.textContent=qe),Ne=k(ct),je&&je.l(ct),Qe=k(ct),Y&&Y.l(ct),ct.forEach(f),Te.forEach(f),this.h()},h(){c(s,"class","text-xs font-medieval text-neutral/60 mb-1"),c(o,"class","text-2xl font-bold text-neutral"),c(a,"class","bg-gradient-to-br from-info/20 to-success/20 p-3 rounded-lg border border-info/30 text-center"),c(b,"class","text-xs font-medieval text-neutral/60 mb-1"),c(g,"class","text-2xl font-bold text-neutral"),c(d,"class","bg-gradient-to-br from-warning/20 to-error/20 p-3 rounded-lg border border-warning/30 text-center"),c(L,"class","text-xs font-medieval text-neutral/60 mb-1"),c(H,"class","text-2xl font-bold text-neutral"),c(x,"class","bg-gradient-to-br from-success/20 to-primary/20 p-3 rounded-lg border border-success/30 text-center"),c(F,"class","text-xs font-medieval text-neutral/60 mb-1"),c(U,"class","text-2xl font-bold text-neutral"),c(q,"class","bg-gradient-to-br from-primary/20 to-accent/20 p-3 rounded-lg border border-primary/30 text-center"),c(t,"class","grid grid-cols-2 sm:grid-cols-4 gap-3"),c(J,"class","font-medieval text-neutral/70 text-sm"),c(re,"class","font-bold text-neutral"),c(Z,"class","flex justify-between items-center mb-2"),c(be,"class",Ce=`progress w-full h-4 progress-${l[10]}`),be.value=Ue=l[0].currentHp,c(be,"max",Ve=l[0].maxHp),c(X,"class","bg-gradient-to-r from-success/10 to-error/10 p-3 rounded-lg border border-success/30"),c(ve,"class","font-medieval text-lg text-neutral mb-3 flex items-center gap-2"),c(_e,"class","grid grid-cols-3 md:grid-cols-6 gap-3"),c(Se,"class","font-medieval text-lg text-neutral mb-3 flex items-center gap-2"),c(Ge,"class","grid grid-cols-2 md:grid-cols-3 gap-2"),c(Me,"class","font-medieval text-lg text-neutral mb-3 flex items-center gap-2"),c(e,"class","space-y-4")},m(ae,Te){j(ae,e,Te),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),r(o,m),r(t,v),r(t,d),r(d,b),r(d,y),r(d,g),r(g,C),r(g,I),r(t,V),r(t,x),r(x,L),r(x,T),r(x,H),r(H,P),r(H,S),r(t,O),r(t,q),r(q,F),r(q,z),r(q,U),r(U,R),r(e,G),r(e,X),r(X,Z),r(Z,J),r(Z,te),r(Z,re),r(re,pe),r(re,Ee),r(re,$),r(X,he),r(X,be),r(e,ke),ge&&ge.m(e,null),r(e,ce),r(e,de),r(de,ve),r(de,me),r(de,_e);for(let ue=0;ue<ne.length;ue+=1)ne[ue]&&ne[ue].m(_e,null);r(e,He),r(e,Oe),r(Oe,Se),r(Oe,we),r(Oe,Ge);for(let ue=0;ue<Xe.length;ue+=1)Xe[ue]&&Xe[ue].m(Ge,null);r(e,Je),r(e,Fe),r(Fe,Me),r(Fe,Ne),je&&je.m(Fe,null),r(Fe,Qe),Y&&Y.m(Fe,null)},p(ae,Te){if(Te[0]&1&&u!==(u=ae[0].armorClass+"")&&ee(m,u),Te[0]&1&&w!==(w=ae[0].initiative+"")&&ee(I,w),Te[0]&1&&A!==(A=ae[0].speed+"")&&ee(P,A),Te[0]&1&&se!==(se=ae[0].level+"")&&ee(R,se),Te[0]&1&&fe!==(fe=ae[0].currentHp+"")&&ee(pe,fe),Te[0]&1&&De!==(De=ae[0].maxHp+"")&&ee($,De),Te[0]&1024&&Ce!==(Ce=`progress w-full h-4 progress-${ae[10]}`)&&c(be,"class",Ce),Te[0]&1&&Ue!==(Ue=ae[0].currentHp)&&(be.value=Ue),Te[0]&1&&Ve!==(Ve=ae[0].maxHp)&&c(be,"max",Ve),ae[9]?ge?ge.p(ae,Te):(ge=Ja(ae),ge.c(),ge.m(e,ce)):ge&&(ge.d(1),ge=null),Te[0]&2321){Be=Ke(ae[8]);let ue;for(ue=0;ue<Be.length;ue+=1){const ye=Ra(ae,Be,ue);ne[ue]?ne[ue].p(ye,Te):(ne[ue]=Wa(ye),ne[ue].c(),ne[ue].m(_e,null))}for(;ue<ne.length;ue+=1)ne[ue].d(1);ne.length=Be.length}if(Te[0]&69761){Ae=Ke(ae[7]);let ue;for(ue=0;ue<Ae.length;ue+=1){const ye=za(ae,Ae,ue);Xe[ue]?Xe[ue].p(ye,Te):(Xe[ue]=Xa(ye),Xe[ue].c(),Xe[ue].m(Ge,null))}for(;ue<Xe.length;ue+=1)Xe[ue].d(1);Xe.length=Ae.length}ae[6].length>0?je?je.p(ae,Te):(je=Ya(ae),je.c(),je.m(Fe,Qe)):je&&(je.d(1),je=null),ae[5].length>0?Y?Y.p(ae,Te):(Y=es(ae),Y.c(),Y.m(Fe,null)):Y&&(Y.d(1),Y=null)},i:We,o:We,d(ae){ae&&f(e),ge&&ge.d(),at(ne,ae),at(Xe,ae),je&&je.d(),Y&&Y.d()}}}function Ja(l){let e,t,a="‚ö†Ô∏è CONDICIONES ACTIVAS",s,n,i=Ke(l[0].conditions),o=[];for(let u=0;u<i.length;u+=1)o[u]=Ka(Ga(l,i,u));return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=p(u,"DIV",{class:!0});var m=E(e);t=p(m,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-zymfnd"&&(t.textContent=a),s=k(m),n=p(m,"DIV",{class:!0});var v=E(n);for(let d=0;d<o.length;d+=1)o[d].l(v);v.forEach(f),m.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-2"),c(n,"class","flex flex-wrap gap-1"),c(e,"class","bg-warning/10 p-3 rounded-lg border border-warning/30")},m(u,m){j(u,e,m),r(e,t),r(e,s),r(e,n);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(n,null)},p(u,m){if(m[0]&1){i=Ke(u[0].conditions);let v;for(v=0;v<i.length;v+=1){const d=Ga(u,i,v);o[v]?o[v].p(d,m):(o[v]=Ka(d),o[v].c(),o[v].m(n,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=i.length}},d(u){u&&f(e),at(o,u)}}}function Ka(l){let e,t=l[32]+"",a;return{c(){e=h("div"),a=B(t),this.h()},l(s){e=p(s,"DIV",{class:!0});var n=E(e);a=M(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-warning badge-sm")},m(s,n){j(s,e,n),r(e,a)},p(s,n){n[0]&1&&t!==(t=s[32]+"")&&ee(a,t)},d(s){s&&f(e)}}}function Wa(l){let e,t,a=l[11][l[27]]+"",s,n,i,o=ot(l[4][l[27]])+"",u,m,v,d,b=l[0].abilityScores[l[27]]+"",_,y,g;return{c(){e=h("div"),t=h("div"),s=B(a),n=D(),i=h("div"),u=B(o),m=D(),v=h("div"),d=B("("),_=B(b),y=B(")"),g=D(),this.h()},l(C){e=p(C,"DIV",{class:!0});var w=E(e);t=p(w,"DIV",{class:!0});var I=E(t);s=M(I,a),I.forEach(f),n=k(w),i=p(w,"DIV",{class:!0});var V=E(i);u=M(V,o),V.forEach(f),m=k(w),v=p(w,"DIV",{class:!0});var x=E(v);d=M(x,"("),_=M(x,b),y=M(x,")"),x.forEach(f),g=k(w),w.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/70 mb-1"),c(i,"class","text-3xl font-bold text-neutral mb-1"),c(v,"class","text-sm text-neutral/60"),c(e,"class","bg-gradient-to-br from-primary/10 to-accent/10 p-3 rounded-lg border-2 border-primary/30 text-center")},m(C,w){j(C,e,w),r(e,t),r(t,s),r(e,n),r(e,i),r(i,u),r(e,m),r(e,v),r(v,d),r(v,_),r(v,y),r(e,g)},p(C,w){w[0]&256&&a!==(a=C[11][C[27]]+"")&&ee(s,a),w[0]&272&&o!==(o=ot(C[4][C[27]])+"")&&ee(u,o),w[0]&257&&b!==(b=C[0].abilityScores[C[27]]+"")&&ee(_,b)},d(C){C&&f(e)}}}function Xa(l){let e,t,a,s,n,i,o=l[12][l[27]]+"",u,m,v,d=ot(l[16](l[27]))+"",b,_,y;return{c(){e=h("div"),t=h("div"),s=D(),n=h("div"),i=h("div"),u=B(o),m=D(),v=h("div"),b=B(d),_=D(),this.h()},l(g){e=p(g,"DIV",{class:!0});var C=E(e);t=p(C,"DIV",{class:!0}),E(t).forEach(f),s=k(C),n=p(C,"DIV",{class:!0});var w=E(n);i=p(w,"DIV",{class:!0});var I=E(i);u=M(I,o),I.forEach(f),m=k(w),v=p(w,"DIV",{class:!0});var V=E(v);b=M(V,d),V.forEach(f),w.forEach(f),_=k(C),C.forEach(f),this.h()},h(){c(t,"class",a="w-4 h-4 rounded-full border-2 "+(l[0].savingThrows[l[27]]?"bg-success border-success":"border-neutral/50")),c(i,"class","text-sm font-medieval"),c(v,"class","text-xs text-neutral/70"),c(n,"class","flex-1"),c(e,"class",y="flex items-center gap-2 p-2 rounded-lg border-2 "+(l[0].savingThrows[l[27]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))},m(g,C){j(g,e,C),r(e,t),r(e,s),r(e,n),r(n,i),r(i,u),r(n,m),r(n,v),r(v,b),r(e,_)},p(g,C){C[0]&129&&a!==(a="w-4 h-4 rounded-full border-2 "+(g[0].savingThrows[g[27]]?"bg-success border-success":"border-neutral/50"))&&c(t,"class",a),C[0]&128&&o!==(o=g[12][g[27]]+"")&&ee(u,o),C[0]&128&&d!==(d=ot(g[16](g[27]))+"")&&ee(b,d),C[0]&129&&y!==(y="flex items-center gap-2 p-2 rounded-lg border-2 "+(g[0].savingThrows[g[27]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))&&c(e,"class",y)},d(g){g&&f(e)}}}function Ya(l){let e,t,a="COMPETENTES",s,n,i=Ke(l[6]),o=[];for(let u=0;u<i.length;u+=1)o[u]=$a(Ua(l,i,u));return{c(){e=h("div"),t=h("p"),t.textContent=a,s=D(),n=h("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=p(u,"DIV",{class:!0});var m=E(e);t=p(m,"P",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-776mjs"&&(t.textContent=a),s=k(m),n=p(m,"DIV",{class:!0});var v=E(n);for(let d=0;d<o.length;d+=1)o[d].l(v);v.forEach(f),m.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-2"),c(n,"class","grid grid-cols-1 md:grid-cols-2 gap-2"),c(e,"class","mb-3")},m(u,m){j(u,e,m),r(e,t),r(e,s),r(e,n);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(n,null)},p(u,m){if(m[0]&32832){i=Ke(u[6]);let v;for(v=0;v<i.length;v+=1){const d=Ua(u,i,v);o[v]?o[v].p(d,m):(o[v]=$a(d),o[v].c(),o[v].m(n,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=i.length}},d(u){u&&f(e),at(o,u)}}}function Za(l){let e;return{c(){e=B("‚òÖ")},l(t){e=M(t,"‚òÖ")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function $a(l){let e,t,a,s,n,i,o=Qt(l[22].name)+"",u,m,v,d=ot(l[15](l[22]))+"",b,_,y,g=l[22].expertise&&Za();return{c(){e=h("div"),t=h("div"),g&&g.c(),s=D(),n=h("div"),i=h("div"),u=B(o),m=D(),v=h("div"),b=B(d),_=D(),this.h()},l(C){e=p(C,"DIV",{class:!0});var w=E(e);t=p(w,"DIV",{class:!0});var I=E(t);g&&g.l(I),I.forEach(f),s=k(w),n=p(w,"DIV",{class:!0});var V=E(n);i=p(V,"DIV",{class:!0});var x=E(i);u=M(x,o),x.forEach(f),V.forEach(f),m=k(w),v=p(w,"DIV",{class:!0});var L=E(v);b=M(L,d),L.forEach(f),_=k(w),w.forEach(f),this.h()},h(){c(t,"class",a="w-4 h-4 rounded-full border-2 flex items-center justify-center text-xs "+(l[22].expertise?"bg-warning border-warning":"bg-success border-success")),c(i,"class","text-sm font-medieval truncate"),c(n,"class","flex-1 min-w-0"),c(v,"class","text-sm font-bold text-neutral"),c(e,"class",y="flex items-center gap-2 p-2 rounded-lg border-2 "+(l[22].expertise?"bg-warning/20 border-warning":"bg-success/20 border-success"))},m(C,w){j(C,e,w),r(e,t),g&&g.m(t,null),r(e,s),r(e,n),r(n,i),r(i,u),r(e,m),r(e,v),r(v,b),r(e,_)},p(C,w){C[22].expertise?g||(g=Za(),g.c(),g.m(t,null)):g&&(g.d(1),g=null),w[0]&64&&a!==(a="w-4 h-4 rounded-full border-2 flex items-center justify-center text-xs "+(C[22].expertise?"bg-warning border-warning":"bg-success border-success"))&&c(t,"class",a),w[0]&64&&o!==(o=Qt(C[22].name)+"")&&ee(u,o),w[0]&64&&d!==(d=ot(C[15](C[22]))+"")&&ee(b,d),w[0]&64&&y!==(y="flex items-center gap-2 p-2 rounded-lg border-2 "+(C[22].expertise?"bg-warning/20 border-warning":"bg-success/20 border-success"))&&c(e,"class",y)},d(C){C&&f(e),g&&g.d()}}}function es(l){let e,t,a,s=l[5].length+"",n,i,o,u,m,v=Ke(l[5]),d=[];for(let b=0;b<v.length;b+=1)d[b]=ts(Fa(l,v,b));return{c(){e=h("details"),t=h("summary"),a=B("OTRAS HABILIDADES ("),n=B(s),i=B(")"),o=D(),u=h("div"),m=h("div");for(let b=0;b<d.length;b+=1)d[b].c();this.h()},l(b){e=p(b,"DETAILS",{class:!0});var _=E(e);t=p(_,"SUMMARY",{class:!0});var y=E(t);a=M(y,"OTRAS HABILIDADES ("),n=M(y,s),i=M(y,")"),y.forEach(f),o=k(_),u=p(_,"DIV",{class:!0});var g=E(u);m=p(g,"DIV",{class:!0});var C=E(m);for(let w=0;w<d.length;w+=1)d[w].l(C);C.forEach(f),g.forEach(f),_.forEach(f),this.h()},h(){c(t,"class","collapse-title text-xs font-medieval text-neutral/60"),c(m,"class","grid grid-cols-1 md:grid-cols-2 gap-2 pt-2"),c(u,"class","collapse-content"),c(e,"class","collapse collapse-arrow bg-neutral/5 rounded-lg border border-neutral/20")},m(b,_){j(b,e,_),r(e,t),r(t,a),r(t,n),r(t,i),r(e,o),r(e,u),r(u,m);for(let y=0;y<d.length;y+=1)d[y]&&d[y].m(m,null)},p(b,_){if(_[0]&32&&s!==(s=b[5].length+"")&&ee(n,s),_[0]&32800){v=Ke(b[5]);let y;for(y=0;y<v.length;y+=1){const g=Fa(b,v,y);d[y]?d[y].p(g,_):(d[y]=ts(g),d[y].c(),d[y].m(m,null))}for(;y<d.length;y+=1)d[y].d(1);d.length=v.length}},d(b){b&&f(e),at(d,b)}}}function ts(l){let e,t,a,s,n,i=Qt(l[22].name)+"",o,u,m,v=ot(l[15](l[22]))+"",d,b;return{c(){e=h("div"),t=h("div"),a=D(),s=h("div"),n=h("div"),o=B(i),u=D(),m=h("div"),d=B(v),b=D(),this.h()},l(_){e=p(_,"DIV",{class:!0});var y=E(e);t=p(y,"DIV",{class:!0}),E(t).forEach(f),a=k(y),s=p(y,"DIV",{class:!0});var g=E(s);n=p(g,"DIV",{class:!0});var C=E(n);o=M(C,i),C.forEach(f),g.forEach(f),u=k(y),m=p(y,"DIV",{class:!0});var w=E(m);d=M(w,v),w.forEach(f),b=k(y),y.forEach(f),this.h()},h(){c(t,"class","w-4 h-4 rounded-full border-2 border-neutral/50"),c(n,"class","text-sm font-medieval truncate"),c(s,"class","flex-1 min-w-0"),c(m,"class","text-sm font-bold text-neutral"),c(e,"class","flex items-center gap-2 p-2 rounded-lg border-2 bg-neutral/10 border-neutral/30")},m(_,y){j(_,e,y),r(e,t),r(e,a),r(e,s),r(s,n),r(n,o),r(e,u),r(e,m),r(m,d),r(e,b)},p(_,y){y[0]&32&&i!==(i=Qt(_[22].name)+"")&&ee(o,i),y[0]&32&&v!==(v=ot(_[15](_[22]))+"")&&ee(d,v)},d(_){_&&f(e)}}}function an(l){let e,t,a,s,n,i='<div class="w-20 h-20 rounded-full ring-2 ring-secondary ring-offset-2 ring-offset-[#f4e4c1]"><div class="bg-gradient-to-br from-primary to-accent flex items-center justify-center w-full h-full"><span class="text-3xl">üßô‚Äç‚ôÇÔ∏è</span></div></div>',o,u,m,v=l[0].name+"",d,b,_,y=l[0].class+"",g,C,w=l[0].level+"",I,V,x,L,N,T,H,A,P,S=l[0].speed+"",O,q,F,W,z,U,se,R="üìä",G,X,Z,J,Q,te="üéí",re,fe,pe,Ee,De,$,he,be,Ce=l[1]&&Qa(l);const Ue=[ln,tn],Ve=[];function ke(ce,de){return ce[2]==="stats"?0:1}return Ee=ke(l),De=Ve[Ee]=Ue[Ee](l),{c(){e=h("div"),t=h("div"),a=h("div"),s=h("div"),n=h("div"),n.innerHTML=i,o=D(),u=h("div"),m=h("h3"),d=B(v),b=D(),_=h("p"),g=B(y),C=B(" ‚Ä¢ Nivel "),I=B(w),V=D(),x=h("div"),L=h("div"),N=B("+"),T=B(l[3]),H=B(" Competencia"),A=D(),P=h("div"),O=B(S),q=B(" pies"),F=D(),Ce&&Ce.c(),W=D(),z=h("div"),U=h("button"),se=h("span"),se.textContent=R,G=B(`\r
        Estad√≠sticas`),Z=D(),J=h("button"),Q=h("span"),Q.textContent=te,re=B(`\r
        Inventario`),pe=D(),De.c(),this.h()},l(ce){e=p(ce,"DIV",{class:!0});var de=E(e);t=p(de,"DIV",{class:!0});var ve=E(t);a=p(ve,"DIV",{class:!0});var xe=E(a);s=p(xe,"DIV",{class:!0});var me=E(s);n=p(me,"DIV",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-1ddetiq"&&(n.innerHTML=i),o=k(me),u=p(me,"DIV",{class:!0});var _e=E(u);m=p(_e,"H3",{class:!0});var He=E(m);d=M(He,v),He.forEach(f),b=k(_e),_=p(_e,"P",{class:!0});var Oe=E(_);g=M(Oe,y),C=M(Oe," ‚Ä¢ Nivel "),I=M(Oe,w),Oe.forEach(f),V=k(_e),x=p(_e,"DIV",{class:!0});var Se=E(x);L=p(Se,"DIV",{class:!0});var ie=E(L);N=M(ie,"+"),T=M(ie,l[3]),H=M(ie," Competencia"),ie.forEach(f),A=k(Se),P=p(Se,"DIV",{class:!0});var we=E(P);O=M(we,S),q=M(we," pies"),we.forEach(f),Se.forEach(f),_e.forEach(f),me.forEach(f),F=k(xe),Ce&&Ce.l(xe),xe.forEach(f),W=k(ve),z=p(ve,"DIV",{class:!0});var Ge=E(z);U=p(Ge,"BUTTON",{class:!0});var Je=E(U);se=p(Je,"SPAN",{class:!0,"data-svelte-h":!0}),K(se)!=="svelte-kugu9n"&&(se.textContent=R),G=M(Je,`\r
        Estad√≠sticas`),Je.forEach(f),Z=k(Ge),J=p(Ge,"BUTTON",{class:!0});var Fe=E(J);Q=p(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),K(Q)!=="svelte-bo1ms0"&&(Q.textContent=te),re=M(Fe,`\r
        Inventario`),Fe.forEach(f),Ge.forEach(f),pe=k(ve),De.l(ve),ve.forEach(f),de.forEach(f),this.h()},h(){c(n,"class","avatar flex-shrink-0"),c(m,"class","text-2xl font-medieval font-bold text-neutral mb-1"),c(_,"class","text-base text-neutral/70 font-body"),c(L,"class","badge badge-sm badge-secondary"),c(P,"class","badge badge-sm badge-info"),c(x,"class","flex gap-2 mt-1"),c(u,"class","flex-1 min-w-0"),c(s,"class","flex items-center gap-4 flex-1 min-w-0"),c(a,"class","flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4"),c(se,"class","text-lg mr-2"),c(U,"class",X="tab flex-1 "+(l[2]==="stats"?"tab-active":"")),c(Q,"class","text-lg mr-2"),c(J,"class",fe="tab flex-1 "+(l[2]==="inventory"?"tab-active":"")),c(z,"class","tabs tabs-boxed bg-neutral/20 mb-4"),c(t,"class","card-body p-4 sm:p-6"),c(e,"class","card-parchment w-full max-w-6xl mx-auto")},m(ce,de){j(ce,e,de),r(e,t),r(t,a),r(a,s),r(s,n),r(s,o),r(s,u),r(u,m),r(m,d),r(u,b),r(u,_),r(_,g),r(_,C),r(_,I),r(u,V),r(u,x),r(x,L),r(L,N),r(L,T),r(L,H),r(x,A),r(x,P),r(P,O),r(P,q),r(a,F),Ce&&Ce.m(a,null),r(t,W),r(t,z),r(z,U),r(U,se),r(U,G),r(z,Z),r(z,J),r(J,Q),r(J,re),r(t,pe),Ve[Ee].m(t,null),$=!0,he||(be=[le(U,"click",l[19]),le(J,"click",l[20])],he=!0)},p(ce,de){(!$||de[0]&1)&&v!==(v=ce[0].name+"")&&ee(d,v),(!$||de[0]&1)&&y!==(y=ce[0].class+"")&&ee(g,y),(!$||de[0]&1)&&w!==(w=ce[0].level+"")&&ee(I,w),(!$||de[0]&8)&&ee(T,ce[3]),(!$||de[0]&1)&&S!==(S=ce[0].speed+"")&&ee(O,S),ce[1]?Ce?Ce.p(ce,de):(Ce=Qa(ce),Ce.c(),Ce.m(a,null)):Ce&&(Ce.d(1),Ce=null),(!$||de[0]&4&&X!==(X="tab flex-1 "+(ce[2]==="stats"?"tab-active":"")))&&c(U,"class",X),(!$||de[0]&4&&fe!==(fe="tab flex-1 "+(ce[2]==="inventory"?"tab-active":"")))&&c(J,"class",fe);let ve=Ee;Ee=ke(ce),Ee===ve?Ve[Ee].p(ce,de):(St(),lt(Ve[ve],1,1,()=>{Ve[ve]=null}),Nt(),De=Ve[Ee],De?De.p(ce,de):(De=Ve[Ee]=Ue[Ee](ce),De.c()),$e(De,1),De.m(t,null))},i(ce){$||($e(De),$=!0)},o(ce){lt(De),$=!1},d(ce){ce&&f(e),Ce&&Ce.d(),Ve[Ee].d(),he=!1,st(be)}}}function Qt(l){return{Acrobatics:"Acrobacias","Animal Handling":"Trato con Animales",Arcana:"Arcano",Athletics:"Atletismo",Deception:"Enga√±o",History:"Historia",Insight:"Perspicacia",Intimidation:"Intimidaci√≥n",Investigation:"Investigaci√≥n",Medicine:"Medicina",Nature:"Naturaleza",Perception:"Percepci√≥n",Performance:"Interpretaci√≥n",Persuasion:"Persuasi√≥n",Religion:"Religi√≥n","Sleight of Hand":"Juego de Manos",Stealth:"Sigilo",Survival:"Supervivencia"}[l]||l}function sn(l,e,t){let a,s,n,i,o,u,m,v,d,{character:b}=e,{isOwner:_=!1}=e,{showInventory:y=!1}=e;const g=Mt();let C="stats";const w={strength:"FUE",dexterity:"DES",constitution:"CON",intelligence:"INT",wisdom:"SAB",charisma:"CAR"},I={strength:"Fuerza",dexterity:"Destreza",constitution:"Constituci√≥n",intelligence:"Inteligencia",wisdom:"Sabidur√≠a",charisma:"Carisma"};function V(){g("edit",b)}function x(){g("delete",b)}function L(A){let S=o[A.ability]??0;return A.expertise?S+=i*2:A.proficient&&(S+=i),S}function N(A){const P=o[A];return b.savingThrows[A]?P+i:P}const T=()=>t(2,C="stats"),H=()=>t(2,C="inventory");return l.$$set=A=>{"character"in A&&t(0,b=A.character),"isOwner"in A&&t(1,_=A.isOwner),"showInventory"in A&&t(17,y=A.showInventory)},l.$$.update=()=>{l.$$.dirty[0]&1&&t(18,a=b.maxHp?b.currentHp/b.maxHp*100:0),l.$$.dirty[0]&262144&&t(10,s=a>50?"success":a>25?"warning":"error"),l.$$.dirty[0]&1&&t(9,n=Array.isArray(b.conditions)&&b.conditions.length>0),l.$$.dirty[0]&1&&t(3,i=Xt(b.level)),l.$$.dirty[0]&1&&t(4,o={strength:it(b.abilityScores.strength),dexterity:it(b.abilityScores.dexterity),constitution:it(b.abilityScores.constitution),intelligence:it(b.abilityScores.intelligence),wisdom:it(b.abilityScores.wisdom),charisma:it(b.abilityScores.charisma)}),l.$$.dirty[0]&1&&t(8,u=Object.keys(b.abilityScores)),l.$$.dirty[0]&1&&t(7,m=Object.keys(b.savingThrows)),l.$$.dirty[0]&1&&t(6,v=b.skills.filter(A=>A.proficient||A.expertise)),l.$$.dirty[0]&1&&t(5,d=b.skills.filter(A=>!A.proficient&&!A.expertise))},[b,_,C,i,o,d,v,m,u,n,s,w,I,V,x,L,N,y,a,T,H]}class Bs extends Dt{constructor(e){super(),wt(this,e,sn,an,It,{character:0,isOwner:1,showInventory:17},null,[-1,-1])}}function ls(l,e,t){const a=l.slice();return a[44]=e[t],a}function as(l,e,t){const a=l.slice();return a[47]=e[t],a}function ss(l,e,t){const a=l.slice();return a[47]=e[t],a[50]=e,a[51]=t,a}function rs(l,e,t){const a=l.slice();return a[52]=e[t],a[54]=t,a}function ns(l){let e,t,a,s,n="‚úï",i,o,u=l[2]?"‚úèÔ∏è Editar Personaje":"üßô‚Äç‚ôÇÔ∏è Crear Personaje",m,v,d,b,_,y,g,C,w,I,V,x,L,N,T,H,A,P,S,O=Ke(Array(Ct)),q=[];for(let Q=0;Q<O.length;Q+=1)q[Q]=is(rs(l,O,Q));function F(Q,te){if(Q[3]===1)return un;if(Q[3]===2)return cn;if(Q[3]===3)return on;if(Q[3]===4)return nn}let W=F(l),z=W&&W(l),U=l[3]===1&&os(l),se=l[3]===2&&ds(l),R=l[3]===3&&ms(l),G=l[3]===4&&_s(l);function X(Q,te){return Q[3]<Ct?dn:fn}let Z=X(l),J=Z(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("button"),s.textContent=n,i=D(),o=h("h3"),m=B(u),v=D(),d=h("div");for(let Q=0;Q<q.length;Q+=1)q[Q].c();b=D(),_=h("div"),z&&z.c(),y=D(),g=h("div"),U&&U.c(),C=D(),se&&se.c(),w=D(),R&&R.c(),I=D(),G&&G.c(),V=D(),x=h("div"),L=h("div"),N=h("button"),T=B("‚Üê Anterior"),A=D(),J.c(),this.h()},l(Q){e=p(Q,"DIV",{class:!0});var te=E(e);t=p(te,"DIV",{class:!0});var re=E(t);a=p(re,"DIV",{class:!0});var fe=E(a);s=p(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-drx0cs"&&(s.textContent=n),i=k(fe),o=p(fe,"H3",{class:!0});var pe=E(o);m=M(pe,u),pe.forEach(f),v=k(fe),d=p(fe,"DIV",{class:!0});var Ee=E(d);for(let Ue=0;Ue<q.length;Ue+=1)q[Ue].l(Ee);Ee.forEach(f),b=k(fe),_=p(fe,"DIV",{class:!0});var De=E(_);z&&z.l(De),De.forEach(f),fe.forEach(f),y=k(re),g=p(re,"DIV",{class:!0});var $=E(g);U&&U.l($),C=k($),se&&se.l($),w=k($),R&&R.l($),I=k($),G&&G.l($),$.forEach(f),V=k(re),x=p(re,"DIV",{class:!0});var he=E(x);L=p(he,"DIV",{class:!0});var be=E(L);N=p(be,"BUTTON",{class:!0});var Ce=E(N);T=M(Ce,"‚Üê Anterior"),Ce.forEach(f),A=k(be),J.l(be),be.forEach(f),he.forEach(f),re.forEach(f),te.forEach(f),this.h()},h(){c(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-3xl font-medieval text-neutral text-center mb-4"),c(d,"class","flex justify-between items-center mb-2"),c(_,"class","text-center text-sm text-neutral/70 font-body"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(g,"class","flex-1 overflow-y-auto p-6 svelte-p7d1us"),c(N,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),N.disabled=H=l[3]===1,c(L,"class","flex justify-between gap-4"),c(x,"class","p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-4xl max-h-[90vh] relative flex flex-col"),c(e,"class","modal modal-open z-50")},m(Q,te){j(Q,e,te),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),r(o,m),r(a,v),r(a,d);for(let re=0;re<q.length;re+=1)q[re]&&q[re].m(d,null);r(a,b),r(a,_),z&&z.m(_,null),r(t,y),r(t,g),U&&U.m(g,null),r(g,C),se&&se.m(g,null),r(g,w),R&&R.m(g,null),r(g,I),G&&G.m(g,null),r(t,V),r(t,x),r(x,L),r(L,N),r(N,T),r(L,A),J.m(L,null),P||(S=[le(s,"click",l[20]),le(N,"click",l[13])],P=!0)},p(Q,te){if(te[0]&4&&u!==(u=Q[2]?"‚úèÔ∏è Editar Personaje":"üßô‚Äç‚ôÇÔ∏è Crear Personaje")&&ee(m,u),te[0]&8){O=Ke(Array(Ct));let re;for(re=0;re<O.length;re+=1){const fe=rs(Q,O,re);q[re]?q[re].p(fe,te):(q[re]=is(fe),q[re].c(),q[re].m(d,null))}for(;re<q.length;re+=1)q[re].d(1);q.length=O.length}W!==(W=F(Q))&&(z&&z.d(1),z=W&&W(Q),z&&(z.c(),z.m(_,null))),Q[3]===1?U?U.p(Q,te):(U=os(Q),U.c(),U.m(g,C)):U&&(U.d(1),U=null),Q[3]===2?se?se.p(Q,te):(se=ds(Q),se.c(),se.m(g,w)):se&&(se.d(1),se=null),Q[3]===3?R?R.p(Q,te):(R=ms(Q),R.c(),R.m(g,I)):R&&(R.d(1),R=null),Q[3]===4?G?G.p(Q,te):(G=_s(Q),G.c(),G.m(g,null)):G&&(G.d(1),G=null),te[0]&8&&H!==(H=Q[3]===1)&&(N.disabled=H),Z===(Z=X(Q))&&J?J.p(Q,te):(J.d(1),J=Z(Q),J&&(J.c(),J.m(L,null)))},d(Q){Q&&f(e),at(q,Q),z&&z.d(),U&&U.d(),se&&se.d(),R&&R.d(),G&&G.d(),J.d(),P=!1,st(S)}}}function rn(l){let e,t;return{c(){e=h("div"),t=h("div"),this.h()},l(a){e=p(a,"DIV",{class:!0});var s=E(e);t=p(s,"DIV",{class:!0,style:!0}),E(t).forEach(f),s.forEach(f),this.h()},h(){c(t,"class","h-full bg-secondary rounded transition-all duration-300"),Yt(t,"width",l[3]>l[54]+1?"100%":"0%"),c(e,"class","flex-1 h-1 mx-2 bg-base-300 rounded")},m(a,s){j(a,e,s),r(e,t)},p(a,s){s[0]&8&&Yt(t,"width",a[3]>a[54]+1?"100%":"0%")},d(a){a&&f(e)}}}function is(l){let e,t,a=l[54]+1+"",s,n,i,o,u,m,v;function d(){return l[23](l[54])}let b=l[54]<Ct-1&&rn(l);return{c(){e=h("div"),t=h("button"),s=B(a),o=D(),b&&b.c(),u=D(),this.h()},l(_){e=p(_,"DIV",{class:!0});var y=E(e);t=p(y,"BUTTON",{class:!0});var g=E(t);s=M(g,a),g.forEach(f),o=k(y),b&&b.l(y),u=k(y),y.forEach(f),this.h()},h(){c(t,"class",n="btn btn-circle btn-sm "+(l[3]>l[54]+1?"btn-success":l[3]===l[54]+1?"btn-secondary":"btn-ghost")),t.disabled=i=l[54]+1>l[3],c(e,"class","flex items-center flex-1")},m(_,y){j(_,e,y),r(e,t),r(t,s),r(e,o),b&&b.m(e,null),r(e,u),m||(v=le(t,"click",d),m=!0)},p(_,y){l=_,y[0]&8&&n!==(n="btn btn-circle btn-sm "+(l[3]>l[54]+1?"btn-success":l[3]===l[54]+1?"btn-secondary":"btn-ghost"))&&c(t,"class",n),y[0]&8&&i!==(i=l[54]+1>l[3])&&(t.disabled=i),l[54]<Ct-1&&b.p(l,y)},d(_){_&&f(e),b&&b.d(),m=!1,v()}}}function nn(l){let e;return{c(){e=B("Competencias & Salvaciones")},l(t){e=M(t,"Competencias & Salvaciones")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function on(l){let e;return{c(){e=B("Puntuaciones de Habilidad")},l(t){e=M(t,"Puntuaciones de Habilidad")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function cn(l){let e;return{c(){e=B("Estad√≠sticas de Combate")},l(t){e=M(t,"Estad√≠sticas de Combate")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function un(l){let e;return{c(){e=B("Informaci√≥n B√°sica")},l(t){e=M(t,"Informaci√≥n B√°sica")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function os(l){let e,t,a,s='<span class="label-text font-medieval text-neutral text-lg">Nombre <span class="text-error">*</span></span>',n,i,o,u,m,v,d,b,_='<span class="label-text font-medieval text-neutral text-lg">Clase <span class="text-error">*</span></span>',y,g,C,w,I,V,x,L='<span class="label-text font-medieval text-neutral text-lg">Nivel <span class="text-error">*</span></span>',N,T,H,A,P,S,O,q,F,W,z,U="Calculado autom√°ticamente seg√∫n tu nivel",se,R,G=l[4].name&&l[5].name&&cs(l),X=l[4].class&&l[5].class&&us(l),Z=l[4].level&&l[5].level&&fs(l);return{c(){e=h("div"),t=h("div"),a=h("label"),a.innerHTML=s,n=D(),i=h("input"),u=D(),G&&G.c(),m=D(),v=h("div"),d=h("div"),b=h("label"),b.innerHTML=_,y=D(),g=h("input"),w=D(),X&&X.c(),I=D(),V=h("div"),x=h("label"),x.innerHTML=L,N=D(),T=h("input"),A=D(),Z&&Z.c(),P=D(),S=h("div"),O=h("p"),q=B("Bonus de Competencia: +"),F=B(l[7]),W=D(),z=h("p"),z.textContent=U,this.h()},l(J){e=p(J,"DIV",{class:!0});var Q=E(e);t=p(Q,"DIV",{class:!0});var te=E(t);a=p(te,"LABEL",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-euejpb"&&(a.innerHTML=s),n=k(te),i=p(te,"INPUT",{type:!0,placeholder:!0,class:!0}),u=k(te),G&&G.l(te),te.forEach(f),m=k(Q),v=p(Q,"DIV",{class:!0});var re=E(v);d=p(re,"DIV",{class:!0});var fe=E(d);b=p(fe,"LABEL",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-qka7hk"&&(b.innerHTML=_),y=k(fe),g=p(fe,"INPUT",{type:!0,placeholder:!0,class:!0}),w=k(fe),X&&X.l(fe),fe.forEach(f),I=k(re),V=p(re,"DIV",{class:!0});var pe=E(V);x=p(pe,"LABEL",{class:!0,"data-svelte-h":!0}),K(x)!=="svelte-1karhsq"&&(x.innerHTML=L),N=k(pe),T=p(pe,"INPUT",{type:!0,min:!0,max:!0,class:!0}),A=k(pe),Z&&Z.l(pe),pe.forEach(f),re.forEach(f),P=k(Q),S=p(Q,"DIV",{class:!0});var Ee=E(S);O=p(Ee,"P",{class:!0});var De=E(O);q=M(De,"Bonus de Competencia: +"),F=M(De,l[7]),De.forEach(f),W=k(Ee),z=p(Ee,"P",{class:!0,"data-svelte-h":!0}),K(z)!=="svelte-6wk9r6"&&(z.textContent=U),Ee.forEach(f),Q.forEach(f),this.h()},h(){c(a,"class","label"),c(i,"type","text"),c(i,"placeholder","Ej: Gandalf el Gris"),c(i,"class",o="input input-bordered bg-[#2d241c] text-base-content "+(l[4].name&&l[5].name?"border-error border-2":"border-primary/50")),c(t,"class","form-control"),c(b,"class","label"),c(g,"type","text"),c(g,"placeholder","Ej: Mago"),c(g,"class",C="input input-bordered bg-[#2d241c] text-base-content "+(l[4].class&&l[5].class?"border-error border-2":"border-primary/50")),c(d,"class","form-control"),c(x,"class","label"),c(T,"type","number"),c(T,"min","1"),c(T,"max","20"),c(T,"class",H="input input-bordered bg-[#2d241c] text-base-content "+(l[4].level&&l[5].level?"border-error border-2":"border-primary/50")),c(V,"class","form-control"),c(v,"class","grid grid-cols-2 gap-4"),c(O,"class","text-sm font-medieval text-neutral mb-1"),c(z,"class","text-xs text-neutral/70"),c(S,"class","bg-info/10 p-4 rounded-lg border border-info/30"),c(e,"class","space-y-4")},m(J,Q){j(J,e,Q),r(e,t),r(t,a),r(t,n),r(t,i),Ie(i,l[0].name),r(t,u),G&&G.m(t,null),r(e,m),r(e,v),r(v,d),r(d,b),r(d,y),r(d,g),Ie(g,l[0].class),r(d,w),X&&X.m(d,null),r(v,I),r(v,V),r(V,x),r(V,N),r(V,T),Ie(T,l[0].level),r(V,A),Z&&Z.m(V,null),r(e,P),r(e,S),r(S,O),r(O,q),r(O,F),r(S,W),r(S,z),se||(R=[le(i,"input",l[24]),le(i,"blur",l[25]),le(g,"input",l[26]),le(g,"blur",l[27]),le(T,"input",l[28]),le(T,"blur",l[29])],se=!0)},p(J,Q){Q[0]&48&&o!==(o="input input-bordered bg-[#2d241c] text-base-content "+(J[4].name&&J[5].name?"border-error border-2":"border-primary/50"))&&c(i,"class",o),Q[0]&1&&i.value!==J[0].name&&Ie(i,J[0].name),J[4].name&&J[5].name?G?G.p(J,Q):(G=cs(J),G.c(),G.m(t,null)):G&&(G.d(1),G=null),Q[0]&48&&C!==(C="input input-bordered bg-[#2d241c] text-base-content "+(J[4].class&&J[5].class?"border-error border-2":"border-primary/50"))&&c(g,"class",C),Q[0]&1&&g.value!==J[0].class&&Ie(g,J[0].class),J[4].class&&J[5].class?X?X.p(J,Q):(X=us(J),X.c(),X.m(d,null)):X&&(X.d(1),X=null),Q[0]&48&&H!==(H="input input-bordered bg-[#2d241c] text-base-content "+(J[4].level&&J[5].level?"border-error border-2":"border-primary/50"))&&c(T,"class",H),Q[0]&1&&Re(T.value)!==J[0].level&&Ie(T,J[0].level),J[4].level&&J[5].level?Z?Z.p(J,Q):(Z=fs(J),Z.c(),Z.m(V,null)):Z&&(Z.d(1),Z=null),Q[0]&128&&ee(F,J[7])},d(J){J&&f(e),G&&G.d(),X&&X.d(),Z&&Z.d(),se=!1,st(R)}}}function cs(l){let e,t,a,s=l[4].name+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].name+"")&&ee(n,s)},d(i){i&&f(e)}}}function us(l){let e,t,a,s=l[4].class+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].class+"")&&ee(n,s)},d(i){i&&f(e)}}}function fs(l){let e,t,a,s=l[4].level+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].level+"")&&ee(n,s)},d(i){i&&f(e)}}}function ds(l){let e,t,a,s,n='<span class="label-text font-medieval text-neutral text-lg">HP M√°ximo <span class="text-error">*</span></span>',i,o,u,m,v,d,b,_='<span class="label-text font-medieval text-neutral text-lg">Clase de Armadura <span class="text-error">*</span></span>',y,g,C,w,I,V,x,L,N='<span class="label-text font-medieval text-neutral text-lg">Iniciativa <span class="text-error">*</span></span>',T,H,A,P,S='<span class="label-text-alt text-neutral/60 italic text-xs">Normalmente es tu modificador de Destreza</span>',O,q,F,W='<span class="label-text font-medieval text-neutral text-lg">Velocidad (pies) <span class="text-error">*</span></span>',z,U,se,R,G='<span class="label-text-alt text-neutral/60 italic text-xs">Velocidad de movimiento (t√≠picamente 30 pies)</span>',X,Z,J=l[4].maxHp&&l[5].maxHp&&ps(l),Q=l[4].armorClass&&l[5].armorClass&&hs(l);return{c(){e=h("div"),t=h("div"),a=h("div"),s=h("label"),s.innerHTML=n,i=D(),o=h("input"),m=D(),J&&J.c(),v=D(),d=h("div"),b=h("label"),b.innerHTML=_,y=D(),g=h("input"),w=D(),Q&&Q.c(),I=D(),V=h("div"),x=h("div"),L=h("label"),L.innerHTML=N,T=D(),H=h("input"),A=D(),P=h("label"),P.innerHTML=S,O=D(),q=h("div"),F=h("label"),F.innerHTML=W,z=D(),U=h("input"),se=D(),R=h("label"),R.innerHTML=G,this.h()},l(te){e=p(te,"DIV",{class:!0});var re=E(e);t=p(re,"DIV",{class:!0});var fe=E(t);a=p(fe,"DIV",{class:!0});var pe=E(a);s=p(pe,"LABEL",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-1ofltub"&&(s.innerHTML=n),i=k(pe),o=p(pe,"INPUT",{type:!0,min:!0,max:!0,class:!0}),m=k(pe),J&&J.l(pe),pe.forEach(f),v=k(fe),d=p(fe,"DIV",{class:!0});var Ee=E(d);b=p(Ee,"LABEL",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-15v8112"&&(b.innerHTML=_),y=k(Ee),g=p(Ee,"INPUT",{type:!0,min:!0,max:!0,class:!0}),w=k(Ee),Q&&Q.l(Ee),Ee.forEach(f),fe.forEach(f),I=k(re),V=p(re,"DIV",{class:!0});var De=E(V);x=p(De,"DIV",{class:!0});var $=E(x);L=p($,"LABEL",{class:!0,"data-svelte-h":!0}),K(L)!=="svelte-plf961"&&(L.innerHTML=N),T=k($),H=p($,"INPUT",{type:!0,min:!0,max:!0,class:!0}),A=k($),P=p($,"LABEL",{class:!0,"data-svelte-h":!0}),K(P)!=="svelte-lg0g9n"&&(P.innerHTML=S),$.forEach(f),O=k(De),q=p(De,"DIV",{class:!0});var he=E(q);F=p(he,"LABEL",{class:!0,"data-svelte-h":!0}),K(F)!=="svelte-1kw08t7"&&(F.innerHTML=W),z=k(he),U=p(he,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),se=k(he),R=p(he,"LABEL",{class:!0,"data-svelte-h":!0}),K(R)!=="svelte-1kivwb9"&&(R.innerHTML=G),he.forEach(f),De.forEach(f),re.forEach(f),this.h()},h(){c(s,"class","label"),c(o,"type","number"),c(o,"min","1"),c(o,"max","999"),c(o,"class",u="input input-bordered bg-[#2d241c] text-base-content "+(l[4].maxHp&&l[5].maxHp?"border-error border-2":"border-primary/50")),c(a,"class","form-control"),c(b,"class","label"),c(g,"type","number"),c(g,"min","1"),c(g,"max","30"),c(g,"class",C="input input-bordered bg-[#2d241c] text-base-content "+(l[4].armorClass&&l[5].armorClass?"border-error border-2":"border-primary/50")),c(d,"class","form-control"),c(t,"class","grid grid-cols-2 gap-4"),c(L,"class","label"),c(H,"type","number"),c(H,"min","-5"),c(H,"max","15"),c(H,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(P,"class","label"),c(x,"class","form-control"),c(F,"class","label"),c(U,"type","number"),c(U,"min","0"),c(U,"max","120"),c(U,"step","5"),c(U,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(R,"class","label"),c(q,"class","form-control"),c(V,"class","grid grid-cols-2 gap-4"),c(e,"class","space-y-4")},m(te,re){j(te,e,re),r(e,t),r(t,a),r(a,s),r(a,i),r(a,o),Ie(o,l[0].maxHp),r(a,m),J&&J.m(a,null),r(t,v),r(t,d),r(d,b),r(d,y),r(d,g),Ie(g,l[0].armorClass),r(d,w),Q&&Q.m(d,null),r(e,I),r(e,V),r(V,x),r(x,L),r(x,T),r(x,H),Ie(H,l[0].initiative),r(x,A),r(x,P),r(V,O),r(V,q),r(q,F),r(q,z),r(q,U),Ie(U,l[0].speed),r(q,se),r(q,R),X||(Z=[le(o,"input",l[30]),le(o,"blur",l[31]),le(g,"input",l[32]),le(g,"blur",l[33]),le(H,"input",l[34]),le(U,"input",l[35]),le(U,"blur",l[36])],X=!0)},p(te,re){re[0]&48&&u!==(u="input input-bordered bg-[#2d241c] text-base-content "+(te[4].maxHp&&te[5].maxHp?"border-error border-2":"border-primary/50"))&&c(o,"class",u),re[0]&1&&Re(o.value)!==te[0].maxHp&&Ie(o,te[0].maxHp),te[4].maxHp&&te[5].maxHp?J?J.p(te,re):(J=ps(te),J.c(),J.m(a,null)):J&&(J.d(1),J=null),re[0]&48&&C!==(C="input input-bordered bg-[#2d241c] text-base-content "+(te[4].armorClass&&te[5].armorClass?"border-error border-2":"border-primary/50"))&&c(g,"class",C),re[0]&1&&Re(g.value)!==te[0].armorClass&&Ie(g,te[0].armorClass),te[4].armorClass&&te[5].armorClass?Q?Q.p(te,re):(Q=hs(te),Q.c(),Q.m(d,null)):Q&&(Q.d(1),Q=null),re[0]&1&&Re(H.value)!==te[0].initiative&&Ie(H,te[0].initiative),re[0]&1&&Re(U.value)!==te[0].speed&&Ie(U,te[0].speed)},d(te){te&&f(e),J&&J.d(),Q&&Q.d(),X=!1,st(Z)}}}function ps(l){let e,t,a,s=l[4].maxHp+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].maxHp+"")&&ee(n,s)},d(i){i&&f(e)}}}function hs(l){let e,t,a,s=l[4].armorClass+"",n;return{c(){e=h("label"),t=h("span"),a=B("‚ö†Ô∏è "),n=B(s),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=E(e);t=p(o,"SPAN",{class:!0});var u=E(t);a=M(u,"‚ö†Ô∏è "),n=M(u,s),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),r(e,t),r(t,a),r(t,n)},p(i,o){o[0]&16&&s!==(s=i[4].armorClass+"")&&ee(n,s)},d(i){i&&f(e)}}}function ms(l){let e,t,a=Ke(l[9]),s=[];for(let n=0;n<a.length;n+=1)s[n]=bs(ss(l,a,n));return{c(){e=h("div"),t=h("div");for(let n=0;n<s.length;n+=1)s[n].c();this.h()},l(n){e=p(n,"DIV",{class:!0});var i=E(e);t=p(i,"DIV",{class:!0});var o=E(t);for(let u=0;u<s.length;u+=1)s[u].l(o);o.forEach(f),i.forEach(f),this.h()},h(){c(t,"class","grid grid-cols-2 md:grid-cols-3 gap-4"),c(e,"class","space-y-4")},m(n,i){j(n,e,i),r(e,t);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(t,null)},p(n,i){if(i[0]&6291969){a=Ke(n[9]);let o;for(o=0;o<a.length;o+=1){const u=ss(n,a,o);s[o]?s[o].p(u,i):(s[o]=bs(u),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=a.length}},d(n){n&&f(e),at(s,n)}}}function vs(l){let e,t,a,s=l[22][l[47]]+"",n,i,o,u=l[21][l[47]]+"",m,v,d,b,_,y,g,C=ot(it(l[0].abilityScores[l[47]]))+"",w,I,V,x="modificador",L,N,T;function H(){l[37].call(b,l[47])}return{c(){e=h("div"),t=h("label"),a=h("span"),n=B(s),i=D(),o=h("span"),m=B(u),v=D(),d=h("div"),b=h("input"),_=D(),y=h("div"),g=h("div"),w=B(C),I=D(),V=h("div"),V.textContent=x,L=D(),this.h()},l(A){e=p(A,"DIV",{class:!0});var P=E(e);t=p(P,"LABEL",{class:!0});var S=E(t);a=p(S,"SPAN",{class:!0});var O=E(a);n=M(O,s),O.forEach(f),i=k(S),o=p(S,"SPAN",{class:!0});var q=E(o);m=M(q,u),q.forEach(f),S.forEach(f),v=k(P),d=p(P,"DIV",{class:!0});var F=E(d);b=p(F,"INPUT",{type:!0,min:!0,max:!0,class:!0}),_=k(F),y=p(F,"DIV",{class:!0});var W=E(y);g=p(W,"DIV",{class:!0});var z=E(g);w=M(z,C),z.forEach(f),I=k(W),V=p(W,"DIV",{class:!0,"data-svelte-h":!0}),K(V)!=="svelte-9uusst"&&(V.textContent=x),W.forEach(f),F.forEach(f),L=k(P),P.forEach(f),this.h()},h(){c(a,"class","label-text font-medieval text-neutral font-bold"),c(o,"class","badge badge-secondary"),c(t,"class","label pb-2"),c(b,"type","number"),c(b,"min","1"),c(b,"max","30"),c(b,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-20 text-center text-lg font-bold"),c(g,"class","text-2xl font-bold text-neutral"),c(V,"class","text-xs text-neutral/60"),c(y,"class","flex-1 text-center"),c(d,"class","flex items-center gap-2"),c(e,"class","bg-gradient-to-br from-primary/10 to-accent/10 p-4 rounded-lg border-2 border-primary/30")},m(A,P){j(A,e,P),r(e,t),r(t,a),r(a,n),r(t,i),r(t,o),r(o,m),r(e,v),r(e,d),r(d,b),Ie(b,l[0].abilityScores[l[47]]),r(d,_),r(d,y),r(y,g),r(g,w),r(y,I),r(y,V),r(e,L),N||(T=le(b,"input",H),N=!0)},p(A,P){l=A,P[0]&512&&s!==(s=l[22][l[47]]+"")&&ee(n,s),P[0]&512&&u!==(u=l[21][l[47]]+"")&&ee(m,u),P[0]&513&&Re(b.value)!==l[0].abilityScores[l[47]]&&Ie(b,l[0].abilityScores[l[47]]),P[0]&513&&C!==(C=ot(it(l[0].abilityScores[l[47]]))+"")&&ee(w,C)},d(A){A&&f(e),N=!1,T()}}}function bs(l){let e,t=l[0].abilityScores[l[47]]!==void 0&&vs(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,s){t&&t.m(a,s),j(a,e,s)},p(a,s){a[0].abilityScores[a[47]]!==void 0?t?t.p(a,s):(t=vs(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(a){a&&f(e),t&&t.d(a)}}}function _s(l){let e,t,a,s="üõ°Ô∏è Tiradas de Salvaci√≥n",n,i,o,u,m="‚öîÔ∏è",v,d,b,_="üéØ Habilidades",y,g,C=Ke(l[8]),w=[];for(let x=0;x<C.length;x+=1)w[x]=gs(as(l,C,x));let I=Ke(zt),V=[];for(let x=0;x<I.length;x+=1)V[x]=Cs(ls(l,I,x));return{c(){e=h("div"),t=h("div"),a=h("h4"),a.textContent=s,n=D(),i=h("div");for(let x=0;x<w.length;x+=1)w[x].c();o=D(),u=h("div"),u.textContent=m,v=D(),d=h("div"),b=h("h4"),b.textContent=_,y=D(),g=h("div");for(let x=0;x<V.length;x+=1)V[x].c();this.h()},l(x){e=p(x,"DIV",{class:!0});var L=E(e);t=p(L,"DIV",{});var N=E(t);a=p(N,"H4",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-uh7kas"&&(a.textContent=s),n=k(N),i=p(N,"DIV",{class:!0});var T=E(i);for(let P=0;P<w.length;P+=1)w[P].l(T);T.forEach(f),N.forEach(f),o=k(L),u=p(L,"DIV",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-uzv0g8"&&(u.textContent=m),v=k(L),d=p(L,"DIV",{});var H=E(d);b=p(H,"H4",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-1y79s75"&&(b.textContent=_),y=k(H),g=p(H,"DIV",{class:!0});var A=E(g);for(let P=0;P<V.length;P+=1)V[P].l(A);A.forEach(f),H.forEach(f),L.forEach(f),this.h()},h(){c(a,"class","font-medieval text-xl text-neutral mb-3 flex items-center gap-2"),c(i,"class","grid grid-cols-2 md:grid-cols-3 gap-3"),c(u,"class","divider text-neutral/50"),c(b,"class","font-medieval text-xl text-neutral mb-3 flex items-center gap-2"),c(g,"class","space-y-2 max-h-96 overflow-y-auto pr-2 svelte-p7d1us"),c(e,"class","space-y-6")},m(x,L){j(x,e,L),r(e,t),r(t,a),r(t,n),r(t,i);for(let N=0;N<w.length;N+=1)w[N]&&w[N].m(i,null);r(e,o),r(e,u),r(e,v),r(e,d),r(d,b),r(d,y),r(d,g);for(let N=0;N<V.length;N+=1)V[N]&&V[N].m(g,null)},p(x,L){if(L[0]&4473089){C=Ke(x[8]);let N;for(N=0;N<C.length;N+=1){const T=as(x,C,N);w[N]?w[N].p(T,L):(w[N]=gs(T),w[N].c(),w[N].m(i,null))}for(;N<w.length;N+=1)w[N].d(1);w.length=C.length}if(L[0]&4424704){I=Ke(zt);let N;for(N=0;N<I.length;N+=1){const T=ls(x,I,N);V[N]?V[N].p(T,L):(V[N]=Cs(T),V[N].c(),V[N].m(g,null))}for(;N<V.length;N+=1)V[N].d(1);V.length=I.length}},d(x){x&&f(e),at(w,x),at(V,x)}}}function gs(l){let e,t,a,s,n,i,o=l[22][l[47]]+"",u,m,v,d=ot(l[18](l[47]))+"",b,_,y,g,C;function w(){return l[38](l[47])}return{c(){e=h("label"),t=h("input"),s=D(),n=h("div"),i=h("div"),u=B(o),m=D(),v=h("div"),b=B(d),_=D(),this.h()},l(I){e=p(I,"LABEL",{class:!0});var V=E(e);t=p(V,"INPUT",{type:!0,class:!0}),s=k(V),n=p(V,"DIV",{class:!0});var x=E(n);i=p(x,"DIV",{class:!0});var L=E(i);u=M(L,o),L.forEach(f),m=k(x),v=p(x,"DIV",{class:!0});var N=E(v);b=M(N,d),N.forEach(f),x.forEach(f),_=k(V),V.forEach(f),this.h()},h(){c(t,"type","checkbox"),t.checked=a=l[0].savingThrows[l[47]],c(t,"class","checkbox checkbox-sm checkbox-success"),c(i,"class","font-medieval text-sm"),c(v,"class","text-xs text-neutral/70"),c(n,"class","flex-1"),c(e,"class",y="flex items-center gap-2 p-3 rounded-lg border-2 cursor-pointer transition-all "+(l[0].savingThrows[l[47]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))},m(I,V){j(I,e,V),r(e,t),r(e,s),r(e,n),r(n,i),r(i,u),r(n,m),r(n,v),r(v,b),r(e,_),g||(C=le(t,"change",w),g=!0)},p(I,V){l=I,V[0]&257&&a!==(a=l[0].savingThrows[l[47]])&&(t.checked=a),V[0]&256&&o!==(o=l[22][l[47]]+"")&&ee(u,o),V[0]&256&&d!==(d=ot(l[18](l[47]))+"")&&ee(b,d),V[0]&257&&y!==(y="flex items-center gap-2 p-3 rounded-lg border-2 cursor-pointer transition-all "+(l[0].savingThrows[l[47]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))&&c(e,"class",y)},d(I){I&&f(e),g=!1,C()}}}function ys(l){let e,t,a,s,n,i,o,u=l[44].label+"",m,v,d,b=l[22][l[44].ability]+"",_,y,g=ot(l[17](l[10][l[44].name]))+"",C,w,I,V,x,L;function N(){return l[39](l[44])}let T=l[10][l[44].name].proficient&&Es(l);return{c(){e=h("div"),t=h("label"),a=h("input"),n=D(),i=h("div"),o=h("div"),m=B(u),v=D(),d=h("div"),_=B(b),y=B(" ‚Ä¢ "),C=B(g),w=D(),T&&T.c(),I=D(),this.h()},l(H){e=p(H,"DIV",{class:!0});var A=E(e);t=p(A,"LABEL",{class:!0});var P=E(t);a=p(P,"INPUT",{type:!0,class:!0}),n=k(P),i=p(P,"DIV",{class:!0});var S=E(i);o=p(S,"DIV",{class:!0});var O=E(o);m=M(O,u),O.forEach(f),v=k(S),d=p(S,"DIV",{class:!0});var q=E(d);_=M(q,b),y=M(q," ‚Ä¢ "),C=M(q,g),q.forEach(f),S.forEach(f),P.forEach(f),w=k(A),T&&T.l(A),I=k(A),A.forEach(f),this.h()},h(){c(a,"type","checkbox"),a.checked=s=l[10][l[44].name].proficient||!1,c(a,"class","checkbox checkbox-sm checkbox-success"),c(o,"class","font-medieval text-sm"),c(d,"class","text-xs text-neutral/70"),c(i,"class","flex-1"),c(t,"class","flex items-center gap-2 cursor-pointer flex-1"),c(e,"class",V="flex items-center gap-2 p-3 rounded-lg border-2 transition-all "+(l[10][l[44].name].expertise?"bg-warning/20 border-warning":l[10][l[44].name].proficient?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))},m(H,A){j(H,e,A),r(e,t),r(t,a),r(t,n),r(t,i),r(i,o),r(o,m),r(i,v),r(i,d),r(d,_),r(d,y),r(d,C),r(e,w),T&&T.m(e,null),r(e,I),x||(L=le(a,"change",N),x=!0)},p(H,A){l=H,A[0]&1024&&s!==(s=l[10][l[44].name].proficient||!1)&&(a.checked=s),A[0]&1024&&g!==(g=ot(l[17](l[10][l[44].name]))+"")&&ee(C,g),l[10][l[44].name].proficient?T?T.p(l,A):(T=Es(l),T.c(),T.m(e,I)):T&&(T.d(1),T=null),A[0]&1024&&V!==(V="flex items-center gap-2 p-3 rounded-lg border-2 transition-all "+(l[10][l[44].name].expertise?"bg-warning/20 border-warning":l[10][l[44].name].proficient?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))&&c(e,"class",V)},d(H){H&&f(e),T&&T.d(),x=!1,L()}}}function Es(l){let e,t,a,s,n;function i(){return l[40](l[44])}return{c(){e=h("button"),t=B("‚òÖ"),this.h()},l(o){e=p(o,"BUTTON",{class:!0,title:!0});var u=E(e);t=M(u,"‚òÖ"),u.forEach(f),this.h()},h(){c(e,"class",a="btn btn-xs "+(l[10][l[44].name].expertise?"btn-warning":"btn-ghost")),c(e,"title","Expertise (x2 proficiency)")},m(o,u){j(o,e,u),r(e,t),s||(n=le(e,"click",i),s=!0)},p(o,u){l=o,u[0]&1024&&a!==(a="btn btn-xs "+(l[10][l[44].name].expertise?"btn-warning":"btn-ghost"))&&c(e,"class",a)},d(o){o&&f(e),s=!1,n()}}}function Cs(l){let e,t=l[10][l[44].name]&&ys(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,s){t&&t.m(a,s),j(a,e,s)},p(a,s){a[10][a[44].name]?t?t.p(a,s):(t=ys(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(a){a&&f(e),t&&t.d(a)}}}function fn(l){let e,t,a=l[2]?"üíæ":"‚ú®",s,n,i=l[2]?"Guardar Cambios":"Crear Personaje",o,u,m,v;return{c(){e=h("button"),t=h("span"),s=B(a),n=D(),o=B(i),this.h()},l(d){e=p(d,"BUTTON",{class:!0,type:!0});var b=E(e);t=p(b,"SPAN",{class:!0});var _=E(t);s=M(_,a),_.forEach(f),n=k(b),o=M(b,i),b.forEach(f),this.h()},h(){c(t,"class","text-xl"),c(e,"class","btn btn-dnd"),e.disabled=u=!l[6],c(e,"type","button")},m(d,b){j(d,e,b),r(e,t),r(t,s),r(e,n),r(e,o),m||(v=le(e,"click",l[19]),m=!0)},p(d,b){b[0]&4&&a!==(a=d[2]?"üíæ":"‚ú®")&&ee(s,a),b[0]&4&&i!==(i=d[2]?"Guardar Cambios":"Crear Personaje")&&ee(o,i),b[0]&64&&u!==(u=!d[6])&&(e.disabled=u)},d(d){d&&f(e),m=!1,v()}}}function dn(l){let e,t,a,s,n;return{c(){e=h("button"),t=B("Siguiente ‚Üí"),this.h()},l(i){e=p(i,"BUTTON",{class:!0,type:!0});var o=E(e);t=M(o,"Siguiente ‚Üí"),o.forEach(f),this.h()},h(){c(e,"class","btn btn-dnd"),e.disabled=a=!l[6],c(e,"type","button")},m(i,o){j(i,e,o),r(e,t),s||(n=le(e,"click",l[12]),s=!0)},p(i,o){o[0]&64&&a!==(a=!i[6])&&(e.disabled=a)},d(i){i&&f(e),s=!1,n()}}}function pn(l){let e,t=l[1]&&ns(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,s){t&&t.m(a,s),j(a,e,s)},p(a,s){a[1]?t?t.p(a,s):(t=ns(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:We,o:We,d(a){a&&f(e),t&&t.d(a)}}}const Ct=4;function hn(l,e,t){let a,s,n,i,o,u,{isOpen:m=!1}=e,{isEdit:v=!1}=e,{form:d}=e;const b=Mt();let _=1,y={name:"",class:"",level:"",maxHp:"",armorClass:"",speed:""},g={name:!1,class:!1,level:!1,maxHp:!1,armorClass:!1,speed:!1};function C($){t(5,g[$]=!0,g)}function w(){if(!u){_===1?(t(5,g.name=!0,g),t(5,g.class=!0,g),t(5,g.level=!0,g)):_===2&&(t(5,g.maxHp=!0,g),t(5,g.armorClass=!0,g),t(5,g.speed=!0,g));return}_<Ct&&t(3,_++,_)}function I(){_>1&&t(3,_--,_)}function V($){t(0,d.savingThrows[$]=!d.savingThrows[$],d)}function x($){const he=d.skills.findIndex(Ue=>Ue.name===$);if(he===-1){console.error(`Skill not found: ${$}`);return}const be=[...d.skills],Ce=be[he].proficient;be[he]={...be[he],proficient:!Ce,expertise:Ce?!1:be[he].expertise},t(0,d.skills=be,d)}function L($){const he=d.skills.findIndex(Ce=>Ce.name===$);if(he===-1){console.error(`Skill not found: ${$}`);return}if(!d.skills[he].proficient){console.warn(`‚ö†Ô∏è Cannot toggle expertise: ${$} is not proficient`);return}const be=[...d.skills];be[he]={...be[he],expertise:!be[he].expertise},t(0,d.skills=be,d)}function N($){if(!$)return 0;let be=s[$.ability];return $.expertise?be+=a*2:$.proficient&&(be+=a),be}function T($){const he=s[$];return d.savingThrows[$]?he+a:he}function H(){Object.keys(g).forEach($=>{t(5,g[$]=!0,g)});for(let $=1;$<=Ct;$++)if(t(3,_=$),!u)return;b("submit",d),A()}function A(){Object.keys(g).forEach($=>{t(5,g[$]=!1,g)}),Object.keys(y).forEach($=>{t(4,y[$]="",y)}),t(3,_=1)}function P(){A(),b("close")}const S={strength:"FUE",dexterity:"DES",constitution:"CON",intelligence:"INT",wisdom:"SAB",charisma:"CAR"},O={strength:"Fuerza",dexterity:"Destreza",constitution:"Constituci√≥n",intelligence:"Inteligencia",wisdom:"Sabidur√≠a",charisma:"Carisma"},q=$=>t(3,_=$+1);function F(){d.name=this.value,t(0,d)}const W=()=>C("name");function z(){d.class=this.value,t(0,d)}const U=()=>C("class");function se(){d.level=Re(this.value),t(0,d)}const R=()=>C("level");function G(){d.maxHp=Re(this.value),t(0,d)}const X=()=>C("maxHp");function Z(){d.armorClass=Re(this.value),t(0,d)}const J=()=>C("armorClass");function Q(){d.initiative=Re(this.value),t(0,d)}function te(){d.speed=Re(this.value),t(0,d)}const re=()=>C("speed");function fe($){d.abilityScores[$]=Re(this.value),t(0,d)}const pe=$=>V($),Ee=$=>x($.name),De=$=>L($.name);return l.$$set=$=>{"isOpen"in $&&t(1,m=$.isOpen),"isEdit"in $&&t(2,v=$.isEdit),"form"in $&&t(0,d=$.form)},l.$$.update=()=>{if(l.$$.dirty[0]&1&&t(7,a=Xt(d.level)),l.$$.dirty[0]&1&&(s={strength:it(d.abilityScores.strength),dexterity:it(d.abilityScores.dexterity),constitution:it(d.abilityScores.constitution),intelligence:it(d.abilityScores.intelligence),wisdom:it(d.abilityScores.wisdom),charisma:it(d.abilityScores.charisma)}),l.$$.dirty[0]&1&&t(10,n=d!=null&&d.skills?d.skills.reduce(($,he)=>($[he.name]=he,$),{}):{}),l.$$.dirty[0]&1&&t(9,i=Object.keys(d.abilityScores)),l.$$.dirty[0]&1&&t(8,o=Object.keys(d.savingThrows)),l.$$.dirty[0]&1){const $=Js(d.name);t(4,y.name=$.error||"",y),!d.class||d.class.trim().length<2?t(4,y.class="La clase debe tener al menos 2 caracteres",y):d.class.trim().length>50?t(4,y.class="La clase no puede tener m√°s de 50 caracteres",y):t(4,y.class="",y);const he=Ks(d.level);t(4,y.level=he.error||"",y);const be=Ws(d.maxHp);t(4,y.maxHp=be.error||"",y);const Ce=Xs(d.armorClass);t(4,y.armorClass=Ce.error||"",y),d.speed<0?t(4,y.speed="La velocidad no puede ser negativa",y):d.speed>120?t(4,y.speed="La velocidad m√°xima es 120 pies",y):t(4,y.speed="",y)}l.$$.dirty[0]&25&&t(6,u=(()=>{switch(_){case 1:{const $=d.name.trim()!==""&&!y.name,he=d.class.trim()!==""&&d.class.trim().length>=2&&!y.class,be=d.level>=1&&d.level<=20&&!y.level;return $&&he&&be}case 2:return d.maxHp>0&&d.armorClass>0&&d.speed>=0&&!y.maxHp&&!y.armorClass&&!y.speed;case 3:return Object.values(d.abilityScores).every(he=>he>=1&&he<=30);case 4:return!0;default:return!1}})())},[d,m,v,_,y,g,u,a,o,i,n,C,w,I,V,x,L,N,T,H,P,S,O,q,F,W,z,U,se,R,G,X,Z,J,Q,te,re,fe,pe,Ee,De]}class mn extends Dt{constructor(e){super(),wt(this,e,hn,pn,It,{isOpen:1,isEdit:2,form:0},null,[-1,-1])}}function ks(l,e,t){const a=l.slice();return a[30]=e[t],a}function Ds(l){let e,t,a,s,n,i,o,u,m="‚úï",v,d;return{c(){e=h("div"),t=Ut("svg"),a=Ut("path"),s=D(),n=h("span"),i=B(l[1]),o=D(),u=h("button"),u.textContent=m,this.h()},l(b){e=p(b,"DIV",{class:!0});var _=E(e);t=Ft(_,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var y=E(t);a=Ft(y,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),E(a).forEach(f),y.forEach(f),s=k(_),n=p(_,"SPAN",{});var g=E(n);i=M(g,l[1]),g.forEach(f),o=k(_),u=p(_,"BUTTON",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-4f72mu"&&(u.textContent=m),_.forEach(f),this.h()},h(){c(a,"fill-rule","evenodd"),c(a,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"),c(a,"clip-rule","evenodd"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-5 w-5"),c(t,"viewBox","0 0 20 20"),c(t,"fill","currentColor"),c(u,"class","btn btn-sm btn-ghost"),c(e,"class","alert alert-error mb-6")},m(b,_){j(b,e,_),r(e,t),r(t,a),r(e,s),r(e,n),r(n,i),r(e,o),r(e,u),v||(d=le(u,"click",l[15]),v=!0)},p(b,_){_[0]&2&&ee(i,b[1])},d(b){b&&f(e),v=!1,d()}}}function vn(l){let e,t,a,s=l[6]?"üë§ Mi Personaje":"",n,i,o,u,m,v,d;const b=[gn,_n],_=[];function y(C,w){return C[6]?0:1}o=y(l),u=_[o]=b[o](l);let g=l[5].length>0&&ws(l);return{c(){e=h("div"),t=h("div"),a=h("h2"),n=B(s),i=D(),u.c(),m=D(),g&&g.c(),v=Ye(),this.h()},l(C){e=p(C,"DIV",{class:!0});var w=E(e);t=p(w,"DIV",{class:!0});var I=E(t);a=p(I,"H2",{class:!0});var V=E(a);n=M(V,s),V.forEach(f),I.forEach(f),i=k(w),u.l(w),w.forEach(f),m=k(C),g&&g.l(C),v=Ye(),this.h()},h(){c(a,"class","text-2xl font-medieval text-secondary"),c(t,"class","flex justify-between items-center mb-4"),c(e,"class","mb-10")},m(C,w){j(C,e,w),r(e,t),r(t,a),r(a,n),r(e,i),_[o].m(e,null),j(C,m,w),g&&g.m(C,w),j(C,v,w),d=!0},p(C,w){(!d||w[0]&64)&&s!==(s=C[6]?"üë§ Mi Personaje":"")&&ee(n,s);let I=o;o=y(C),o===I?_[o].p(C,w):(St(),lt(_[I],1,1,()=>{_[I]=null}),Nt(),u=_[o],u?u.p(C,w):(u=_[o]=b[o](C),u.c()),$e(u,1),u.m(e,null)),C[5].length>0?g?(g.p(C,w),w[0]&32&&$e(g,1)):(g=ws(C),g.c(),$e(g,1),g.m(v.parentNode,v)):g&&(St(),lt(g,1,1,()=>{g=null}),Nt())},i(C){d||($e(u),$e(g),d=!0)},o(C){lt(u),lt(g),d=!1},d(C){C&&(f(e),f(m),f(v)),_[o].d(),g&&g.d(C)}}}function bn(l){let e,t='<div class="flex flex-col items-center gap-4"><span class="loading loading-spinner loading-lg text-secondary"></span> <p class="text-neutral/70 font-body">Cargando personajes...</p></div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-3wguzo"&&(e.innerHTML=t),this.h()},h(){c(e,"class","flex justify-center py-20")},m(a,s){j(a,e,s)},p:We,i:We,o:We,d(a){a&&f(e)}}}function _n(l){let e,t,a,s="üßô‚Äç‚ôÇÔ∏è",n,i,o="No tienes personaje",u,m,v="Crea tu personaje para unirte a las aventuras de esta campa√±a",d,b,_=`<span class="text-xl sm:text-2xl">‚ú®</span>
                    Crear Mi Personaje`,y,g;return{c(){e=h("div"),t=h("div"),a=h("div"),a.textContent=s,n=D(),i=h("h3"),i.textContent=o,u=D(),m=h("p"),m.textContent=v,d=D(),b=h("button"),b.innerHTML=_,this.h()},l(C){e=p(C,"DIV",{class:!0});var w=E(e);t=p(w,"DIV",{class:!0});var I=E(t);a=p(I,"DIV",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1ln1omq"&&(a.textContent=s),n=k(I),i=p(I,"H3",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-159hl7e"&&(i.textContent=o),u=k(I),m=p(I,"P",{class:!0,"data-svelte-h":!0}),K(m)!=="svelte-iqqe9"&&(m.textContent=v),d=k(I),b=p(I,"BUTTON",{class:!0,"data-svelte-h":!0}),K(b)!=="svelte-1yr15ob"&&(b.innerHTML=_),I.forEach(f),w.forEach(f),this.h()},h(){c(a,"class","text-4xl sm:text-6xl mb-4"),c(i,"class","text-xl sm:text-2xl font-medieval text-neutral mb-3"),c(m,"class","text-sm sm:text-base text-neutral/70 font-body mb-6"),c(b,"class","btn btn-dnd btn-md sm:btn-lg"),c(t,"class","card-parchment p-6 sm:p-8 text-center max-w-2xl corner-ornament"),c(e,"class","flex justify-center")},m(C,w){j(C,e,w),r(e,t),r(t,a),r(t,n),r(t,i),r(t,u),r(t,m),r(t,d),r(t,b),y||(g=le(b,"click",l[7]),y=!0)},p:We,i:We,o:We,d(C){C&&f(e),y=!1,g()}}}function gn(l){let e,t,a,s;return a=new Bs({props:{character:l[6],isOwner:!0,showInventory:!0}}),a.$on("edit",l[16]),a.$on("delete",l[17]),{c(){e=h("div"),t=h("div"),Et(a.$$.fragment),this.h()},l(n){e=p(n,"DIV",{class:!0});var i=E(e);t=p(i,"DIV",{class:!0});var o=E(t);yt(a.$$.fragment,o),o.forEach(f),i.forEach(f),this.h()},h(){c(t,"class","max-w-6xl w-full"),c(e,"class","flex justify-center")},m(n,i){j(n,e,i),r(e,t),gt(a,t,null),s=!0},p(n,i){const o={};i[0]&64&&(o.character=n[6]),a.$set(o)},i(n){s||($e(a.$$.fragment,n),s=!0)},o(n){lt(a.$$.fragment,n),s=!1},d(n){n&&f(e),_t(a)}}}function ws(l){let e,t="‚öîÔ∏è",a,s,n='<h2 class="text-2xl sm:text-3xl font-medieval text-center text-secondary mb-2">Compa√±eros de Aventura</h2> <p class="text-primary text-center font-body italic text-sm sm:text-base">Los dem√°s h√©roes de esta campa√±a</p>',i,o,u,m,v=Ke(l[5]),d=[];for(let _=0;_<v.length;_+=1)d[_]=Is(ks(l,v,_));const b=_=>lt(d[_],1,1,()=>{d[_]=null});return{c(){e=h("div"),e.textContent=t,a=D(),s=h("div"),s.innerHTML=n,i=D(),o=h("div"),u=h("div");for(let _=0;_<d.length;_+=1)d[_].c();this.h()},l(_){e=p(_,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-erxn0r"&&(e.textContent=t),a=k(_),s=p(_,"DIV",{class:!0,"data-svelte-h":!0}),K(s)!=="svelte-xk4yrr"&&(s.innerHTML=n),i=k(_),o=p(_,"DIV",{class:!0});var y=E(o);u=p(y,"DIV",{class:!0});var g=E(u);for(let C=0;C<d.length;C+=1)d[C].l(g);g.forEach(f),y.forEach(f),this.h()},h(){c(e,"class","divider text-neutral/50 my-8"),c(s,"class","mb-6"),c(u,"class","grid grid-cols-1 gap-6"),c(o,"class","container mx-auto max-w-7xl")},m(_,y){j(_,e,y),j(_,a,y),j(_,s,y),j(_,i,y),j(_,o,y),r(o,u);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(u,null);m=!0},p(_,y){if(y[0]&32){v=Ke(_[5]);let g;for(g=0;g<v.length;g+=1){const C=ks(_,v,g);d[g]?(d[g].p(C,y),$e(d[g],1)):(d[g]=Is(C),d[g].c(),$e(d[g],1),d[g].m(u,null))}for(St(),g=v.length;g<d.length;g+=1)b(g);Nt()}},i(_){if(!m){for(let y=0;y<v.length;y+=1)$e(d[y]);m=!0}},o(_){d=d.filter(Boolean);for(let y=0;y<d.length;y+=1)lt(d[y]);m=!1},d(_){_&&(f(e),f(a),f(s),f(i),f(o)),at(d,_)}}}function Is(l){let e,t,a,s,n;return a=new Bs({props:{character:l[30],isOwner:!1,showInventory:!0}}),{c(){e=h("div"),t=h("div"),Et(a.$$.fragment),s=D(),this.h()},l(i){e=p(i,"DIV",{class:!0});var o=E(e);t=p(o,"DIV",{class:!0});var u=E(t);yt(a.$$.fragment,u),u.forEach(f),s=k(o),o.forEach(f),this.h()},h(){c(t,"class","w-full max-w-6xl"),c(e,"class","flex justify-center")},m(i,o){j(i,e,o),r(e,t),gt(a,t,null),r(e,s),n=!0},p(i,o){const u={};o[0]&32&&(u.character=i[30]),a.$set(u)},i(i){n||($e(a.$$.fragment,i),n=!0)},o(i){lt(a.$$.fragment,i),n=!1},d(i){i&&f(e),_t(a)}}}function yn(l){let e,t,a,s,n,i='<h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-secondary title-ornament mb-3 text-shadow">Personajes</h1> <p class="text-base-content/70 font-body italic text-base sm:text-lg mb-2">&quot;Cada h√©roe tiene su historia...&quot;</p>',o,u,m,v,d,b,_,y,g,C=l[1]&&Ds(l);const w=[bn,vn],I=[];function V(T,H){return T[0]?0:1}m=V(l),v=I[m]=w[m](l);function x(T){l[18](T)}function L(T){l[19](T)}let N={isEdit:l[3]};return l[2]!==void 0&&(N.isOpen=l[2]),l[4]!==void 0&&(N.form=l[4]),b=new mn({props:N}),Vt.push(()=>At(b,"isOpen",x)),Vt.push(()=>At(b,"form",L)),b.$on("submit",l[9]),b.$on("close",l[11]),{c(){e=h("div"),t=h("div"),a=h("div"),s=h("div"),n=h("div"),n.innerHTML=i,o=D(),C&&C.c(),u=D(),v.c(),d=D(),Et(b.$$.fragment),this.h()},l(T){e=p(T,"DIV",{class:!0});var H=E(e);t=p(H,"DIV",{class:!0});var A=E(t);a=p(A,"DIV",{class:!0});var P=E(a);s=p(P,"DIV",{class:!0});var S=E(s);n=p(S,"DIV",{class:!0,"data-svelte-h":!0}),K(n)!=="svelte-xbcwjp"&&(n.innerHTML=i),o=k(S),C&&C.l(S),u=k(S),v.l(S),S.forEach(f),P.forEach(f),A.forEach(f),H.forEach(f),d=k(T),yt(b.$$.fragment,T),this.h()},h(){c(n,"class","mb-6 sm:mb-8 text-center"),c(s,"class","container mx-auto max-w-7xl"),c(a,"class","flex-1 p-4 sm:p-6"),c(t,"class","flex flex-1"),c(e,"class","min-h-screen flex flex-col")},m(T,H){j(T,e,H),r(e,t),r(t,a),r(a,s),r(s,n),r(s,o),C&&C.m(s,null),r(s,u),I[m].m(s,null),j(T,d,H),gt(b,T,H),g=!0},p(T,H){T[1]?C?C.p(T,H):(C=Ds(T),C.c(),C.m(s,u)):C&&(C.d(1),C=null);let A=m;m=V(T),m===A?I[m].p(T,H):(St(),lt(I[A],1,1,()=>{I[A]=null}),Nt(),v=I[m],v?v.p(T,H):(v=I[m]=w[m](T),v.c()),$e(v,1),v.m(s,null));const P={};H[0]&8&&(P.isEdit=T[3]),!_&&H[0]&4&&(_=!0,P.isOpen=T[2],Lt(()=>_=!1)),!y&&H[0]&16&&(y=!0,P.form=T[4],Lt(()=>y=!1)),b.$set(P)},i(T){g||($e(v),$e(b.$$.fragment,T),g=!0)},o(T){lt(v),lt(b.$$.fragment,T),g=!1},d(T){T&&(f(e),f(d)),C&&C.d(),I[m].d(),_t(b,T)}}}function En(l,e,t){let a,s,n,i,o;Zt(l,Fs,U=>t(13,i=U)),Zt(l,qs,U=>t(14,o=U)),Os.set("Personajes");let u=null,m=[],v=!0,d="",b=!1,_=null,y=!1;function g(){return{name:"",class:"Aventurero",level:1,maxHp:10,armorClass:10,initiative:0,speed:30,abilityScores:{strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10},savingThrows:{strength:!1,dexterity:!1,constitution:!1,intelligence:!1,wisdom:!1,charisma:!1},skills:zt.map(U=>({name:U.name,ability:U.ability,proficient:!1,expertise:!1}))}}function C(U){return{name:U.name,class:U.class,level:U.level,maxHp:U.maxHp,armorClass:U.armorClass,initiative:U.initiative,speed:U.speed,abilityScores:{...U.abilityScores},savingThrows:{...U.savingThrows},skills:zt.map(se=>{var G;const R=(G=U.skills)==null?void 0:G.find(X=>X.name===se.name);return R?{...R}:{name:se.name,ability:se.ability,proficient:!1,expertise:!1}})}}let w=g();function I(){t(4,w=g())}let V=null;const x=Ls(Ms);Vs(async()=>{await N(),L()}),As(()=>{V&&V()});function L(){try{t(0,v=!0);const U=Ps(x,"characters"),se=Ss(U,Ns("campaignId","==",a));V=Kt(se,R=>{t(12,m=R.docs.map(G=>({id:G.id,...G.data()}))),t(0,v=!1)},R=>{console.error("Error en listener de personajes:",R),t(1,d=R.message),t(0,v=!1)})}catch(U){t(1,d=U.message),t(0,v=!1)}}async function N(){try{u=await Ht.getCampaign(a)}catch(U){t(1,d=U.message)}}function T(){_=null,t(3,y=!1),I(),t(2,b=!0)}function H(U){_=U,t(3,y=!0),t(4,w=C(U)),t(2,b=!0)}async function A(){try{const U=Xt(w.level),se={name:w.name,class:w.class,level:w.level,maxHp:w.maxHp,armorClass:w.armorClass,initiative:w.initiative,speed:w.speed,abilityScores:w.abilityScores,proficiencyBonus:U,savingThrows:w.savingThrows,skills:w.skills};y&&_?await Ht.updateCharacter(_.id,se):await Ht.createCharacter(a,se),t(2,b=!1),I()}catch(U){t(1,d=U.message)}}async function P(U){if(confirm(`¬øEliminar a ${U.name}?`))try{await Ht.deleteCharacter(U.id)}catch(se){t(1,d=se.message)}}function S(){t(2,b=!1),I()}const O=()=>t(1,d=""),q=U=>H(U.detail),F=U=>P(U.detail);function W(U){b=U,t(2,b)}function z(U){w=U,t(4,w)}return l.$$.update=()=>{l.$$.dirty[0]&16384&&(a=o.params.id||""),l.$$.dirty[0]&12288&&t(6,s=m.find(U=>U.userId===(i==null?void 0:i.uid))),l.$$.dirty[0]&12288&&t(5,n=m.filter(U=>U.userId!==(i==null?void 0:i.uid)))},[v,d,b,y,w,n,s,T,H,A,P,S,m,i,o,O,q,F,W,z]}class Ln extends Dt{constructor(e){super(),wt(this,e,En,yn,It,{},null,[-1,-1])}}export{Ln as component};
