import{S as ie,i as re,s as oe,n as z,d as v,x as je,a as G,m as c,b as j,c as _,r as F,e as b,f as y,g as L,h as N,j as g,t as A,k as T,l as X,y as _e,o as J,z as pe,p as Ne,u as Ae,w as le,G as $,H as U,I as se,V as Be,W as He,X as Ue,Y as ze,D as Re,E as $e,F as Te,J as Ge,K as Me,L as Se,M as Pe,O as ne}from"../chunks/D_G0BaV5.js";import"../chunks/IHki7fMi.js";import{o as qe,a as me,b as We}from"../chunks/Bhgkhhu0.js";import{u as be,t as ge,l as ke}from"../chunks/BLMm51hs.js";import{e as ae,a as ye,h as Fe}from"../chunks/5Suz-1-0.js";import{g as te}from"../chunks/BGidcjIc.js";import{p as Le}from"../chunks/D0AE5CJh.js";const Je=!1,Ke=!1,bt=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ke,ssr:Je},Symbol.toStringTag,{value:"Module"}));function Ie(a,e,l){const t=a.slice();return t[9]=e[l],t}function we(a){let e,l,t,s=a[9].icon+"",r,i,d,n=a[9].label+"",o,u,w,k,I,h,f;function p(){return a[8](a[9])}return{c(){e=g("button"),l=g("div"),t=g("span"),r=A(s),i=T(),d=g("span"),o=A(n),w=T(),this.h()},l(m){e=b(m,"BUTTON",{class:!0,title:!0});var E=y(e);l=b(E,"DIV",{class:!0});var V=y(l);t=b(V,"SPAN",{class:!0});var O=y(t);r=L(O,s),O.forEach(v),i=N(V),d=b(V,"SPAN",{class:!0});var D=y(d);o=L(D,n),D.forEach(v),V.forEach(v),w=N(E),E.forEach(v),this.h()},h(){c(t,"class","text-xl"),c(d,"class",u=`ml-3 overflow-hidden transition-all duration-300 ${a[0]?"max-w-[180px] opacity-100":"max-w-0 opacity-0"}`),c(l,"class","flex items-center justify-center text-center w-fit ml-3"),c(e,"class",k=`btn font-medieval transition-all duration-300 ${a[9].active?"btn-dnd":"btn-ghost text-secondary hover:text-accent"} ${a[0]?"w-full justify-start":"w-22 justify-center"}`),c(e,"title",I=a[9].label)},m(m,E){j(m,e,E),_(e,l),_(l,t),_(t,r),_(l,i),_(l,d),_(d,o),_(e,w),h||(f=F(e,"click",p),h=!0)},p(m,E){a=m,E&30&&s!==(s=a[9].icon+"")&&G(r,s),E&30&&n!==(n=a[9].label+"")&&G(o,n),E&1&&u!==(u=`ml-3 overflow-hidden transition-all duration-300 ${a[0]?"max-w-[180px] opacity-100":"max-w-0 opacity-0"}`)&&c(d,"class",u),E&31&&k!==(k=`btn font-medieval transition-all duration-300 ${a[9].active?"btn-dnd":"btn-ghost text-secondary hover:text-accent"} ${a[0]?"w-full justify-start":"w-22 justify-center"}`)&&c(e,"class",k),E&30&&I!==(I=a[9].label)&&c(e,"title",I)},d(m){m&&v(e),h=!1,f()}}}function Xe(a){let e,l,t,s,r=a[0]?"‚óÄ":"‚ñ∂",i,d,n,o,u,w,k,I=ae([{path:`/campaigns/${a[1]}`,label:"Home",icon:"üè†",active:a[2]},{path:`/campaigns/${a[1]}/combat`,label:"Combate",icon:"‚öîÔ∏è",active:a[4]},{path:`/campaigns/${a[1]}/characters`,label:"Personajes",icon:"üßô‚Äç‚ôÇÔ∏è",active:a[3]}]),h=[];for(let f=0;f<3;f+=1)h[f]=we(Ie(a,I,f));return{c(){e=g("div"),l=g("div"),t=g("button"),s=g("span"),i=A(r),n=T(),o=g("div");for(let f=0;f<3;f+=1)h[f].c();this.h()},l(f){e=b(f,"DIV",{class:!0});var p=y(e);l=b(p,"DIV",{class:!0});var m=y(l);t=b(m,"BUTTON",{class:!0,title:!0});var E=y(t);s=b(E,"SPAN",{class:!0});var V=y(s);i=L(V,r),V.forEach(v),E.forEach(v),n=N(m),o=b(m,"DIV",{class:!0});var O=y(o);for(let D=0;D<3;D+=1)h[D].l(O);O.forEach(v),m.forEach(v),p.forEach(v),this.h()},h(){c(s,"class","text-xl"),c(t,"class","btn btn-ghost btn-sm w-full text-secondary hover:text-accent mb-4"),c(t,"title",d=a[0]?"Ocultar sidebar":"Mostrar sidebar"),c(o,"class","space-y-2 flex-1 flex flex-col"),c(l,"class","p-4 space-y-2 flex flex-col h-full"),c(e,"class",u=`bg-neutral border-r-4 border-secondary transition-all duration-300 fixed top-0 left-0 h-full z-40 ${a[0]?"w-64":"w-20"}`)},m(f,p){j(f,e,p),_(e,l),_(l,t),_(t,s),_(s,i),_(l,n),_(l,o);for(let m=0;m<3;m+=1)h[m]&&h[m].m(o,null);w||(k=F(t,"click",a[5]),w=!0)},p(f,[p]){if(p&1&&r!==(r=f[0]?"‚óÄ":"‚ñ∂")&&G(i,r),p&1&&d!==(d=f[0]?"Ocultar sidebar":"Mostrar sidebar")&&c(t,"title",d),p&31){I=ae([{path:`/campaigns/${f[1]}`,label:"Home",icon:"üè†",active:f[2]},{path:`/campaigns/${f[1]}/combat`,label:"Combate",icon:"‚öîÔ∏è",active:f[4]},{path:`/campaigns/${f[1]}/characters`,label:"Personajes",icon:"üßô‚Äç‚ôÇÔ∏è",active:f[3]}]);let m;for(m=0;m<3;m+=1){const E=Ie(f,I,m);h[m]?h[m].p(E,p):(h[m]=we(E),h[m].c(),h[m].m(o,null))}for(;m<3;m+=1)h[m].d(1)}p&1&&u!==(u=`bg-neutral border-r-4 border-secondary transition-all duration-300 fixed top-0 left-0 h-full z-40 ${f[0]?"w-64":"w-20"}`)&&c(e,"class",u)},i:z,o:z,d(f){f&&v(e),je(h,f),w=!1,k()}}}function Ye(a,e,l){let t,s,r,i,d;X(a,Le,k=>l(7,d=k));let{campaignId:n}=e,{isOpen:o=!1}=e;function u(){l(0,o=!o)}const w=k=>te(k.path);return a.$$set=k=>{"campaignId"in k&&l(1,n=k.campaignId),"isOpen"in k&&l(0,o=k.isOpen)},a.$$.update=()=>{a.$$.dirty&128&&l(6,t=d.url.pathname),a.$$.dirty&66&&l(4,s=t===`/campaigns/${n}/combat`),a.$$.dirty&66&&l(3,r=t===`/campaigns/${n}/characters`),a.$$.dirty&66&&l(2,i=t===`/campaigns/${n}`)},[o,n,i,r,s,u,t,d,w]}class Qe extends ie{constructor(e){super(),re(this,e,Ye,Xe,oe,{campaignId:1,isOpen:0})}}function Ee(a,e,l){const t=a.slice();return t[7]=e[l],t}function De(a){let e,l=a[0].length+"",t;return{c(){e=g("span"),t=A(l),this.h()},l(s){e=b(s,"SPAN",{class:!0});var r=y(e);t=L(r,l),r.forEach(v),this.h()},h(){c(e,"class","badge badge-sm badge-ornate indicator-item animate-pulse")},m(s,r){j(s,e,r),_(e,t)},p(s,r){r&1&&l!==(l=s[0].length+"")&&G(t,l)},d(s){s&&v(e)}}}function Ve(a){let e,l=a[0].length+"",t;return{c(){e=g("span"),t=A(l),this.h()},l(s){e=b(s,"SPAN",{class:!0});var r=y(e);t=L(r,l),r.forEach(v),this.h()},h(){c(e,"class","badge badge-ornate")},m(s,r){j(s,e,r),_(e,t)},p(s,r){r&1&&l!==(l=s[0].length+"")&&G(t,l)},d(s){s&&v(e)}}}function Ze(a){let e,l=ae(a[0]),t=[];for(let s=0;s<l.length;s+=1)t[s]=Ce(Ee(a,l,s));return{c(){e=g("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var r=y(e);for(let i=0;i<t.length;i+=1)t[i].l(r);r.forEach(v),this.h()},h(){c(e,"class","space-y-3 max-h-96 overflow-y-auto pr-2 svelte-1sirqyk")},m(s,r){j(s,e,r);for(let i=0;i<t.length;i+=1)t[i]&&t[i].m(e,null)},p(s,r){if(r&7){l=ae(s[0]);let i;for(i=0;i<l.length;i+=1){const d=Ee(s,l,i);t[i]?t[i].p(d,r):(t[i]=Ce(d),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=l.length}},d(s){s&&v(e),je(t,s)}}}function et(a){let e,l='<div class="text-4xl mb-2 opacity-50">üì≠</div> <p class="text-base-content/70 font-body italic">No hay invitaciones pendientes</p>';return{c(){e=g("div"),e.innerHTML=l,this.h()},l(t){e=b(t,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-whrkyc"&&(e.innerHTML=l),this.h()},h(){c(e,"class","text-center py-6")},m(t,s){j(t,e,s)},p:z,d(t){t&&v(e)}}}function Ce(a){let e,l,t,s,r,i,d,n,o,u,w=a[7].fromName+"",k,I,h,f="te invita a la campa√±a",p,m,E=a[7].campaignName+"",V,O,D,M,R,x,C,S,B,q,K;function Y(){return a[4](a[7])}function Q(){return a[5](a[7])}return{c(){e=g("div"),l=g("div"),t=g("div"),s=g("div"),r=g("img"),n=T(),o=g("div"),u=g("p"),k=A(w),I=T(),h=g("p"),h.textContent=f,p=T(),m=g("p"),V=A(E),O=T(),D=g("div"),M=g("button"),R=A("‚öîÔ∏è Unirme"),x=T(),C=g("button"),S=A("‚úï Declinar"),B=T(),this.h()},l(H){e=b(H,"DIV",{class:!0});var P=y(e);l=b(P,"DIV",{class:!0});var Z=y(l);t=b(Z,"DIV",{class:!0});var ce=y(t);s=b(ce,"DIV",{class:!0});var de=y(s);r=b(de,"IMG",{src:!0,alt:!0}),de.forEach(v),ce.forEach(v),n=N(Z),o=b(Z,"DIV",{class:!0});var W=y(o);u=b(W,"P",{class:!0});var fe=y(u);k=L(fe,w),fe.forEach(v),I=N(W),h=b(W,"P",{class:!0,"data-svelte-h":!0}),J(h)!=="svelte-11uyp94"&&(h.textContent=f),p=N(W),m=b(W,"P",{class:!0});var ue=y(m);V=L(ue,E),ue.forEach(v),O=N(W),D=b(W,"DIV",{class:!0});var ee=y(D);M=b(ee,"BUTTON",{class:!0});var he=y(M);R=L(he,"‚öîÔ∏è Unirme"),he.forEach(v),x=N(ee),C=b(ee,"BUTTON",{class:!0});var ve=y(C);S=L(ve,"‚úï Declinar"),ve.forEach(v),ee.forEach(v),W.forEach(v),Z.forEach(v),B=N(P),P.forEach(v),this.h()},h(){le(r.src,i=a[7].fromPhoto)||c(r,"src",i),c(r,"alt",d=a[7].fromName),c(s,"class","w-12 rounded-full ring-2 ring-secondary ring-offset-2 ring-offset-[#f4e4c1]"),c(t,"class","avatar"),c(u,"class","font-bold text-sm text-neutral font-body"),c(h,"class","text-xs text-neutral/60 font-body italic"),c(m,"class","font-semibold text-primary font-medieval mt-1"),c(M,"class","btn btn-success btn-xs text-white font-medieval"),M.disabled=a[1],c(C,"class","btn btn-error btn-xs text-white font-medieval"),C.disabled=a[1],c(D,"class","flex gap-2 mt-3"),c(o,"class","flex-1 min-w-0"),c(l,"class","flex items-start gap-3"),c(e,"class","bg-gradient-to-br from-[#f4e4c1] to-[#e8d4a8] rounded-lg p-4 border-2 border-primary/30 shadow-md")},m(H,P){j(H,e,P),_(e,l),_(l,t),_(t,s),_(s,r),_(l,n),_(l,o),_(o,u),_(u,k),_(o,I),_(o,h),_(o,p),_(o,m),_(m,V),_(o,O),_(o,D),_(D,M),_(M,R),_(D,x),_(D,C),_(C,S),_(e,B),q||(K=[F(M,"click",Y),F(C,"click",Q)],q=!0)},p(H,P){a=H,P&1&&!le(r.src,i=a[7].fromPhoto)&&c(r,"src",i),P&1&&d!==(d=a[7].fromName)&&c(r,"alt",d),P&1&&w!==(w=a[7].fromName+"")&&G(k,w),P&1&&E!==(E=a[7].campaignName+"")&&G(V,E),P&2&&(M.disabled=a[1]),P&2&&(C.disabled=a[1])},d(H){H&&v(e),q=!1,Ae(K)}}}function tt(a){let e,l,t,s,r,i,d,n,o,u,w,k,I="‚öîÔ∏è",h,f=a[0].length>0&&De(a),p=a[0].length>0&&Ve(a);function m(O,D){return O[0].length===0?et:Ze}let E=m(a),V=E(a);return{c(){e=g("div"),l=g("label"),t=pe("svg"),s=pe("path"),r=T(),f&&f.c(),i=T(),d=g("div"),n=g("div"),o=g("h3"),u=A(`üìú Invitaciones\r
        `),p&&p.c(),w=T(),k=g("div"),k.textContent=I,h=T(),V.c(),this.h()},l(O){e=b(O,"DIV",{class:!0});var D=y(e);l=b(D,"LABEL",{tabindex:!0,class:!0});var M=y(l);t=_e(M,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var R=y(t);s=_e(R,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),y(s).forEach(v),R.forEach(v),r=N(M),f&&f.l(M),M.forEach(v),i=N(D),d=b(D,"DIV",{tabindex:!0,class:!0});var x=y(d);n=b(x,"DIV",{class:!0});var C=y(n);o=b(C,"H3",{class:!0});var S=y(o);u=L(S,`üìú Invitaciones\r
        `),p&&p.l(S),S.forEach(v),w=N(C),k=b(C,"DIV",{class:!0,"data-svelte-h":!0}),J(k)!=="svelte-1gecnns"&&(k.textContent=I),h=N(C),V.l(C),C.forEach(v),x.forEach(v),D.forEach(v),this.h()},h(){c(s,"stroke-linecap","round"),c(s,"stroke-linejoin","round"),c(s,"stroke-width","2"),c(s,"d","M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-6 w-6 text-secondary"),c(t,"fill","none"),c(t,"viewBox","0 0 24 24"),c(t,"stroke","currentColor"),c(l,"tabindex","0"),c(l,"class","btn btn-ghost btn-circle indicator ring-2 ring-secondary/50 hover:ring-secondary transition-all"),c(o,"class","card-title text-xl font-medieval text-secondary"),c(k,"class","divider my-1 opacity-30"),c(n,"class","card-body"),c(d,"tabindex","0"),c(d,"class","mt-3 z-[1] card card-compact dropdown-content w-96 shadow-2xl bg-neutral border-2 border-secondary"),c(e,"class","dropdown dropdown-end")},m(O,D){j(O,e,D),_(e,l),_(l,t),_(t,s),_(l,r),f&&f.m(l,null),_(e,i),_(e,d),_(d,n),_(n,o),_(o,u),p&&p.m(o,null),_(n,w),_(n,k),_(n,h),V.m(n,null)},p(O,[D]){O[0].length>0?f?f.p(O,D):(f=De(O),f.c(),f.m(l,null)):f&&(f.d(1),f=null),O[0].length>0?p?p.p(O,D):(p=Ve(O),p.c(),p.m(o,null)):p&&(p.d(1),p=null),E===(E=m(O))&&V?V.p(O,D):(V.d(1),V=E(O),V&&(V.c(),V.m(n,null)))},i:z,o:z,d(O){O&&v(e),f&&f.d(),p&&p.d(),V.d()}}}function lt(a,e,l){let{onInvitationResponded:t=()=>{}}=e,s=[],r=!1;Ne(()=>{i();const u=setInterval(i,3e4);return()=>clearInterval(u)});async function i(){try{l(0,s=await ye.getMyInvitations())}catch(u){console.error("Error loading invitations:",u)}}async function d(u,w){try{l(1,r=!0),await ye.respondToInvitation(u,w),await i(),t()}catch(k){alert(k.message)}finally{l(1,r=!1)}}const n=u=>d(u.id,"accept"),o=u=>d(u.id,"reject");return a.$$set=u=>{"onInvitationResponded"in u&&l(3,t=u.onInvitationResponded)},[s,r,d,t,n,o]}class at extends ie{constructor(e){super(),re(this,e,lt,tt,oe,{onInvitationResponded:3})}}function st(a){let e,l,t,s,r,i,d,n=a[1]&&a[3]&&xe(a);const o=[rt,it],u=[];function w(h,f){return h[2]?0:1}t=w(a),s=u[t]=o[t](a);const k=a[10].default,I=Be(k,a,a[9],null);return{c(){n&&n.c(),e=T(),l=g("div"),s.c(),r=T(),i=g("div"),I&&I.c(),this.h()},l(h){n&&n.l(h),e=N(h),l=b(h,"DIV",{class:!0});var f=y(l);s.l(f),f.forEach(v),r=N(h),i=b(h,"DIV",{class:!0});var p=y(i);I&&I.l(p),p.forEach(v),this.h()},h(){c(l,"class","navbar-medieval sticky top-0 z-10 w-full flex items-center justify-between px-6"),c(i,"class","relative")},m(h,f){n&&n.m(h,f),j(h,e,f),j(h,l,f),u[t].m(l,null),j(h,r,f),j(h,i,f),I&&I.m(i,null),d=!0},p(h,f){h[1]&&h[3]?n?(n.p(h,f),f&10&&U(n,1)):(n=xe(h),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(ne(),$(n,1,1,()=>{n=null}),se());let p=t;t=w(h),t===p?u[t].p(h,f):(ne(),$(u[p],1,1,()=>{u[p]=null}),se(),s=u[t],s?s.p(h,f):(s=u[t]=o[t](h),s.c()),U(s,1),s.m(l,null)),I&&I.p&&(!d||f&512)&&He(I,k,h,h[9],d?ze(k,h[9],f,null):Ue(h[9]),null)},i(h){d||(U(n),U(s),U(I,h),d=!0)},o(h){$(n),$(s),$(I,h),d=!1},d(h){h&&(v(e),v(l),v(r),v(i)),n&&n.d(h),u[t].d(),I&&I.d(h)}}}function nt(a){let e,l='<div class="text-6xl">üé≤</div> <span class="loading loading-spinner loading-lg text-secondary"></span> <p class="font-medieval text-secondary">Cargando grimorio...</p>';return{c(){e=g("div"),e.innerHTML=l,this.h()},l(t){e=b(t,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-36y11s"&&(e.innerHTML=l),this.h()},h(){c(e,"class","flex flex-col items-center justify-center h-screen gap-4")},m(t,s){j(t,e,s)},p:z,i:z,o:z,d(t){t&&v(e)}}}function xe(a){let e,l,t;function s(i){a[11](i)}let r={campaignId:a[3]};return a[0]!==void 0&&(r.isOpen=a[0]),e=new Qe({props:r}),Re.push(()=>$e(e,"isOpen",s)),{c(){Pe(e.$$.fragment)},l(i){Se(e.$$.fragment,i)},m(i,d){Me(e,i,d),t=!0},p(i,d){const n={};d&8&&(n.campaignId=i[3]),!l&&d&1&&(l=!0,n.isOpen=i[0],Ge(()=>l=!1)),e.$set(n)},i(i){t||(U(e.$$.fragment,i),t=!0)},o(i){$(e.$$.fragment,i),t=!1},d(i){Te(e,i)}}}function it(a){let e,l,t,s,r,i,d,n=a[1]&&Oe(a);return{c(){e=g("div"),l=T(),t=g("div"),s=g("h1"),r=A(a[5]),i=T(),d=g("div"),n&&n.c(),this.h()},l(o){e=b(o,"DIV",{class:!0}),y(e).forEach(v),l=N(o),t=b(o,"DIV",{class:!0});var u=y(t);s=b(u,"H1",{class:!0});var w=y(s);r=L(w,a[5]),w.forEach(v),u.forEach(v),i=N(o),d=b(o,"DIV",{class:!0});var k=y(d);n&&n.l(k),k.forEach(v),this.h()},h(){c(e,"class","flex-1 z-1"),c(s,"class","btn btn-ghost text-xl font-medieval text-secondary hover:text-accent"),c(t,"class","flex justify-center items-center flex-1 h-20"),c(d,"class","flex-1 flex justify-end")},m(o,u){j(o,e,u),j(o,l,u),j(o,t,u),_(t,s),_(s,r),j(o,i,u),j(o,d,u),n&&n.m(d,null)},p(o,u){u&32&&G(r,o[5]),o[1]?n||(n=Oe(o),n.c(),n.m(d,null)):n&&(n.d(1),n=null)},i:z,o:z,d(o){o&&(v(e),v(l),v(t),v(i),v(d)),n&&n.d()}}}function rt(a){let e,l,t,s,r,i,d,n,o,u,w,k,I,h,f,p,m,E,V,O="üö™ Cerrar Sesi√≥n",D,M,R;return n=new at({props:{onInvitationResponded:ct}}),{c(){e=g("div"),l=T(),t=g("div"),s=g("h1"),r=A(a[5]),i=T(),d=g("div"),Pe(n.$$.fragment),o=T(),u=g("div"),w=g("label"),k=g("div"),I=g("img"),p=T(),m=g("ul"),E=g("li"),V=g("a"),V.textContent=O,this.h()},l(x){e=b(x,"DIV",{class:!0}),y(e).forEach(v),l=N(x),t=b(x,"DIV",{class:!0});var C=y(t);s=b(C,"H1",{class:!0});var S=y(s);r=L(S,a[5]),S.forEach(v),C.forEach(v),i=N(x),d=b(x,"DIV",{class:!0});var B=y(d);Se(n.$$.fragment,B),o=N(B),u=b(B,"DIV",{class:!0});var q=y(u);w=b(q,"LABEL",{tabindex:!0,class:!0});var K=y(w);k=b(K,"DIV",{class:!0});var Y=y(k);I=b(Y,"IMG",{src:!0,alt:!0}),Y.forEach(v),K.forEach(v),p=N(q),m=b(q,"UL",{tabindex:!0,class:!0});var Q=y(m);E=b(Q,"LI",{});var H=y(E);V=b(H,"A",{class:!0,"data-svelte-h":!0}),J(V)!=="svelte-14mgj6a"&&(V.textContent=O),H.forEach(v),Q.forEach(v),q.forEach(v),B.forEach(v),this.h()},h(){var x,C;c(e,"class","flex-1"),c(s,"class","btn btn-ghost text-xl font-medieval text-secondary hover:text-accent"),c(t,"class","flex justify-center items-center flex-1 h-20"),le(I.src,h=((x=a[6])==null?void 0:x.photoURL)||"")||c(I,"src",h),c(I,"alt",f=((C=a[6])==null?void 0:C.displayName)||""),c(k,"class","w-10 rounded-full"),c(w,"tabindex","0"),c(w,"class","btn btn-ghost btn-circle avatar ring-2 ring-secondary ring-offset-2 ring-offset-neutral"),c(V,"class","text-base-content hover:text-secondary font-medieval"),c(m,"tabindex","0"),c(m,"class","mt-3 z-[1] p-2 shadow-xl menu menu-sm dropdown-content bg-neutral rounded-box w-52 border-2 border-secondary"),c(u,"class","dropdown dropdown-end"),c(d,"class","flex justify-end items-center flex-1 gap-2")},m(x,C){j(x,e,C),j(x,l,C),j(x,t,C),_(t,s),_(s,r),j(x,i,C),j(x,d,C),Me(n,d,null),_(d,o),_(d,u),_(u,w),_(w,k),_(k,I),_(u,p),_(u,m),_(m,E),_(E,V),D=!0,M||(R=F(V,"click",a[7]),M=!0)},p(x,C){var S,B;(!D||C&32)&&G(r,x[5]),(!D||C&64&&!le(I.src,h=((S=x[6])==null?void 0:S.photoURL)||""))&&c(I,"src",h),(!D||C&64&&f!==(f=((B=x[6])==null?void 0:B.displayName)||""))&&c(I,"alt",f)},i(x){D||(U(n.$$.fragment,x),D=!0)},o(x){$(n.$$.fragment,x),D=!1},d(x){x&&(v(e),v(l),v(t),v(i),v(d)),Te(n),M=!1,R()}}}function Oe(a){let e,l="Volver al Grimorio ‚Üí",t,s;return{c(){e=g("button"),e.textContent=l,this.h()},l(r){e=b(r,"BUTTON",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-cvo9ts"&&(e.textContent=l),this.h()},h(){c(e,"class","btn btn-ghost font-medieval text-secondary hover:text-accent")},m(r,i){j(r,e,i),t||(s=F(e,"click",a[12]),t=!0)},d(r){r&&v(e),t=!1,s()}}}function ot(a){let e,l,t,s;const r=[nt,st],i=[];function d(n,o){return n[4]?0:1}return l=d(a),t=i[l]=r[l](a),{c(){e=g("div"),t.c(),this.h()},l(n){e=b(n,"DIV",{class:!0,"data-theme":!0});var o=y(e);t.l(o),o.forEach(v),this.h()},h(){c(e,"class","min-h-screen relative"),c(e,"data-theme","dnd")},m(n,o){j(n,e,o),i[l].m(e,null),s=!0},p(n,[o]){let u=l;l=d(n),l===u?i[l].p(n,o):(ne(),$(i[u],1,1,()=>{i[u]=null}),se(),t=i[l],t?t.p(n,o):(t=i[l]=r[l](n),t.c()),U(t,1),t.m(e,null))},i(n){s||(U(t),s=!0)},o(n){$(t),s=!1},d(n){n&&v(e),i[l].d()}}}function ct(){location.reload()}function dt(a,e,l){let t,s,r,i,d,n,o;X(a,Le,p=>l(8,i=p)),X(a,ke,p=>l(4,d=p)),X(a,Fe,p=>l(5,n=p)),X(a,be,p=>l(6,o=p));let{$$slots:u={},$$scope:w}=e,k=!1;Ne(()=>{const p=qe(me,async m=>{if(be.set(m),m){const E=await m.getIdToken();ge.set(E)}else ge.set(null);ke.set(!1),!m&&i.url.pathname!=="/login"&&te("/login")});return()=>p()});function I(){We(me).then(()=>te("/login"))}function h(p){k=p,l(0,k)}const f=()=>te("/dashboard");return a.$$set=p=>{"$$scope"in p&&l(9,w=p.$$scope)},a.$$.update=()=>{a.$$.dirty&256&&l(3,t=i.params.id),a.$$.dirty&256&&l(2,s=i.url.pathname==="/dashboard"),a.$$.dirty&256&&l(1,r=i.url.pathname.startsWith("/campaigns/"))},[k,r,s,t,d,n,o,I,i,w,u,h,f]}class gt extends ie{constructor(e){super(),re(this,e,dt,ot,oe,{})}}export{gt as component,bt as universal};
