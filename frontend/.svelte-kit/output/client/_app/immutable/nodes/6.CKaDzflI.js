import{S as Dt,i as wt,s as Lt,n as qe,d as u,r as Xe,o as Me,a as le,b as a,l as K,c as i,e as c,f as b,h as B,g as x,p as ce,u as We,j as d,k as E,t as de,m as Ze,q as Nt,A as Vt,x as ze,v as Ce,B as Ue,C as It,D as Ye,E as $e,F as Je}from"../chunks/Ci_mYp0l.js";import{h as St,a as Ke,e as He}from"../chunks/DUBRk6C6.js";import"../chunks/IHki7fMi.js";import{p as Mt}from"../chunks/CsW4K-9B.js";import{u as At}from"../chunks/CU8g63Ws.js";import{g as Ht,c as Ot,q as et,w as Re,o as tt}from"../chunks/eN7n43qG.js";import{c as Bt}from"../chunks/Bhgkhhu0.js";function lt(s,e,t){const l=s.slice();return l[59]=e[t],l}function st(s,e,t){const l=s.slice();return l[62]=e[t],l}function at(s,e,t){const l=s.slice();return l[59]=e[t],l}function nt(s,e,t){const l=s.slice();return l[62]=e[t],l}function rt(s,e,t){const l=s.slice();return l[69]=e[t],l}function ot(s,e,t){const l=s.slice();return l[59]=e[t],l}function it(s,e,t){const l=s.slice();return l[62]=e[t],l}function ct(s){let e,t,l,n,o,r="‚úï",h,_;return{c(){e=d("div"),t=d("span"),l=de(s[7]),n=E(),o=d("button"),o.textContent=r,this.h()},l(v){e=c(v,"DIV",{class:!0});var f=b(e);t=c(f,"SPAN",{});var k=b(t);l=ce(k,s[7]),k.forEach(u),n=x(f),o=c(f,"BUTTON",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-4tcifc"&&(o.textContent=r),f.forEach(u),this.h()},h(){i(o,"class","btn btn-sm"),i(e,"class","alert alert-error mb-6")},m(v,f){le(v,e,f),a(e,t),a(t,l),a(e,n),a(e,o),h||(_=K(o,"click",s[28]),h=!0)},p(v,f){f[0]&128&&Me(l,v[7])},d(v){v&&u(e),h=!1,_()}}}function Pt(s){let e,t,l,n,o='<span class="label-text font-medieval text-neutral">üîç Buscar</span>',r,h,_,v,f,k='<span class="label-text font-medieval text-neutral">Categor√≠a</span>',y,m,M,A="Todas",se,D,g,O='<span class="label-text font-medieval text-neutral">Tipo</span>',ke,Z,C,re="Todas",he,$="Personales",w,ue="Compartidas",ve,N,G,S=s[5].length+"",L,J,P=s[0].length+"",R,ae,be,Q,oe,Te,fe=He(s[14]),W=[];for(let V=0;V<fe.length;V+=1)W[V]=dt(it(s,fe,V));function _e(V,H){return V[5].length===0?Ut:Ft}let ge=_e(s),me=ge(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=d("label"),n.innerHTML=o,r=E(),h=d("input"),_=E(),v=d("div"),f=d("label"),f.innerHTML=k,y=E(),m=d("select"),M=d("option"),M.textContent=A;for(let V=0;V<W.length;V+=1)W[V].c();se=E(),D=d("div"),g=d("label"),g.innerHTML=O,ke=E(),Z=d("select"),C=d("option"),C.textContent=re,he=d("option"),he.textContent=$,w=d("option"),w.textContent=ue,ve=E(),N=d("div"),G=de("Mostrando "),L=de(S),J=de(" de "),R=de(P),ae=de(" notas"),be=E(),me.c(),Q=We(),this.h()},l(V){e=c(V,"DIV",{class:!0});var H=b(e);t=c(H,"DIV",{class:!0});var j=b(t);l=c(j,"DIV",{class:!0});var De=b(l);n=c(De,"LABEL",{class:!0,"data-svelte-h":!0}),B(n)!=="svelte-1hur2gf"&&(n.innerHTML=o),r=x(De),h=c(De,"INPUT",{type:!0,placeholder:!0,class:!0}),De.forEach(u),_=x(j),v=c(j,"DIV",{class:!0});var pe=b(v);f=c(pe,"LABEL",{class:!0,"data-svelte-h":!0}),B(f)!=="svelte-1py2g6g"&&(f.innerHTML=k),y=x(pe),m=c(pe,"SELECT",{class:!0});var ie=b(m);M=c(ie,"OPTION",{"data-svelte-h":!0}),B(M)!=="svelte-v50ofg"&&(M.textContent=A);for(let q=0;q<W.length;q+=1)W[q].l(ie);ie.forEach(u),pe.forEach(u),se=x(j),D=c(j,"DIV",{class:!0});var ne=b(D);g=c(ne,"LABEL",{class:!0,"data-svelte-h":!0}),B(g)!=="svelte-t56wfd"&&(g.innerHTML=O),ke=x(ne),Z=c(ne,"SELECT",{class:!0});var te=b(Z);C=c(te,"OPTION",{"data-svelte-h":!0}),B(C)!=="svelte-v50ofg"&&(C.textContent=re),he=c(te,"OPTION",{"data-svelte-h":!0}),B(he)!=="svelte-1jiqopi"&&(he.textContent=$),w=c(te,"OPTION",{"data-svelte-h":!0}),B(w)!=="svelte-g8zmii"&&(w.textContent=ue),te.forEach(u),ne.forEach(u),j.forEach(u),ve=x(H),N=c(H,"DIV",{class:!0});var xe=b(N);G=ce(xe,"Mostrando "),L=ce(xe,S),J=ce(xe," de "),R=ce(xe,P),ae=ce(xe," notas"),xe.forEach(u),H.forEach(u),be=x(V),me.l(V),Q=We(),this.h()},h(){i(n,"class","label"),i(h,"type","text"),i(h,"placeholder","T√≠tulo, contenido o etiquetas..."),i(h,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),i(l,"class","form-control"),i(f,"class","label"),M.__value="all",Ce(M,M.__value),i(m,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50"),s[2]===void 0&&Ye(()=>s[30].call(m)),i(v,"class","form-control"),i(g,"class","label"),C.__value="all",Ce(C,C.__value),he.__value="personal",Ce(he,he.__value),w.__value="shared",Ce(w,w.__value),i(Z,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50"),s[3]===void 0&&Ye(()=>s[31].call(Z)),i(D,"class","form-control"),i(t,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),i(N,"class","mt-3 text-sm text-neutral/60 font-body text-center"),i(e,"class","card-parchment p-4 mb-6")},m(V,H){le(V,e,H),a(e,t),a(t,l),a(l,n),a(l,r),a(l,h),Ce(h,s[1]),a(t,_),a(t,v),a(v,f),a(v,y),a(v,m),a(m,M);for(let j=0;j<W.length;j+=1)W[j]&&W[j].m(m,null);Ue(m,s[2],!0),a(t,se),a(t,D),a(D,g),a(D,ke),a(D,Z),a(Z,C),a(Z,he),a(Z,w),Ue(Z,s[3],!0),a(e,ve),a(e,N),a(N,G),a(N,L),a(N,J),a(N,R),a(N,ae),le(V,be,H),me.m(V,H),le(V,Q,H),oe||(Te=[K(h,"input",s[29]),K(m,"change",s[30]),K(Z,"change",s[31])],oe=!0)},p(V,H){if(H[0]&2&&h.value!==V[1]&&Ce(h,V[1]),H[0]&16384){fe=He(V[14]);let j;for(j=0;j<fe.length;j+=1){const De=it(V,fe,j);W[j]?W[j].p(De,H):(W[j]=dt(De),W[j].c(),W[j].m(m,null))}for(;j<W.length;j+=1)W[j].d(1);W.length=fe.length}H[0]&16388&&Ue(m,V[2]),H[0]&8&&Ue(Z,V[3]),H[0]&32&&S!==(S=V[5].length+"")&&Me(L,S),H[0]&1&&P!==(P=V[0].length+"")&&Me(R,P),ge===(ge=_e(V))&&me?me.p(V,H):(me.d(1),me=ge(V),me&&(me.c(),me.m(Q.parentNode,Q)))},d(V){V&&(u(e),u(be),u(Q)),ze(W,V),me.d(V),oe=!1,Xe(Te)}}}function jt(s){let e,t='<span class="loading loading-spinner loading-lg text-secondary"></span>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-cr7jii"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex justify-center py-20")},m(l,n){le(l,e,n)},p:qe,d(l){l&&u(e)}}}function dt(s){let e,t=s[62].label+"",l;return{c(){e=d("option"),l=de(t),this.h()},l(n){e=c(n,"OPTION",{});var o=b(e);l=ce(o,t),o.forEach(u),this.h()},h(){e.__value=s[62].value,Ce(e,e.__value)},m(n,o){le(n,e,o),a(e,l)},p:qe,d(n){n&&u(e)}}}function Ft(s){let e,t=He(s[5]),l=[];for(let n=0;n<t.length;n+=1)l[n]=bt(rt(s,t,n));return{c(){e=d("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=c(n,"DIV",{class:!0});var o=b(e);for(let r=0;r<l.length;r+=1)l[r].l(o);o.forEach(u),this.h()},h(){i(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(n,o){le(n,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(n,o){if(o[0]&12648496){t=He(n[5]);let r;for(r=0;r<t.length;r+=1){const h=rt(n,t,r);l[r]?l[r].p(h,o):(l[r]=bt(h),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(n){n&&u(e),ze(l,n)}}}function Ut(s){let e,t,l="üìù",n,o,r=s[0].length===0?"Sin notas a√∫n":"No se encontraron notas",h,_,v,f=s[0].length===0?"Crea tu primera nota para comenzar":"Intenta ajustar los filtros de b√∫squeda",k;return{c(){e=d("div"),t=d("div"),t.textContent=l,n=E(),o=d("h3"),h=de(r),_=E(),v=d("p"),k=de(f),this.h()},l(y){e=c(y,"DIV",{class:!0});var m=b(e);t=c(m,"DIV",{class:!0,"data-svelte-h":!0}),B(t)!=="svelte-8iyxcx"&&(t.textContent=l),n=x(m),o=c(m,"H3",{class:!0});var M=b(o);h=ce(M,r),M.forEach(u),_=x(m),v=c(m,"P",{class:!0});var A=b(v);k=ce(A,f),A.forEach(u),m.forEach(u),this.h()},h(){i(t,"class","text-6xl mb-4"),i(o,"class","text-2xl font-medieval text-neutral mb-2"),i(v,"class","text-neutral/70 font-body"),i(e,"class","card-parchment p-12 text-center")},m(y,m){le(y,e,m),a(e,t),a(e,n),a(e,o),a(o,h),a(e,_),a(e,v),a(v,k)},p(y,m){m[0]&1&&r!==(r=y[0].length===0?"Sin notas a√∫n":"No se encontraron notas")&&Me(h,r),m[0]&1&&f!==(f=y[0].length===0?"Crea tu primera nota para comenzar":"Intenta ajustar los filtros de b√∫squeda")&&Me(k,f)},d(y){y&&u(e)}}}function qt(s){let e,t="üîí Personal";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-mj56dj"&&(e.textContent=t),this.h()},h(){i(e,"class","badge badge-info badge-sm")},m(l,n){le(l,e,n)},d(l){l&&u(e)}}}function zt(s){let e,t="üåê Compartida";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-gqocex"&&(e.textContent=t),this.h()},h(){i(e,"class","badge badge-success badge-sm")},m(l,n){le(l,e,n)},d(l){l&&u(e)}}}function ut(s){let e,t="üëë DM";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-bk3zvn"&&(e.textContent=t),this.h()},h(){i(e,"class","badge badge-warning badge-sm")},m(l,n){le(l,e,n)},d(l){l&&u(e)}}}function ft(s){let e,t,l=He(s[69].tags.slice(0,3)),n=[];for(let r=0;r<l.length;r+=1)n[r]=ht(ot(s,l,r));let o=s[69].tags.length>3&&pt(s);return{c(){e=d("div");for(let r=0;r<n.length;r+=1)n[r].c();t=E(),o&&o.c(),this.h()},l(r){e=c(r,"DIV",{class:!0});var h=b(e);for(let _=0;_<n.length;_+=1)n[_].l(h);t=x(h),o&&o.l(h),h.forEach(u),this.h()},h(){i(e,"class","flex flex-wrap gap-1 mb-3")},m(r,h){le(r,e,h);for(let _=0;_<n.length;_+=1)n[_]&&n[_].m(e,null);a(e,t),o&&o.m(e,null)},p(r,h){if(h[0]&32){l=He(r[69].tags.slice(0,3));let _;for(_=0;_<l.length;_+=1){const v=ot(r,l,_);n[_]?n[_].p(v,h):(n[_]=ht(v),n[_].c(),n[_].m(e,t))}for(;_<n.length;_+=1)n[_].d(1);n.length=l.length}r[69].tags.length>3?o?o.p(r,h):(o=pt(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(r){r&&u(e),ze(n,r),o&&o.d()}}}function ht(s){let e,t=s[59]+"",l;return{c(){e=d("div"),l=de(t),this.h()},l(n){e=c(n,"DIV",{class:!0});var o=b(e);l=ce(o,t),o.forEach(u),this.h()},h(){i(e,"class","badge badge-outline badge-xs")},m(n,o){le(n,e,o),a(e,l)},p(n,o){o[0]&32&&t!==(t=n[59]+"")&&Me(l,t)},d(n){n&&u(e)}}}function pt(s){let e,t,l=s[69].tags.length-3+"",n;return{c(){e=d("div"),t=de("+"),n=de(l),this.h()},l(o){e=c(o,"DIV",{class:!0});var r=b(e);t=ce(r,"+"),n=ce(r,l),r.forEach(u),this.h()},h(){i(e,"class","badge badge-outline badge-xs")},m(o,r){le(o,e,r),a(e,t),a(e,n)},p(o,r){r[0]&32&&l!==(l=o[69].tags.length-3+"")&&Me(n,l)},d(o){o&&u(e)}}}function bt(s){var xe;let e,t,l,n,o,r=s[23](s[69].category)+"",h,_,v,f=s[69].title+"",k,y,m,M,A='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',se,D,g,O,ke="‚úèÔ∏è Editar",Z,C,re,he="üóëÔ∏è Eliminar",$,w,ue,ve,N,G=(s[69].content||"Sin contenido")+"",S,L,J,P,R,ae,be=s[69].authorName+"",Q,oe,Te,fe,W=Tt(s[69].updatedAt)+"",_e,ge,me,V;function H(){return s[32](s[69])}function j(){return s[33](s[69])}function De(q,X){return q[69].isShared?zt:qt}let pe=De(s),ie=pe(s),ne=s[69].authorId!==((xe=s[4])==null?void 0:xe.uid)&&ut(),te=s[69].tags&&s[69].tags.length>0&&ft(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=d("div"),o=d("span"),h=de(r),_=E(),v=d("h3"),k=de(f),y=E(),m=d("div"),M=d("label"),M.innerHTML=A,se=E(),D=d("ul"),g=d("li"),O=d("a"),O.textContent=ke,Z=E(),C=d("li"),re=d("a"),re.textContent=he,$=E(),w=d("div"),ie.c(),ue=E(),ne&&ne.c(),ve=E(),N=d("div"),S=de(G),L=E(),te&&te.c(),J=E(),P=d("div"),R=d("div"),ae=de("‚úçÔ∏è "),Q=de(be),oe=E(),Te=d("div"),fe=de("üïê "),_e=de(W),ge=E(),this.h()},l(q){e=c(q,"DIV",{class:!0});var X=b(e);t=c(X,"DIV",{class:!0});var F=b(t);l=c(F,"DIV",{class:!0});var I=b(l);n=c(I,"DIV",{class:!0});var U=b(n);o=c(U,"SPAN",{class:!0});var Y=b(o);h=ce(Y,r),Y.forEach(u),_=x(U),v=c(U,"H3",{class:!0});var Ne=b(v);k=ce(Ne,f),Ne.forEach(u),U.forEach(u),y=x(I),m=c(I,"DIV",{class:!0});var p=b(m);M=c(p,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),B(M)!=="svelte-1dz1xx4"&&(M.innerHTML=A),se=x(p),D=c(p,"UL",{tabindex:!0,class:!0});var T=b(D);g=c(T,"LI",{});var ee=b(g);O=c(ee,"A",{class:!0,"data-svelte-h":!0}),B(O)!=="svelte-yi40jw"&&(O.textContent=ke),ee.forEach(u),Z=x(T),C=c(T,"LI",{});var z=b(C);re=c(z,"A",{class:!0,"data-svelte-h":!0}),B(re)!=="svelte-putp47"&&(re.textContent=he),z.forEach(u),T.forEach(u),p.forEach(u),I.forEach(u),$=x(F),w=c(F,"DIV",{class:!0});var Ie=b(w);ie.l(Ie),ue=x(Ie),ne&&ne.l(Ie),Ie.forEach(u),ve=x(F),N=c(F,"DIV",{class:!0});var ye=b(N);S=ce(ye,G),ye.forEach(u),L=x(F),te&&te.l(F),J=x(F),P=c(F,"DIV",{class:!0});var we=b(P);R=c(we,"DIV",{});var Se=b(R);ae=ce(Se,"‚úçÔ∏è "),Q=ce(Se,be),Se.forEach(u),oe=x(we),Te=c(we,"DIV",{});var Oe=b(Te);fe=ce(Oe,"üïê "),_e=ce(Oe,W),Oe.forEach(u),we.forEach(u),F.forEach(u),ge=x(X),X.forEach(u),this.h()},h(){i(o,"class","text-2xl"),i(v,"class","font-medieval text-lg text-neutral font-bold truncate"),i(n,"class","flex items-center gap-2 flex-1 min-w-0"),i(M,"tabindex","0"),i(M,"class","btn btn-ghost btn-xs btn-circle"),i(O,"class","text-secondary"),i(re,"class","text-error"),i(D,"tabindex","0"),i(D,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-40 border-2 border-secondary"),i(m,"class","dropdown dropdown-end flex-shrink-0"),i(l,"class","flex items-start justify-between mb-2"),i(w,"class","flex flex-wrap gap-1 mb-3"),i(N,"class","text-sm text-neutral/80 font-body mb-3 line-clamp-3 svelte-1vnfw7c"),i(P,"class","text-xs text-neutral/60 font-body"),i(t,"class","card-body p-4"),i(e,"class","card-parchment corner-ornament hover:shadow-xl transition-all")},m(q,X){le(q,e,X),a(e,t),a(t,l),a(l,n),a(n,o),a(o,h),a(n,_),a(n,v),a(v,k),a(l,y),a(l,m),a(m,M),a(m,se),a(m,D),a(D,g),a(g,O),a(D,Z),a(D,C),a(C,re),a(t,$),a(t,w),ie.m(w,null),a(w,ue),ne&&ne.m(w,null),a(t,ve),a(t,N),a(N,S),a(t,L),te&&te.m(t,null),a(t,J),a(t,P),a(P,R),a(R,ae),a(R,Q),a(P,oe),a(P,Te),a(Te,fe),a(Te,_e),a(e,ge),me||(V=[K(O,"click",H),K(re,"click",j)],me=!0)},p(q,X){var F;s=q,X[0]&32&&r!==(r=s[23](s[69].category)+"")&&Me(h,r),X[0]&32&&f!==(f=s[69].title+"")&&Me(k,f),pe!==(pe=De(s))&&(ie.d(1),ie=pe(s),ie&&(ie.c(),ie.m(w,ue))),s[69].authorId!==((F=s[4])==null?void 0:F.uid)?ne||(ne=ut(),ne.c(),ne.m(w,null)):ne&&(ne.d(1),ne=null),X[0]&32&&G!==(G=(s[69].content||"Sin contenido")+"")&&Me(S,G),s[69].tags&&s[69].tags.length>0?te?te.p(s,X):(te=ft(s),te.c(),te.m(t,J)):te&&(te.d(1),te=null),X[0]&32&&be!==(be=s[69].authorName+"")&&Me(Q,be),X[0]&32&&W!==(W=Tt(s[69].updatedAt)+"")&&Me(_e,W)},d(q){q&&u(e),ie.d(),ne&&ne.d(),te&&te.d(),me=!1,Xe(V)}}}function vt(s){let e,t,l,n,o="‚úï",r,h,_="‚ú® Nueva Nota",v,f,k,y,m='<span class="label-text font-medieval text-neutral text-sm sm:text-base md:text-lg">T√≠tulo <span class="text-error">*</span></span>',M,A,se,D,g,O,ke='<span class="label-text font-medieval text-neutral text-sm sm:text-base">Categor√≠a</span>',Z,C,re,he,$,w,ue='<span class="label-text font-medieval text-neutral text-sm sm:text-base md:text-lg">Contenido</span>',ve,N,G,S,L='<span class="label-text-alt text-neutral/60 italic text-xs">Puedes usar este espacio para escribir detalles extensos</span>',J,P,R,ae='<span class="label-text font-medieval text-neutral text-sm sm:text-base">üè∑Ô∏è Etiquetas</span>',be,Q,oe,Te,fe,W,_e,ge,me,V,H,j="Cancelar",De,pe,ie,ne="üíæ",te,xe,q,X,F=He(s[14]),I=[];for(let T=0;T<F.length;T+=1)I[T]=mt(nt(s,F,T));let U=s[13]&&_t(s);function Y(T,ee){return T[11].tags.length>0?Qt:Gt}let Ne=Y(s),p=Ne(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=d("button"),n.textContent=o,r=E(),h=d("h3"),h.textContent=_,v=E(),f=d("div"),k=d("div"),y=d("label"),y.innerHTML=m,M=E(),A=d("input"),se=E(),D=d("div"),g=d("div"),O=d("label"),O.innerHTML=ke,Z=E(),C=d("select");for(let T=0;T<I.length;T+=1)I[T].c();re=E(),U&&U.c(),he=E(),$=d("div"),w=d("label"),w.innerHTML=ue,ve=E(),N=d("textarea"),G=E(),S=d("label"),S.innerHTML=L,J=E(),P=d("div"),R=d("label"),R.innerHTML=ae,be=E(),Q=d("div"),oe=d("input"),Te=E(),fe=d("button"),W=de("‚ûï"),ge=E(),p.c(),me=E(),V=d("div"),H=d("button"),H.textContent=j,De=E(),pe=d("button"),ie=d("span"),ie.textContent=ne,te=de(`\r
          Crear Nota`),this.h()},l(T){e=c(T,"DIV",{class:!0});var ee=b(e);t=c(ee,"DIV",{class:!0});var z=b(t);l=c(z,"DIV",{class:!0});var Ie=b(l);n=c(Ie,"BUTTON",{class:!0,"data-svelte-h":!0}),B(n)!=="svelte-1c9ztm3"&&(n.textContent=o),r=x(Ie),h=c(Ie,"H3",{class:!0,"data-svelte-h":!0}),B(h)!=="svelte-ykrs25"&&(h.textContent=_),Ie.forEach(u),v=x(z),f=c(z,"DIV",{class:!0});var ye=b(f);k=c(ye,"DIV",{class:!0});var we=b(k);y=c(we,"LABEL",{class:!0,"data-svelte-h":!0}),B(y)!=="svelte-12ozdap"&&(y.innerHTML=m),M=x(we),A=c(we,"INPUT",{type:!0,placeholder:!0,class:!0}),we.forEach(u),se=x(ye),D=c(ye,"DIV",{class:!0});var Se=b(D);g=c(Se,"DIV",{class:!0});var Oe=b(g);O=c(Oe,"LABEL",{class:!0,"data-svelte-h":!0}),B(O)!=="svelte-185ss55"&&(O.innerHTML=ke),Z=x(Oe),C=c(Oe,"SELECT",{class:!0});var je=b(C);for(let Be=0;Be<I.length;Be+=1)I[Be].l(je);je.forEach(u),Oe.forEach(u),re=x(Se),U&&U.l(Se),Se.forEach(u),he=x(ye),$=c(ye,"DIV",{class:!0});var Ee=b($);w=c(Ee,"LABEL",{class:!0,"data-svelte-h":!0}),B(w)!=="svelte-q1ywz1"&&(w.innerHTML=ue),ve=x(Ee),N=c(Ee,"TEXTAREA",{placeholder:!0,class:!0}),b(N).forEach(u),G=x(Ee),S=c(Ee,"LABEL",{class:!0,"data-svelte-h":!0}),B(S)!=="svelte-1jofdxq"&&(S.innerHTML=L),Ee.forEach(u),J=x(ye),P=c(ye,"DIV",{class:!0});var Le=b(P);R=c(Le,"LABEL",{class:!0,"data-svelte-h":!0}),B(R)!=="svelte-1d057c7"&&(R.innerHTML=ae),be=x(Le),Q=c(Le,"DIV",{class:!0});var Ve=b(Q);oe=c(Ve,"INPUT",{type:!0,placeholder:!0,class:!0}),Te=x(Ve),fe=c(Ve,"BUTTON",{type:!0,class:!0});var Ae=b(fe);W=ce(Ae,"‚ûï"),Ae.forEach(u),Ve.forEach(u),ge=x(Le),p.l(Le),Le.forEach(u),ye.forEach(u),me=x(z),V=c(z,"DIV",{class:!0});var Pe=b(V);H=c(Pe,"BUTTON",{class:!0,"data-svelte-h":!0}),B(H)!=="svelte-yqb2f0"&&(H.textContent=j),De=x(Pe),pe=c(Pe,"BUTTON",{class:!0});var Fe=b(pe);ie=c(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),B(ie)!=="svelte-uhsdc3"&&(ie.textContent=ne),te=ce(Fe,`\r
          Crear Nota`),Fe.forEach(u),Pe.forEach(u),z.forEach(u),ee.forEach(u),this.h()},h(){i(n,"class","btn btn-xs sm:btn-sm btn-circle btn-ghost absolute right-2 top-2 hover:bg-error/20"),i(h,"class","font-bold text-xl sm:text-2xl md:text-3xl font-medieval text-neutral text-center pr-8"),i(l,"class","p-3 sm:p-4 md:p-5 border-b-2 border-secondary flex-shrink-0 bg-gradient-to-b from-[#f4e4c1] to-transparent"),i(y,"class","label pb-1"),i(A,"type","text"),i(A,"placeholder","Ej: Encuentro con el drag√≥n rojo"),i(A,"class","input input-sm sm:input-md input-bordered bg-[#2d241c] text-base-content border-primary/50 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),A.required=!0,A.autofocus=!0,i(k,"class","form-control"),i(O,"class","label pb-1"),i(C,"class","select select-sm sm:select-md select-bordered bg-[#2d241c] text-base-content border-primary/50 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),s[11].category===void 0&&Ye(()=>s[36].call(C)),i(g,"class","form-control"),i(D,"class","grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4"),i(w,"class","label pb-1"),i(N,"placeholder","Escribe aqu√≠ el contenido de tu nota..."),i(N,"class","textarea textarea-sm sm:textarea-md textarea-bordered bg-[#2d241c] text-base-content border-primary/50 h-32 sm:h-40 md:h-48 resize-none focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),i(S,"class","label pt-1"),i($,"class","form-control"),i(R,"class","label pb-1"),i(oe,"type","text"),i(oe,"placeholder","Presiona Enter para agregar..."),i(oe,"class","input input-sm sm:input-md input-bordered bg-[#2d241c] text-base-content border-primary/50 flex-1 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),i(fe,"type","button"),i(fe,"class","btn btn-sm sm:btn-md btn-secondary flex-shrink-0"),fe.disabled=_e=!s[12].trim(),i(Q,"class","flex gap-2"),i(P,"class","form-control"),i(f,"class","flex-1 overflow-y-auto p-3 sm:p-4 md:p-5 space-y-3 sm:space-y-4 custom-scrollbar svelte-1vnfw7c"),i(H,"class","btn btn-sm sm:btn-md btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval w-full sm:w-auto"),i(ie,"class","text-lg sm:text-xl"),i(pe,"class","btn btn-sm sm:btn-md btn-dnd w-full sm:w-auto"),pe.disabled=xe=!s[11].title.trim(),i(V,"class","flex flex-col-reverse sm:flex-row justify-center gap-2 sm:gap-4 p-3 sm:p-4 md:p-5 border-t-2 border-secondary flex-shrink-0 bg-gradient-to-t from-[#f4e4c1] to-transparent"),i(t,"class","card-parchment border-2 sm:border-4 border-secondary w-[95vw] sm:w-[90vw] md:w-3/4 lg:w-2/3 xl:w-1/2 max-w-3xl relative max-h-[92vh] flex flex-col m-2 sm:m-4"),i(e,"class","modal modal-open z-50")},m(T,ee){le(T,e,ee),a(e,t),a(t,l),a(l,n),a(l,r),a(l,h),a(t,v),a(t,f),a(f,k),a(k,y),a(k,M),a(k,A),Ce(A,s[11].title),a(f,se),a(f,D),a(D,g),a(g,O),a(g,Z),a(g,C);for(let z=0;z<I.length;z+=1)I[z]&&I[z].m(C,null);Ue(C,s[11].category,!0),a(D,re),U&&U.m(D,null),a(f,he),a(f,$),a($,w),a($,ve),a($,N),Ce(N,s[11].content),a($,G),a($,S),a(f,J),a(f,P),a(P,R),a(P,be),a(P,Q),a(Q,oe),Ce(oe,s[12]),a(Q,Te),a(Q,fe),a(fe,W),a(P,ge),p.m(P,null),a(t,me),a(t,V),a(V,H),a(V,De),a(V,pe),a(pe,ie),a(pe,te),A.focus(),q||(X=[K(n,"click",s[34]),K(A,"input",s[35]),K(C,"change",s[36]),K(N,"input",s[38]),K(oe,"input",s[39]),K(oe,"keydown",s[40]),K(fe,"click",s[18]),K(H,"click",s[42]),K(pe,"click",s[20]),K(t,"click",It(s[27])),K(e,"click",s[43])],q=!0)},p(T,ee){if(ee[0]&18432&&A.value!==T[11].title&&Ce(A,T[11].title),ee[0]&16384){F=He(T[14]);let z;for(z=0;z<F.length;z+=1){const Ie=nt(T,F,z);I[z]?I[z].p(Ie,ee):(I[z]=mt(Ie),I[z].c(),I[z].m(C,null))}for(;z<I.length;z+=1)I[z].d(1);I.length=F.length}ee[0]&18432&&Ue(C,T[11].category),T[13]?U?U.p(T,ee):(U=_t(T),U.c(),U.m(D,null)):U&&(U.d(1),U=null),ee[0]&18432&&Ce(N,T[11].content),ee[0]&4096&&oe.value!==T[12]&&Ce(oe,T[12]),ee[0]&4096&&_e!==(_e=!T[12].trim())&&(fe.disabled=_e),Ne===(Ne=Y(T))&&p?p.p(T,ee):(p.d(1),p=Ne(T),p&&(p.c(),p.m(P,null))),ee[0]&18432&&xe!==(xe=!T[11].title.trim())&&(pe.disabled=xe)},d(T){T&&u(e),ze(I,T),U&&U.d(),p.d(),q=!1,Xe(X)}}}function mt(s){let e,t=s[62].label+"",l;return{c(){e=d("option"),l=de(t),this.h()},l(n){e=c(n,"OPTION",{});var o=b(e);l=ce(o,t),o.forEach(u),this.h()},h(){e.__value=s[62].value,Ce(e,e.__value)},m(n,o){le(n,e,o),a(e,l)},p:qe,d(n){n&&u(e)}}}function _t(s){let e,t,l,n,o,r='<span class="label-text font-medieval text-neutral text-sm sm:text-base">üåê Compartir con jugadores</span> <span class="label-text-alt text-neutral/60 italic text-xs">Los jugadores podr√°n ver esta nota</span>',h,_;return{c(){e=d("div"),t=d("label"),l=d("input"),n=E(),o=d("div"),o.innerHTML=r,this.h()},l(v){e=c(v,"DIV",{class:!0});var f=b(e);t=c(f,"LABEL",{class:!0});var k=b(t);l=c(k,"INPUT",{type:!0,class:!0}),n=x(k),o=c(k,"DIV",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-4iyyx"&&(o.innerHTML=r),k.forEach(u),f.forEach(u),this.h()},h(){i(l,"type","checkbox"),i(l,"class","checkbox checkbox-secondary checkbox-sm sm:checkbox-md"),i(o,"class","flex flex-col"),i(t,"class","label cursor-pointer justify-start gap-2 sm:gap-3 pb-1"),i(e,"class","form-control justify-center")},m(v,f){le(v,e,f),a(e,t),a(t,l),l.checked=s[11].isShared,a(t,n),a(t,o),h||(_=K(l,"change",s[37]),h=!0)},p(v,f){f[0]&18432&&(l.checked=v[11].isShared)},d(v){v&&u(e),h=!1,_()}}}function Gt(s){let e,t='<span class="label-text-alt text-neutral/60 italic text-xs">Agrega etiquetas para organizar mejor tus notas</span>';return{c(){e=d("label"),e.innerHTML=t,this.h()},l(l){e=c(l,"LABEL",{class:!0,"data-svelte-h":!0}),B(e)!=="svelte-113m63r"&&(e.innerHTML=t),this.h()},h(){i(e,"class","label pt-1")},m(l,n){le(l,e,n)},p:qe,d(l){l&&u(e)}}}function Qt(s){let e,t=He(s[11].tags),l=[];for(let n=0;n<t.length;n+=1)l[n]=gt(at(s,t,n));return{c(){e=d("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=c(n,"DIV",{class:!0});var o=b(e);for(let r=0;r<l.length;r+=1)l[r].l(o);o.forEach(u),this.h()},h(){i(e,"class","flex flex-wrap gap-1.5 sm:gap-2 mt-2 p-2 bg-neutral/10 rounded-lg border border-primary/20")},m(n,o){le(n,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(n,o){if(o[0]&526336){t=He(n[11].tags);let r;for(r=0;r<t.length;r+=1){const h=at(n,t,r);l[r]?l[r].p(h,o):(l[r]=gt(h),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(n){n&&u(e),ze(l,n)}}}function gt(s){let e,t,l=s[59]+"",n,o,r,h="‚úï",_,v,f;function k(){return s[41](s[59])}return{c(){e=d("div"),t=d("span"),n=de(l),o=E(),r=d("button"),r.textContent=h,_=E(),this.h()},l(y){e=c(y,"DIV",{class:!0});var m=b(e);t=c(m,"SPAN",{class:!0});var M=b(t);n=ce(M,l),M.forEach(u),o=x(m),r=c(m,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(r)!=="svelte-wlt3ik"&&(r.textContent=h),_=x(m),m.forEach(u),this.h()},h(){i(t,"class","text-xs sm:text-sm"),i(r,"type","button"),i(r,"class","btn btn-xs btn-circle btn-ghost hover:bg-error hover:text-white"),i(e,"class","badge badge-md sm:badge-lg gap-1.5 sm:gap-2 bg-secondary/20 border-secondary/40")},m(y,m){le(y,e,m),a(e,t),a(t,n),a(e,o),a(e,r),a(e,_),v||(f=K(r,"click",k),v=!0)},p(y,m){s=y,m[0]&2048&&l!==(l=s[59]+"")&&Me(n,l)},d(y){y&&u(e),v=!1,f()}}}function xt(s){let e,t,l,n,o="‚úï",r,h,_="‚úèÔ∏è Editar Nota",v,f,k,y,m='<span class="label-text font-medieval text-neutral text-sm sm:text-base md:text-lg">T√≠tulo <span class="text-error">*</span></span>',M,A,se,D,g,O,ke='<span class="label-text font-medieval text-neutral text-sm sm:text-base">Categor√≠a</span>',Z,C,re,he,$,w,ue='<span class="label-text font-medieval text-neutral text-sm sm:text-base md:text-lg">Contenido</span>',ve,N,G,S,L,J='<span class="label-text font-medieval text-neutral text-sm sm:text-base">üè∑Ô∏è Etiquetas</span>',P,R,ae,be,Q,oe,Te,fe,W,_e,ge,me="Cancelar",V,H,j,De="üíæ",pe,ie,ne,te,xe=He(s[14]),q=[];for(let I=0;I<xe.length;I+=1)q[I]=Et(st(s,xe,I));let X=s[13]&&kt(s),F=s[11].tags.length>0&&yt(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=d("button"),n.textContent=o,r=E(),h=d("h3"),h.textContent=_,v=E(),f=d("div"),k=d("div"),y=d("label"),y.innerHTML=m,M=E(),A=d("input"),se=E(),D=d("div"),g=d("div"),O=d("label"),O.innerHTML=ke,Z=E(),C=d("select");for(let I=0;I<q.length;I+=1)q[I].c();re=E(),X&&X.c(),he=E(),$=d("div"),w=d("label"),w.innerHTML=ue,ve=E(),N=d("textarea"),G=E(),S=d("div"),L=d("label"),L.innerHTML=J,P=E(),R=d("div"),ae=d("input"),be=E(),Q=d("button"),oe=de("‚ûï"),fe=E(),F&&F.c(),W=E(),_e=d("div"),ge=d("button"),ge.textContent=me,V=E(),H=d("button"),j=d("span"),j.textContent=De,pe=de(`\r
          Guardar Cambios`),this.h()},l(I){e=c(I,"DIV",{class:!0});var U=b(e);t=c(U,"DIV",{class:!0});var Y=b(t);l=c(Y,"DIV",{class:!0});var Ne=b(l);n=c(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),B(n)!=="svelte-3brl9s"&&(n.textContent=o),r=x(Ne),h=c(Ne,"H3",{class:!0,"data-svelte-h":!0}),B(h)!=="svelte-1amh2v5"&&(h.textContent=_),Ne.forEach(u),v=x(Y),f=c(Y,"DIV",{class:!0});var p=b(f);k=c(p,"DIV",{class:!0});var T=b(k);y=c(T,"LABEL",{class:!0,"data-svelte-h":!0}),B(y)!=="svelte-12ozdap"&&(y.innerHTML=m),M=x(T),A=c(T,"INPUT",{type:!0,placeholder:!0,class:!0}),T.forEach(u),se=x(p),D=c(p,"DIV",{class:!0});var ee=b(D);g=c(ee,"DIV",{class:!0});var z=b(g);O=c(z,"LABEL",{class:!0,"data-svelte-h":!0}),B(O)!=="svelte-185ss55"&&(O.innerHTML=ke),Z=x(z),C=c(z,"SELECT",{class:!0});var Ie=b(C);for(let Le=0;Le<q.length;Le+=1)q[Le].l(Ie);Ie.forEach(u),z.forEach(u),re=x(ee),X&&X.l(ee),ee.forEach(u),he=x(p),$=c(p,"DIV",{class:!0});var ye=b($);w=c(ye,"LABEL",{class:!0,"data-svelte-h":!0}),B(w)!=="svelte-q1ywz1"&&(w.innerHTML=ue),ve=x(ye),N=c(ye,"TEXTAREA",{placeholder:!0,class:!0}),b(N).forEach(u),ye.forEach(u),G=x(p),S=c(p,"DIV",{class:!0});var we=b(S);L=c(we,"LABEL",{class:!0,"data-svelte-h":!0}),B(L)!=="svelte-1d057c7"&&(L.innerHTML=J),P=x(we),R=c(we,"DIV",{class:!0});var Se=b(R);ae=c(Se,"INPUT",{type:!0,placeholder:!0,class:!0}),be=x(Se),Q=c(Se,"BUTTON",{type:!0,class:!0});var Oe=b(Q);oe=ce(Oe,"‚ûï"),Oe.forEach(u),Se.forEach(u),fe=x(we),F&&F.l(we),we.forEach(u),p.forEach(u),W=x(Y),_e=c(Y,"DIV",{class:!0});var je=b(_e);ge=c(je,"BUTTON",{class:!0,"data-svelte-h":!0}),B(ge)!=="svelte-1c6irq7"&&(ge.textContent=me),V=x(je),H=c(je,"BUTTON",{class:!0});var Ee=b(H);j=c(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),B(j)!=="svelte-uhsdc3"&&(j.textContent=De),pe=ce(Ee,`\r
          Guardar Cambios`),Ee.forEach(u),je.forEach(u),Y.forEach(u),U.forEach(u),this.h()},h(){i(n,"class","btn btn-xs sm:btn-sm btn-circle btn-ghost absolute right-2 top-2 hover:bg-error/20"),i(h,"class","font-bold text-xl sm:text-2xl md:text-3xl font-medieval text-neutral text-center pr-8"),i(l,"class","p-3 sm:p-4 md:p-5 border-b-2 border-secondary flex-shrink-0 bg-gradient-to-b from-[#f4e4c1] to-transparent"),i(y,"class","label pb-1"),i(A,"type","text"),i(A,"placeholder","Ej: Encuentro con el drag√≥n rojo"),i(A,"class","input input-sm sm:input-md input-bordered bg-[#2d241c] text-base-content border-primary/50 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),A.required=!0,i(k,"class","form-control"),i(O,"class","label pb-1"),i(C,"class","select select-sm sm:select-md select-bordered bg-[#2d241c] text-base-content border-primary/50 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),s[11].category===void 0&&Ye(()=>s[46].call(C)),i(g,"class","form-control"),i(D,"class","grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4"),i(w,"class","label pb-1"),i(N,"placeholder","Escribe aqu√≠ el contenido de tu nota..."),i(N,"class","textarea textarea-sm sm:textarea-md textarea-bordered bg-[#2d241c] text-base-content border-primary/50 h-32 sm:h-40 md:h-48 resize-none focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),i($,"class","form-control"),i(L,"class","label pb-1"),i(ae,"type","text"),i(ae,"placeholder","Presiona Enter para agregar..."),i(ae,"class","input input-sm sm:input-md input-bordered bg-[#2d241c] text-base-content border-primary/50 flex-1 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),i(Q,"type","button"),i(Q,"class","btn btn-sm sm:btn-md btn-secondary flex-shrink-0"),Q.disabled=Te=!s[12].trim(),i(R,"class","flex gap-2"),i(S,"class","form-control"),i(f,"class","flex-1 overflow-y-auto p-3 sm:p-4 md:p-5 space-y-3 sm:space-y-4 custom-scrollbar svelte-1vnfw7c"),i(ge,"class","btn btn-sm sm:btn-md btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval w-full sm:w-auto"),i(j,"class","text-lg sm:text-xl"),i(H,"class","btn btn-sm sm:btn-md btn-dnd w-full sm:w-auto"),H.disabled=ie=!s[11].title.trim(),i(_e,"class","flex flex-col-reverse sm:flex-row justify-center gap-2 sm:gap-4 p-3 sm:p-4 md:p-5 border-t-2 border-secondary flex-shrink-0 bg-gradient-to-t from-[#f4e4c1] to-transparent"),i(t,"class","card-parchment border-2 sm:border-4 border-secondary w-[95vw] sm:w-[90vw] md:w-3/4 lg:w-2/3 xl:w-1/2 max-w-3xl relative max-h-[92vh] flex flex-col m-2 sm:m-4"),i(e,"class","modal modal-open z-50")},m(I,U){le(I,e,U),a(e,t),a(t,l),a(l,n),a(l,r),a(l,h),a(t,v),a(t,f),a(f,k),a(k,y),a(k,M),a(k,A),Ce(A,s[11].title),a(f,se),a(f,D),a(D,g),a(g,O),a(g,Z),a(g,C);for(let Y=0;Y<q.length;Y+=1)q[Y]&&q[Y].m(C,null);Ue(C,s[11].category,!0),a(D,re),X&&X.m(D,null),a(f,he),a(f,$),a($,w),a($,ve),a($,N),Ce(N,s[11].content),a(f,G),a(f,S),a(S,L),a(S,P),a(S,R),a(R,ae),Ce(ae,s[12]),a(R,be),a(R,Q),a(Q,oe),a(S,fe),F&&F.m(S,null),a(t,W),a(t,_e),a(_e,ge),a(_e,V),a(_e,H),a(H,j),a(H,pe),ne||(te=[K(n,"click",s[44]),K(A,"input",s[45]),K(C,"change",s[46]),K(N,"input",s[48]),K(ae,"input",s[49]),K(ae,"keydown",s[50]),K(Q,"click",s[18]),K(ge,"click",s[52]),K(H,"click",s[21]),K(t,"click",It(s[26])),K(e,"click",s[53])],ne=!0)},p(I,U){if(U[0]&18432&&A.value!==I[11].title&&Ce(A,I[11].title),U[0]&16384){xe=He(I[14]);let Y;for(Y=0;Y<xe.length;Y+=1){const Ne=st(I,xe,Y);q[Y]?q[Y].p(Ne,U):(q[Y]=Et(Ne),q[Y].c(),q[Y].m(C,null))}for(;Y<q.length;Y+=1)q[Y].d(1);q.length=xe.length}U[0]&18432&&Ue(C,I[11].category),I[13]?X?X.p(I,U):(X=kt(I),X.c(),X.m(D,null)):X&&(X.d(1),X=null),U[0]&18432&&Ce(N,I[11].content),U[0]&4096&&ae.value!==I[12]&&Ce(ae,I[12]),U[0]&4096&&Te!==(Te=!I[12].trim())&&(Q.disabled=Te),I[11].tags.length>0?F?F.p(I,U):(F=yt(I),F.c(),F.m(S,null)):F&&(F.d(1),F=null),U[0]&18432&&ie!==(ie=!I[11].title.trim())&&(H.disabled=ie)},d(I){I&&u(e),ze(q,I),X&&X.d(),F&&F.d(),ne=!1,Xe(te)}}}function Et(s){let e,t=s[62].label+"",l;return{c(){e=d("option"),l=de(t),this.h()},l(n){e=c(n,"OPTION",{});var o=b(e);l=ce(o,t),o.forEach(u),this.h()},h(){e.__value=s[62].value,Ce(e,e.__value)},m(n,o){le(n,e,o),a(e,l)},p:qe,d(n){n&&u(e)}}}function kt(s){let e,t,l,n,o,r='<span class="label-text font-medieval text-neutral text-sm sm:text-base">üåê Compartir con jugadores</span> <span class="label-text-alt text-neutral/60 italic text-xs">Los jugadores podr√°n ver esta nota</span>',h,_;return{c(){e=d("div"),t=d("label"),l=d("input"),n=E(),o=d("div"),o.innerHTML=r,this.h()},l(v){e=c(v,"DIV",{class:!0});var f=b(e);t=c(f,"LABEL",{class:!0});var k=b(t);l=c(k,"INPUT",{type:!0,class:!0}),n=x(k),o=c(k,"DIV",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-4iyyx"&&(o.innerHTML=r),k.forEach(u),f.forEach(u),this.h()},h(){i(l,"type","checkbox"),i(l,"class","checkbox checkbox-secondary checkbox-sm sm:checkbox-md"),i(o,"class","flex flex-col"),i(t,"class","label cursor-pointer justify-start gap-2 sm:gap-3 pb-1"),i(e,"class","form-control justify-center")},m(v,f){le(v,e,f),a(e,t),a(t,l),l.checked=s[11].isShared,a(t,n),a(t,o),h||(_=K(l,"change",s[47]),h=!0)},p(v,f){f[0]&18432&&(l.checked=v[11].isShared)},d(v){v&&u(e),h=!1,_()}}}function yt(s){let e,t=He(s[11].tags),l=[];for(let n=0;n<t.length;n+=1)l[n]=Ct(lt(s,t,n));return{c(){e=d("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=c(n,"DIV",{class:!0});var o=b(e);for(let r=0;r<l.length;r+=1)l[r].l(o);o.forEach(u),this.h()},h(){i(e,"class","flex flex-wrap gap-1.5 sm:gap-2 mt-2 p-2 bg-neutral/10 rounded-lg border border-primary/20")},m(n,o){le(n,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(n,o){if(o[0]&526336){t=He(n[11].tags);let r;for(r=0;r<t.length;r+=1){const h=lt(n,t,r);l[r]?l[r].p(h,o):(l[r]=Ct(h),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(n){n&&u(e),ze(l,n)}}}function Ct(s){let e,t,l=s[59]+"",n,o,r,h="‚úï",_,v,f;function k(){return s[51](s[59])}return{c(){e=d("div"),t=d("span"),n=de(l),o=E(),r=d("button"),r.textContent=h,_=E(),this.h()},l(y){e=c(y,"DIV",{class:!0});var m=b(e);t=c(m,"SPAN",{class:!0});var M=b(t);n=ce(M,l),M.forEach(u),o=x(m),r=c(m,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(r)!=="svelte-wlt3ik"&&(r.textContent=h),_=x(m),m.forEach(u),this.h()},h(){i(t,"class","text-xs sm:text-sm"),i(r,"type","button"),i(r,"class","btn btn-xs btn-circle btn-ghost hover:bg-error hover:text-white"),i(e,"class","badge badge-md sm:badge-lg gap-1.5 sm:gap-2 bg-secondary/20 border-secondary/40")},m(y,m){le(y,e,m),a(e,t),a(t,n),a(e,o),a(e,r),a(e,_),v||(f=K(r,"click",k),v=!0)},p(y,m){s=y,m[0]&2048&&l!==(l=s[59]+"")&&Me(n,l)},d(y){y&&u(e),v=!1,f()}}}function Rt(s){let e,t,l,n,o,r=`<span class="text-xl">‚ûï</span>
          Nueva Nota`,h,_,v,f="üìù Notas",k,y,m=s[13]?"Gestiona tus notas personales y compartidas":"Tus notas personales de aventurero",M,A,se,D,g=`<span class="text-xl">‚ûï</span>
          Nueva Nota`,O,ke,Z,C,re,he,$,w=s[7]&&ct(s);function ue(L,J){return L[6]?jt:Pt}let ve=ue(s),N=ve(s),G=s[8]&&vt(s),S=s[9]&&s[10]&&xt(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=d("div"),o=d("button"),o.innerHTML=r,h=E(),_=d("div"),v=d("h1"),v.textContent=f,k=E(),y=d("p"),M=de(m),A=E(),se=d("div"),D=d("button"),D.innerHTML=g,O=E(),w&&w.c(),ke=E(),N.c(),Z=E(),G&&G.c(),C=E(),S&&S.c(),re=We(),this.h()},l(L){e=c(L,"DIV",{class:!0});var J=b(e);t=c(J,"DIV",{class:!0});var P=b(t);l=c(P,"DIV",{class:!0});var R=b(l);n=c(R,"DIV",{class:!0});var ae=b(n);o=c(ae,"BUTTON",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-wgcxni"&&(o.innerHTML=r),h=x(ae),_=c(ae,"DIV",{class:!0});var be=b(_);v=c(be,"H1",{class:!0,"data-svelte-h":!0}),B(v)!=="svelte-hd92os"&&(v.textContent=f),k=x(be),y=c(be,"P",{class:!0});var Q=b(y);M=ce(Q,m),Q.forEach(u),be.forEach(u),ae.forEach(u),A=x(R),se=c(R,"DIV",{class:!0});var oe=b(se);D=c(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),B(D)!=="svelte-ozaowx"&&(D.innerHTML=g),oe.forEach(u),R.forEach(u),O=x(P),w&&w.l(P),ke=x(P),N.l(P),P.forEach(u),J.forEach(u),Z=x(L),G&&G.l(L),C=x(L),S&&S.l(L),re=We(),this.h()},h(){i(o,"class","btn btn-dnd hidden sm:block absolute right-0 top-0"),i(v,"class","text-3xl md:text-4xl font-bold text-secondary title-ornament"),i(y,"class","text-base-content/70 font-body italic mt-2"),i(_,"class","text-center"),i(n,"class","relative"),i(D,"class","btn btn-dnd"),i(se,"class","flex justify-center mt-4 sm:hidden"),i(l,"class","mb-6"),i(t,"class","container mx-auto max-w-7xl"),i(e,"class","min-h-screen p-4 md:p-6")},m(L,J){le(L,e,J),a(e,t),a(t,l),a(l,n),a(n,o),a(n,h),a(n,_),a(_,v),a(_,k),a(_,y),a(y,M),a(l,A),a(l,se),a(se,D),a(t,O),w&&w.m(t,null),a(t,ke),N.m(t,null),le(L,Z,J),G&&G.m(L,J),le(L,C,J),S&&S.m(L,J),le(L,re,J),he||($=[K(o,"click",s[15]),K(D,"click",s[15])],he=!0)},p(L,J){J[0]&8192&&m!==(m=L[13]?"Gestiona tus notas personales y compartidas":"Tus notas personales de aventurero")&&Me(M,m),L[7]?w?w.p(L,J):(w=ct(L),w.c(),w.m(t,ke)):w&&(w.d(1),w=null),ve===(ve=ue(L))&&N?N.p(L,J):(N.d(1),N=ve(L),N&&(N.c(),N.m(t,null))),L[8]?G?G.p(L,J):(G=vt(L),G.c(),G.m(C.parentNode,C)):G&&(G.d(1),G=null),L[9]&&L[10]?S?S.p(L,J):(S=xt(L),S.c(),S.m(re.parentNode,re)):S&&(S.d(1),S=null)},i:qe,o:qe,d(L){L&&(u(e),u(Z),u(C),u(re)),w&&w.d(),N.d(),G&&G.d(L),S&&S.d(L),he=!1,Xe($)}}}function Tt(s){try{const e=new Date(s);return isNaN(e.getTime())?"Fecha no disponible":e.toLocaleDateString("es",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formateando fecha:",e),"Fecha no disponible"}}function Xt(s,e,t){let l,n,o,r;Ze(s,At,p=>t(4,o=p)),Ze(s,Mt,p=>t(25,r=p)),St.set("üìù Notas");let h=null,_=[],v=[],f=!0,k="",y="",m="all",M="all",A=!1,se=!1,D=null,g={title:"",content:"",isShared:!1,category:"other",tags:[]},O="",ke=null;const Z=Ht(Bt),C=[{value:"session",label:"üìÖ Sesi√≥n",icon:"üìÖ"},{value:"npc",label:"üë§ NPC",icon:"üë§"},{value:"location",label:"üó∫Ô∏è Ubicaci√≥n",icon:"üó∫Ô∏è"},{value:"plot",label:"üìñ Trama",icon:"üìñ"},{value:"other",label:"üìù Otro",icon:"üìù"}];Nt(async()=>{await re(),he()}),Vt(()=>{ke&&ke()});async function re(){try{t(24,h=await Ke.getCampaign(l))}catch(p){t(7,k=p.message)}}function he(){if(o)try{let p=function(){if(z&&Ie){const Ee=[...T,...ee],Le=Array.from(new Map(Ee.map(Ve=>[Ve.id,Ve])).values());t(0,_=Le.sort((Ve,Ae)=>new Date(Ae.updatedAt).getTime()-new Date(Ve.updatedAt).getTime())),t(6,f=!1)}};t(6,f=!0);let T=[],ee=[],z=!1,Ie=!1;const ye=Ot(Z,"notes"),we=et(ye,Re("campaignId","==",l),Re("authorId","==",o.uid),Re("isShared","==",!1)),Se=et(ye,Re("campaignId","==",l),Re("isShared","==",!0)),Oe=tt(we,Ee=>{T=Ee.docs.map(Le=>{var Ae,Pe,Fe,Be,Ge,Qe;const Ve=Le.data();return{id:Le.id,...Ve,createdAt:((Fe=(Pe=(Ae=Ve.createdAt)==null?void 0:Ae.toDate)==null?void 0:Pe.call(Ae))==null?void 0:Fe.toISOString())||new Date().toISOString(),updatedAt:((Qe=(Ge=(Be=Ve.updatedAt)==null?void 0:Be.toDate)==null?void 0:Ge.call(Be))==null?void 0:Qe.toISOString())||new Date().toISOString()}}),z=!0,p()},Ee=>{console.error("Error en listener de notas personales:",Ee),t(7,k=Ee.message),t(6,f=!1)}),je=tt(Se,Ee=>{ee=Ee.docs.map(Le=>{var Ae,Pe,Fe,Be,Ge,Qe;const Ve=Le.data();return{id:Le.id,...Ve,createdAt:((Fe=(Pe=(Ae=Ve.createdAt)==null?void 0:Ae.toDate)==null?void 0:Pe.call(Ae))==null?void 0:Fe.toISOString())||new Date().toISOString(),updatedAt:((Qe=(Ge=(Be=Ve.updatedAt)==null?void 0:Be.toDate)==null?void 0:Ge.call(Be))==null?void 0:Qe.toISOString())||new Date().toISOString()}}),Ie=!0,p()},Ee=>{console.error("Error en listener de notas compartidas:",Ee),t(7,k=Ee.message),t(6,f=!1)});ke=()=>{Oe(),je()}}catch(p){t(7,k=p.message),t(6,f=!1)}}function $(){ue(),t(8,A=!0)}function w(p){t(10,D=p),t(11,g={title:p.title,content:p.content,isShared:p.isShared,category:p.category,tags:[...p.tags]}),t(9,se=!0)}function ue(){t(11,g={title:"",content:"",isShared:!1,category:"other",tags:[]}),t(12,O="")}function ve(){if(!O.trim())return;const p=O.trim().toLowerCase();g.tags.includes(p)||t(11,g.tags=[...g.tags,p],g),t(12,O="")}function N(p){t(11,g.tags=g.tags.filter(T=>T!==p),g)}async function G(){if(g.title.trim())try{await Ke.createNote(l,g),t(8,A=!1),ue()}catch(p){t(7,k=p.message)}}async function S(){if(!(!D||!g.title.trim()))try{await Ke.updateNote(D.id,g),t(9,se=!1),t(10,D=null),ue()}catch(p){t(7,k=p.message)}}async function L(p){if(confirm(`¬øEliminar la nota "${p.title}"?`))try{await Ke.deleteNote(p.id)}catch(T){t(7,k=T.message)}}function J(p){var T;return((T=C.find(ee=>ee.value===p))==null?void 0:T.icon)||"üìù"}function P(p){$e.call(this,s,p)}function R(p){$e.call(this,s,p)}const ae=()=>t(7,k="");function be(){y=this.value,t(1,y)}function Q(){m=Je(this),t(2,m),t(14,C)}function oe(){M=Je(this),t(3,M)}const Te=p=>w(p),fe=p=>L(p),W=()=>{t(8,A=!1),ue()};function _e(){g.title=this.value,t(11,g),t(14,C)}function ge(){g.category=Je(this),t(11,g),t(14,C)}function me(){g.isShared=this.checked,t(11,g),t(14,C)}function V(){g.content=this.value,t(11,g),t(14,C)}function H(){O=this.value,t(12,O)}const j=p=>p.key==="Enter"&&(p.preventDefault(),ve()),De=p=>N(p),pe=()=>{t(8,A=!1),ue()},ie=()=>{t(8,A=!1),ue()},ne=()=>{t(9,se=!1),t(10,D=null),ue()};function te(){g.title=this.value,t(11,g),t(14,C)}function xe(){g.category=Je(this),t(11,g),t(14,C)}function q(){g.isShared=this.checked,t(11,g),t(14,C)}function X(){g.content=this.value,t(11,g),t(14,C)}function F(){O=this.value,t(12,O)}const I=p=>p.key==="Enter"&&(p.preventDefault(),ve()),U=p=>N(p),Y=()=>{t(9,se=!1),t(10,D=null),ue()},Ne=()=>{t(9,se=!1),t(10,D=null),ue()};return s.$$.update=()=>{s.$$.dirty[0]&33554432&&(l=r.params.id||""),s.$$.dirty[0]&16777232&&t(13,n=h&&o&&h.dmId===o.uid),s.$$.dirty[0]&15&&t(5,v=_.filter(p=>{if(y){const T=y.toLowerCase(),ee=p.title.toLowerCase().includes(T),z=p.content.toLowerCase().includes(T),Ie=p.tags.some(ye=>ye.toLowerCase().includes(T));if(!ee&&!z&&!Ie)return!1}return!(m!=="all"&&p.category!==m||M==="personal"&&p.isShared||M==="shared"&&!p.isShared)}))},[_,y,m,M,o,v,f,k,A,se,D,g,O,n,C,$,w,ue,ve,N,G,S,L,J,h,r,P,R,ae,be,Q,oe,Te,fe,W,_e,ge,me,V,H,j,De,pe,ie,ne,te,xe,q,X,F,I,U,Y,Ne]}class tl extends Dt{constructor(e){super(),wt(this,e,Xt,Rt,Lt,{},null,[-1,-1,-1])}}export{tl as component};
