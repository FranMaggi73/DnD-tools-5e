import{S as xt,i as Ct,s as yt,n as pe,d as f,a as le,m as i,b as Z,c as n,e as u,f as _,h as I,g as U,j as d,k as D,t as z,G as zt,o as S,r as ae,x as at,u as Je,Z as _t,q as vt,a2 as ts,F as ls,H as Fe,B as cl,v as _e,D as ss,J as Wt,K as Qt,L as jt,M as Re,N as je,O as Zt,P as Jt,Q as St,R as Bt,T as Ut,l as ul,p as ns,A as rs,U as Yt}from"../chunks/p5AMOfhA.js";import{e as Te,o as gt,h as as,a as ze}from"../chunks/B4wUI4WB.js";import"../chunks/IHki7fMi.js";import{p as os}from"../chunks/Bckhbwj5.js";import{u as is}from"../chunks/DFx7P9KZ.js";import{g as cs,c as dl,q as fl,w as Kt,o as hl,a as us}from"../chunks/eN7n43qG.js";import{c as ds}from"../chunks/Bhgkhhu0.js";function vl(l,e,t){const s=l.slice();return s[11]=e[t],s}function ml(l){let e,t="‚öîÔ∏è SU TURNO";return{c(){e=d("div"),e.textContent=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-tne6n3"&&(e.textContent=t),this.h()},h(){i(e,"class","absolute -top-3 -right-3 badge badge-ornate text-sm sm:text-lg animate-bounce z-10")},m(s,a){Z(s,e,a)},d(s){s&&f(e)}}}function pl(l){let e,t='<span class="text-4xl sm:text-6xl">üíÄ</span>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-1m5cl71"&&(e.innerHTML=t),this.h()},h(){i(e,"class","absolute inset-0 bg-error/20 flex items-center justify-center -z-10 rounded-lg")},m(s,a){Z(s,e,a)},d(s){s&&f(e)}}}function bl(l){let e,t,s=l[0].armorClass+"",a;return{c(){e=d("div"),t=z("üõ°Ô∏è AC "),a=z(s),this.h()},l(o){e=u(o,"DIV",{class:!0});var r=_(e);t=U(r,"üõ°Ô∏è AC "),a=U(r,s),r.forEach(f),this.h()},h(){i(e,"class","badge badge-xs sm:badge-sm bg-info/30 text-neutral border-info/50")},m(o,r){Z(o,e,r),n(e,t),n(e,a)},p(o,r){r&1&&s!==(s=o[0].armorClass+"")&&le(a,s)},d(o){o&&f(e)}}}function _l(l){let e,t,s='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',a,o,r,c,h="üóëÔ∏è Eliminar",p,m;return{c(){e=d("div"),t=d("label"),t.innerHTML=s,a=D(),o=d("ul"),r=d("li"),c=d("a"),c.textContent=h,this.h()},l(g){e=u(g,"DIV",{class:!0});var b=_(e);t=u(b,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),S(t)!=="svelte-13tftyw"&&(t.innerHTML=s),a=I(b),o=u(b,"UL",{tabindex:!0,class:!0});var C=_(o);r=u(C,"LI",{});var x=_(r);c=u(x,"A",{class:!0,"data-svelte-h":!0}),S(c)!=="svelte-hji4ll"&&(c.textContent=h),x.forEach(f),C.forEach(f),b.forEach(f),this.h()},h(){i(t,"tabindex","0"),i(t,"class","btn btn-ghost btn-xs btn-circle"),i(c,"class","text-error"),i(o,"tabindex","0"),i(o,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-40 sm:w-52 border-2 border-secondary text-sm"),i(e,"class","dropdown dropdown-end flex-shrink-0")},m(g,b){Z(g,e,b),n(e,t),n(e,a),n(e,o),n(o,r),n(r,c),p||(m=ae(c,"click",l[9]),p=!0)},p:pe,d(g){g&&f(e),p=!1,m()}}}function fs(l){let e,t,s,a="Estado",o,r,c,h=l[4].icon+"",p,m,g,b=l[4].label+"",C,x,k,v,w,E,y;return{c(){e=d("div"),t=d("div"),s=d("span"),s.textContent=a,o=D(),r=d("div"),c=d("span"),p=z(h),m=D(),g=d("span"),C=z(b),k=D(),v=d("div"),w=d("div"),this.h()},l(P){e=u(P,"DIV",{class:!0});var M=_(e);t=u(M,"DIV",{class:!0});var T=_(t);s=u(T,"SPAN",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-1lnb92u"&&(s.textContent=a),o=I(T),r=u(T,"DIV",{class:!0});var H=_(r);c=u(H,"SPAN",{class:!0});var A=_(c);p=U(A,h),A.forEach(f),m=I(H),g=u(H,"SPAN",{class:!0});var N=_(g);C=U(N,b),N.forEach(f),H.forEach(f),T.forEach(f),k=I(M),v=u(M,"DIV",{class:!0});var L=_(v);w=u(L,"DIV",{class:!0,style:!0}),_(w).forEach(f),L.forEach(f),M.forEach(f),this.h()},h(){i(s,"class","text-xs font-medieval text-neutral/70"),i(c,"class","text-lg sm:text-xl"),i(g,"class",x="font-medieval text-xs sm:text-sm "+l[4].color+" font-bold"),i(r,"class","flex items-center gap-1"),i(t,"class","flex items-center justify-between gap-2"),i(w,"class",E="bg-"+l[6]+" h-full rounded-full transition-all duration-300"),_t(w,"width",l[3]+"%"),i(v,"class","w-full bg-neutral/20 rounded-full h-1.5 sm:h-2 mt-1"),i(e,"class",y="bg-"+l[6]+"/10 p-2 rounded-lg border border-"+l[6]+"/30")},m(P,M){Z(P,e,M),n(e,t),n(t,s),n(t,o),n(t,r),n(r,c),n(c,p),n(r,m),n(r,g),n(g,C),n(e,k),n(e,v),n(v,w)},p(P,M){M&16&&h!==(h=P[4].icon+"")&&le(p,h),M&16&&b!==(b=P[4].label+"")&&le(C,b),M&16&&x!==(x="font-medieval text-xs sm:text-sm "+P[4].color+" font-bold")&&i(g,"class",x),M&64&&E!==(E="bg-"+P[6]+" h-full rounded-full transition-all duration-300")&&i(w,"class",E),M&8&&_t(w,"width",P[3]+"%"),M&64&&y!==(y="bg-"+P[6]+"/10 p-2 rounded-lg border border-"+P[6]+"/30")&&i(e,"class",y)},d(P){P&&f(e)}}}function hs(l){let e,t,s="Puntos de Vida",a,o,r=l[0].currentHp+"",c,h,p=l[0].maxHp+"",m,g,b,C,x,k;return{c(){e=d("div"),t=d("span"),t.textContent=s,a=D(),o=d("span"),c=z(r),h=z("/"),m=z(p),g=D(),b=d("progress"),this.h()},l(v){e=u(v,"DIV",{class:!0});var w=_(e);t=u(w,"SPAN",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-1a9ef08"&&(t.textContent=s),a=I(w),o=u(w,"SPAN",{class:!0});var E=_(o);c=U(E,r),h=U(E,"/"),m=U(E,p),E.forEach(f),w.forEach(f),g=I(v),b=u(v,"PROGRESS",{class:!0,max:!0}),_(b).forEach(f),this.h()},h(){i(t,"class","text-xs font-medieval text-neutral/70"),i(o,"class","font-bold text-neutral text-sm sm:text-base"),i(e,"class","flex justify-between items-center mb-1"),i(b,"class",C="progress progress-"+l[6]+" w-full h-2 sm:h-3"),b.value=x=l[0].currentHp,i(b,"max",k=l[0].maxHp)},m(v,w){Z(v,e,w),n(e,t),n(e,a),n(e,o),n(o,c),n(o,h),n(o,m),Z(v,g,w),Z(v,b,w)},p(v,w){w&1&&r!==(r=v[0].currentHp+"")&&le(c,r),w&1&&p!==(p=v[0].maxHp+"")&&le(m,p),w&64&&C!==(C="progress progress-"+v[6]+" w-full h-2 sm:h-3")&&i(b,"class",C),w&1&&x!==(x=v[0].currentHp)&&(b.value=x),w&1&&k!==(k=v[0].maxHp)&&i(b,"max",k)},d(v){v&&(f(e),f(g),f(b))}}}function gl(l){let e,t,s="Condiciones:",a,o,r=Te(l[0].conditions),c=[];for(let h=0;h<r.length;h+=1)c[h]=xl(vl(l,r,h));return{c(){e=d("div"),t=d("span"),t.textContent=s,a=D(),o=d("div");for(let h=0;h<c.length;h+=1)c[h].c();this.h()},l(h){e=u(h,"DIV",{class:!0});var p=_(e);t=u(p,"SPAN",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-maxnwi"&&(t.textContent=s),a=I(p),o=u(p,"DIV",{class:!0});var m=_(o);for(let g=0;g<c.length;g+=1)c[g].l(m);m.forEach(f),p.forEach(f),this.h()},h(){i(t,"class","text-xs font-medieval text-neutral/70 block mb-1"),i(o,"class","flex flex-wrap gap-1"),i(e,"class","mt-2")},m(h,p){Z(h,e,p),n(e,t),n(e,a),n(e,o);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(o,null)},p(h,p){if(p&1){r=Te(h[0].conditions);let m;for(m=0;m<r.length;m+=1){const g=vl(h,r,m);c[m]?c[m].p(g,p):(c[m]=xl(g),c[m].c(),c[m].m(o,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=r.length}},d(h){h&&f(e),at(c,h)}}}function xl(l){let e,t=l[11]+"",s;return{c(){e=d("div"),s=z(t),this.h()},l(a){e=u(a,"DIV",{class:!0});var o=_(e);s=U(o,t),o.forEach(f),this.h()},h(){i(e,"class","badge badge-xs sm:badge-sm badge-warning")},m(a,o){Z(a,e,o),n(e,s)},p(a,o){o&1&&t!==(t=a[11]+"")&&le(s,t)},d(a){a&&f(e)}}}function Cl(l){let e,t,s="üíö HP",a,o,r="‚ö†Ô∏è Estado",c,h;return{c(){e=d("div"),t=d("button"),t.textContent=s,a=D(),o=d("button"),o.textContent=r,this.h()},l(p){e=u(p,"DIV",{class:!0});var m=_(e);t=u(m,"BUTTON",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-1u8cl5l"&&(t.textContent=s),a=I(m),o=u(m,"BUTTON",{class:!0,"data-svelte-h":!0}),S(o)!=="svelte-1lc9vql"&&(o.textContent=r),m.forEach(f),this.h()},h(){i(t,"class","btn btn-xs sm:btn-sm btn-success flex-1"),i(o,"class","btn btn-xs sm:btn-sm btn-warning flex-1"),i(e,"class","flex gap-2 mt-3")},m(p,m){Z(p,e,m),n(e,t),n(e,a),n(e,o),c||(h=[ae(t,"click",l[7]),ae(o,"click",l[8])],c=!0)},p:pe,d(p){p&&f(e),c=!1,Je(h)}}}function vs(l){let e,t,s,a,o,r,c,h,p,m=l[0].isNpc?"üëπ":"üßô‚Äç‚ôÇÔ∏è",g,b,C,x,k,v=l[0].name+"",w,E,y,P,M,T=l[0].initiative+"",H,A,N,L,G,te,V,Q,j=l[1]&&ml(),O=l[5]&&pl(),R=l[2]&&bl(l),W=l[2]&&_l(l);function re(K,q){return K[2]?hs:fs}let $=re(l),B=$(l),F=l[0].conditions&&l[0].conditions.length>0&&gl(l),J=l[2]&&Cl(l);return{c(){e=d("div"),j&&j.c(),t=D(),O&&O.c(),s=D(),a=d("div"),o=d("div"),r=d("div"),c=d("div"),h=d("div"),p=d("span"),g=z(m),C=D(),x=d("div"),k=d("h3"),w=z(v),E=D(),y=d("div"),P=d("div"),M=z("üé≤ "),H=z(T),A=D(),R&&R.c(),N=D(),W&&W.c(),L=D(),G=d("div"),B.c(),te=D(),F&&F.c(),V=D(),J&&J.c(),this.h()},l(K){e=u(K,"DIV",{class:!0});var q=_(e);j&&j.l(q),t=I(q),O&&O.l(q),s=I(q),a=u(q,"DIV",{class:!0});var Y=_(a);o=u(Y,"DIV",{class:!0});var se=_(o);r=u(se,"DIV",{class:!0});var ee=_(r);c=u(ee,"DIV",{class:!0});var ue=_(c);h=u(ue,"DIV",{class:!0});var he=_(h);p=u(he,"SPAN",{class:!0});var be=_(p);g=U(be,m),be.forEach(f),he.forEach(f),ue.forEach(f),ee.forEach(f),C=I(se),x=u(se,"DIV",{class:!0});var X=_(x);k=u(X,"H3",{class:!0});var oe=_(k);w=U(oe,v),oe.forEach(f),E=I(X),y=u(X,"DIV",{class:!0});var ie=_(y);P=u(ie,"DIV",{class:!0});var ne=_(P);M=U(ne,"üé≤ "),H=U(ne,T),ne.forEach(f),A=I(ie),R&&R.l(ie),ie.forEach(f),X.forEach(f),N=I(se),W&&W.l(se),se.forEach(f),L=I(Y),G=u(Y,"DIV",{class:!0});var fe=_(G);B.l(fe),fe.forEach(f),te=I(Y),F&&F.l(Y),V=I(Y),J&&J.l(Y),Y.forEach(f),q.forEach(f),this.h()},h(){i(p,"class","text-xl sm:text-2xl"),i(h,"class","bg-primary/20 flex items-center justify-center"),i(c,"class",b="w-12 h-12 sm:w-16 sm:h-16 rounded-full ring-2 "+(l[1]?"ring-secondary":"ring-primary/50")),i(r,"class","avatar flex-shrink-0"),i(k,"class","font-medieval text-base sm:text-lg text-neutral font-bold truncate"),i(P,"class","badge badge-xs sm:badge-sm bg-primary/30 text-neutral border-primary/50"),i(y,"class","flex flex-wrap gap-1 sm:gap-2 mt-1"),i(x,"class","flex-1 min-w-0"),i(o,"class","flex items-start gap-2 sm:gap-3"),i(G,"class","mt-2 sm:mt-3"),i(a,"class","card-body p-3 sm:p-4"),i(e,"class",Q="card-parchment corner-ornament relative "+(l[1]?"ring-4 ring-secondary animate-pulse":"")+" "+(l[5]?"opacity-50":""))},m(K,q){Z(K,e,q),j&&j.m(e,null),n(e,t),O&&O.m(e,null),n(e,s),n(e,a),n(a,o),n(o,r),n(r,c),n(c,h),n(h,p),n(p,g),n(o,C),n(o,x),n(x,k),n(k,w),n(x,E),n(x,y),n(y,P),n(P,M),n(P,H),n(y,A),R&&R.m(y,null),n(o,N),W&&W.m(o,null),n(a,L),n(a,G),B.m(G,null),n(a,te),F&&F.m(a,null),n(a,V),J&&J.m(a,null)},p(K,[q]){K[1]?j||(j=ml(),j.c(),j.m(e,t)):j&&(j.d(1),j=null),K[5]?O||(O=pl(),O.c(),O.m(e,s)):O&&(O.d(1),O=null),q&1&&m!==(m=K[0].isNpc?"üëπ":"üßô‚Äç‚ôÇÔ∏è")&&le(g,m),q&2&&b!==(b="w-12 h-12 sm:w-16 sm:h-16 rounded-full ring-2 "+(K[1]?"ring-secondary":"ring-primary/50"))&&i(c,"class",b),q&1&&v!==(v=K[0].name+"")&&le(w,v),q&1&&T!==(T=K[0].initiative+"")&&le(H,T),K[2]?R?R.p(K,q):(R=bl(K),R.c(),R.m(y,null)):R&&(R.d(1),R=null),K[2]?W?W.p(K,q):(W=_l(K),W.c(),W.m(o,null)):W&&(W.d(1),W=null),$===($=re(K))&&B?B.p(K,q):(B.d(1),B=$(K),B&&(B.c(),B.m(G,null))),K[0].conditions&&K[0].conditions.length>0?F?F.p(K,q):(F=gl(K),F.c(),F.m(a,V)):F&&(F.d(1),F=null),K[2]?J?J.p(K,q):(J=Cl(K),J.c(),J.m(a,null)):J&&(J.d(1),J=null),q&34&&Q!==(Q="card-parchment corner-ornament relative "+(K[1]?"ring-4 ring-secondary animate-pulse":"")+" "+(K[5]?"opacity-50":""))&&i(e,"class",Q)},i:pe,o:pe,d(K){K&&f(e),j&&j.d(),O&&O.d(),R&&R.d(),W&&W.d(),B.d(),F&&F.d(),J&&J.d()}}}function ms(l){return l<=0?{label:"Ca√≠do",icon:"üíÄ",color:"text-error"}:l<25?{label:"Gravemente herido",icon:"ü©∏",color:"text-error"}:l<50?{label:"Herido",icon:"ü§ï",color:"text-warning"}:l<75?{label:"Lastimado",icon:"üò£",color:"text-warning"}:l<100?{label:"Ligeramente herido",icon:"üòê",color:"text-success"}:{label:"Ileso",icon:"üí™",color:"text-success"}}function ps(l,e,t){let s,a,o,r,{combatant:c}=e,{isCurrentTurn:h=!1}=e,{isDM:p=!1}=e;const m=zt();function g(){m("updateHP",c)}function b(){m("addCondition",c)}function C(){m("remove",c)}return l.$$set=x=>{"combatant"in x&&t(0,c=x.combatant),"isCurrentTurn"in x&&t(1,h=x.isCurrentTurn),"isDM"in x&&t(2,p=x.isDM)},l.$$.update=()=>{l.$$.dirty&1&&t(3,s=c.currentHp/c.maxHp*100),l.$$.dirty&8&&t(6,a=s>50?"success":s>25?"warning":"error"),l.$$.dirty&1&&t(5,o=c.currentHp<=0),l.$$.dirty&8&&t(4,r=ms(s))},[c,h,p,s,r,o,a,g,b,C]}class bs extends xt{constructor(e){super(),Ct(this,e,ps,vs,yt,{combatant:0,isCurrentTurn:1,isDM:2})}}var Lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _s(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function gs(l){var e=typeof l;return l!=null&&(e=="object"||e=="function")}var Xl=gs,xs=typeof Lt=="object"&&Lt&&Lt.Object===Object&&Lt,Cs=xs,ys=Cs,Es=typeof self=="object"&&self&&self.Object===Object&&self,ks=ys||Es||Function("return this")(),Zl=ks,ws=Zl,Is=function(){return ws.Date.now()},Ds=Is,Ts=/\s/;function Vs(l){for(var e=l.length;e--&&Ts.test(l.charAt(e)););return e}var Hs=Vs,Ms=Hs,Ps=/^\s+/;function As(l){return l&&l.slice(0,Ms(l)+1).replace(Ps,"")}var Os=As,Ns=Zl,Ls=Ns.Symbol,Yl=Ls,yl=Yl,$l=Object.prototype,js=$l.hasOwnProperty,Ss=$l.toString,bt=yl?yl.toStringTag:void 0;function Bs(l){var e=js.call(l,bt),t=l[bt];try{l[bt]=void 0;var s=!0}catch{}var a=Ss.call(l);return s&&(e?l[bt]=t:delete l[bt]),a}var Us=Bs,zs=Object.prototype,Rs=zs.toString;function Fs(l){return Rs.call(l)}var qs=Fs,El=Yl,Gs=Us,Ws=qs,Qs="[object Null]",Js="[object Undefined]",kl=El?El.toStringTag:void 0;function Ks(l){return l==null?l===void 0?Js:Qs:kl&&kl in Object(l)?Gs(l):Ws(l)}var Xs=Ks;function Zs(l){return l!=null&&typeof l=="object"}var Ys=Zs,$s=Xs,en=Ys,tn="[object Symbol]";function ln(l){return typeof l=="symbol"||en(l)&&$s(l)==tn}var sn=ln,nn=Os,wl=Xl,rn=sn,Il=NaN,an=/^[-+]0x[0-9a-f]+$/i,on=/^0b[01]+$/i,cn=/^0o[0-7]+$/i,un=parseInt;function dn(l){if(typeof l=="number")return l;if(rn(l))return Il;if(wl(l)){var e=typeof l.valueOf=="function"?l.valueOf():l;l=wl(e)?e+"":e}if(typeof l!="string")return l===0?l:+l;l=nn(l);var t=on.test(l);return t||cn.test(l)?un(l.slice(2),t?2:8):an.test(l)?Il:+l}var fn=dn,hn=Xl,Xt=Ds,Dl=fn,vn="Expected a function",mn=Math.max,pn=Math.min;function bn(l,e,t){var s,a,o,r,c,h,p=0,m=!1,g=!1,b=!0;if(typeof l!="function")throw new TypeError(vn);e=Dl(e)||0,hn(t)&&(m=!!t.leading,g="maxWait"in t,o=g?mn(Dl(t.maxWait)||0,e):o,b="trailing"in t?!!t.trailing:b);function C(T){var H=s,A=a;return s=a=void 0,p=T,r=l.apply(A,H),r}function x(T){return p=T,c=setTimeout(w,e),m?C(T):r}function k(T){var H=T-h,A=T-p,N=e-H;return g?pn(N,o-A):N}function v(T){var H=T-h,A=T-p;return h===void 0||H>=e||H<0||g&&A>=o}function w(){var T=Xt();if(v(T))return E(T);c=setTimeout(w,k(T))}function E(T){return c=void 0,b&&s?C(T):(s=a=void 0,r)}function y(){c!==void 0&&clearTimeout(c),p=0,s=h=a=c=void 0}function P(){return c===void 0?r:E(Xt())}function M(){var T=Xt(),H=v(T);if(s=arguments,a=this,h=T,H){if(c===void 0)return x(h);if(g)return clearTimeout(c),c=setTimeout(w,e),C(h)}return c===void 0&&(c=setTimeout(w,e)),r}return M.cancel=y,M.flush=P,M}var _n=bn;const es=_s(_n);function Tl(l,e,t){const s=l.slice();return s[37]=e[t],s}function Vl(l,e,t){const s=l.slice();return s[34]=e[t],s}function Hl(l){let e,t,s,a,o="‚öîÔ∏è Agregar Combatiente",r,c,h,p,m,g,b,C,x,k,v,w="‚úï",E,y,P,M,T,H="Cancelar",A,N,L,G="‚öîÔ∏è",te,V,Q,j;function O(re,$){return re[3]==="player"?xn:gn}let R=O(l),W=R(l);return{c(){e=d("div"),t=d("div"),s=d("div"),a=d("h3"),a.textContent=o,r=D(),c=d("div"),h=d("button"),p=z("üßù Jugador"),g=D(),b=d("button"),C=z("üêâ Monstruo"),k=D(),v=d("button"),v.textContent=w,E=D(),y=d("div"),W.c(),P=D(),M=d("div"),T=d("button"),T.textContent=H,A=D(),N=d("button"),L=d("span"),L.textContent=G,te=z(" Agregar al Combate"),this.h()},l(re){e=u(re,"DIV",{class:!0});var $=_(e);t=u($,"DIV",{class:!0});var B=_(t);s=u(B,"DIV",{class:!0});var F=_(s);a=u(F,"H3",{class:!0,"data-svelte-h":!0}),S(a)!=="svelte-157e7j1"&&(a.textContent=o),r=I(F),c=u(F,"DIV",{class:!0});var J=_(c);h=u(J,"BUTTON",{class:!0});var K=_(h);p=U(K,"üßù Jugador"),K.forEach(f),g=I(J),b=u(J,"BUTTON",{class:!0});var q=_(b);C=U(q,"üêâ Monstruo"),q.forEach(f),J.forEach(f),k=I(F),v=u(F,"BUTTON",{class:!0,"data-svelte-h":!0}),S(v)!=="svelte-1r1r6u3"&&(v.textContent=w),F.forEach(f),E=I(B),y=u(B,"DIV",{class:!0});var Y=_(y);W.l(Y),Y.forEach(f),P=I(B),M=u(B,"DIV",{class:!0});var se=_(M);T=u(se,"BUTTON",{class:!0,"data-svelte-h":!0}),S(T)!=="svelte-toewbe"&&(T.textContent=H),A=I(se),N=u(se,"BUTTON",{class:!0});var ee=_(N);L=u(ee,"SPAN",{class:!0,"data-svelte-h":!0}),S(L)!=="svelte-v5ojki"&&(L.textContent=G),te=U(ee," Agregar al Combate"),ee.forEach(f),se.forEach(f),B.forEach(f),$.forEach(f),this.h()},h(){i(a,"class","font-bold text-2xl md:text-3xl font-medieval text-neutral flex-1 text-center md:text-left"),i(h,"class",m="btn btn-sm font-medieval "+(l[3]==="player"?"btn-primary":"btn-outline")),i(b,"class",x="btn btn-sm font-medieval "+(l[3]==="monster"?"btn-primary":"btn-outline")),i(c,"class","flex gap-2"),i(v,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2 md:static"),i(s,"class","flex flex-col md:flex-row justify-between items-center p-4 border-b-2 border-secondary gap-2 md:gap-4"),i(y,"class","flex-1 overflow-y-auto p-4 space-y-4"),i(T,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval w-full md:w-auto"),i(L,"class","text-xl"),i(N,"class","btn btn-dnd w-full md:w-auto"),N.disabled=V=l[3]==="player"&&(!l[12]||l[4]<1)||l[3]==="monster"&&(!l[9]||!l[10]||!l[11]||l[4]<1),i(M,"class","flex justify-center gap-4 pt-4 border-t-2 border-secondary flex-col md:flex-row"),i(t,"class","modal-box card-parchment w-11/12 max-w-3xl h-11/12 relative flex flex-col"),i(e,"class","modal modal-open z-50")},m(re,$){Z(re,e,$),n(e,t),n(t,s),n(s,a),n(s,r),n(s,c),n(c,h),n(h,p),n(c,g),n(c,b),n(b,C),n(s,k),n(s,v),n(t,E),n(t,y),W.m(y,null),n(t,P),n(t,M),n(M,T),n(M,A),n(M,N),n(N,L),n(N,te),Q||(j=[ae(h,"click",l[18]),ae(b,"click",l[19]),ae(v,"click",l[17]),ae(T,"click",l[17]),ae(N,"click",function(){ts(l[3]==="player"?l[13]:l[16])&&(l[3]==="player"?l[13]:l[16]).apply(this,arguments)})],Q=!0)},p(re,$){l=re,$[0]&8&&m!==(m="btn btn-sm font-medieval "+(l[3]==="player"?"btn-primary":"btn-outline"))&&i(h,"class",m),$[0]&8&&x!==(x="btn btn-sm font-medieval "+(l[3]==="monster"?"btn-primary":"btn-outline"))&&i(b,"class",x),R===(R=O(l))&&W?W.p(l,$):(W.d(1),W=R(l),W&&(W.c(),W.m(y,null))),$[0]&7704&&V!==(V=l[3]==="player"&&(!l[12]||l[4]<1)||l[3]==="monster"&&(!l[9]||!l[10]||!l[11]||l[4]<1))&&(N.disabled=V)},d(re){re&&f(e),W.d(),Q=!1,Je(j)}}}function gn(l){let e,t,s,a='<span class="label-text font-medieval text-neutral">Buscar monstruo (Open5e)</span>',o,r,c,h,p='<span class="label-text-alt text-neutral/60 italic">üí° Prueba con nombres en ingl√©s (kobold, goblin, orc)</span>',m,g,b,C,x,k,v,w='<span class="label-text font-medieval text-neutral">Nombre</span>',E,y,P,M,T,H,A='<span class="label-text font-medieval text-neutral">Iniciativa</span>',N,L,G,te,V,Q='<span class="label-text font-medieval text-neutral">HP M√°ximo</span>',j,O,R,W,re,$='<span class="label-text font-medieval text-neutral">AC</span>',B,F,J,K,q=l[7]&&Ml(),Y=l[8]&&!l[7]&&Pl(),se=l[6].length>0&&!l[7]&&Al(l);return{c(){e=d("div"),t=d("div"),s=d("label"),s.innerHTML=a,o=D(),r=d("input"),c=D(),h=d("label"),h.innerHTML=p,m=D(),q&&q.c(),g=D(),Y&&Y.c(),b=D(),se&&se.c(),C=D(),x=d("div"),k=d("div"),v=d("label"),v.innerHTML=w,E=D(),y=d("input"),P=D(),M=d("div"),T=d("div"),H=d("label"),H.innerHTML=A,N=D(),L=d("input"),G=D(),te=d("div"),V=d("label"),V.innerHTML=Q,j=D(),O=d("input"),R=D(),W=d("div"),re=d("label"),re.innerHTML=$,B=D(),F=d("input"),this.h()},l(ee){e=u(ee,"DIV",{class:!0});var ue=_(e);t=u(ue,"DIV",{class:!0});var he=_(t);s=u(he,"LABEL",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-1s7wqfp"&&(s.innerHTML=a),o=I(he),r=u(he,"INPUT",{type:!0,placeholder:!0,class:!0}),c=I(he),h=u(he,"LABEL",{class:!0,"data-svelte-h":!0}),S(h)!=="svelte-1b81k6w"&&(h.innerHTML=p),he.forEach(f),m=I(ue),q&&q.l(ue),g=I(ue),Y&&Y.l(ue),b=I(ue),se&&se.l(ue),C=I(ue),x=u(ue,"DIV",{class:!0});var be=_(x);k=u(be,"DIV",{class:!0});var X=_(k);v=u(X,"LABEL",{class:!0,"data-svelte-h":!0}),S(v)!=="svelte-n9vtz6"&&(v.innerHTML=w),E=I(X),y=u(X,"INPUT",{type:!0,placeholder:!0,class:!0}),X.forEach(f),P=I(be),M=u(be,"DIV",{class:!0});var oe=_(M);T=u(oe,"DIV",{class:!0});var ie=_(T);H=u(ie,"LABEL",{class:!0,"data-svelte-h":!0}),S(H)!=="svelte-loi7q8"&&(H.innerHTML=A),N=I(ie),L=u(ie,"INPUT",{type:!0,class:!0}),ie.forEach(f),G=I(oe),te=u(oe,"DIV",{class:!0});var ne=_(te);V=u(ne,"LABEL",{class:!0,"data-svelte-h":!0}),S(V)!=="svelte-r75dry"&&(V.innerHTML=Q),j=I(ne),O=u(ne,"INPUT",{type:!0,class:!0}),ne.forEach(f),R=I(oe),W=u(oe,"DIV",{class:!0});var fe=_(W);re=u(fe,"LABEL",{class:!0,"data-svelte-h":!0}),S(re)!=="svelte-436dg3"&&(re.innerHTML=$),B=I(fe),F=u(fe,"INPUT",{type:!0,class:!0}),fe.forEach(f),oe.forEach(f),be.forEach(f),ue.forEach(f),this.h()},h(){i(s,"class","label"),i(r,"type","text"),i(r,"placeholder","Ej: kobold, goblin, dragon..."),i(r,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full"),i(h,"class","label"),i(t,"class","form-control mb-4"),i(v,"class","label"),i(y,"type","text"),i(y,"placeholder","Nombre de la criatura"),i(y,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full"),i(k,"class","form-control"),i(H,"class","label"),i(L,"type","number"),i(L,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full"),i(T,"class","form-control"),i(V,"class","label"),i(O,"type","number"),i(O,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full"),i(te,"class","form-control"),i(re,"class","label"),i(F,"type","number"),i(F,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full"),i(W,"class","form-control"),i(M,"class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"),i(x,"class","space-y-4"),i(e,"class","space-y-4")},m(ee,ue){Z(ee,e,ue),n(e,t),n(t,s),n(t,o),n(t,r),_e(r,l[5]),n(t,c),n(t,h),n(e,m),q&&q.m(e,null),n(e,g),Y&&Y.m(e,null),n(e,b),se&&se.m(e,null),n(e,C),n(e,x),n(x,k),n(k,v),n(k,E),n(k,y),_e(y,l[9]),n(x,P),n(x,M),n(M,T),n(T,H),n(T,N),n(T,L),_e(L,l[4]),n(M,G),n(M,te),n(te,V),n(te,j),n(te,O),_e(O,l[10]),n(M,R),n(M,W),n(W,re),n(W,B),n(W,F),_e(F,l[11]),J||(K=[ae(r,"input",l[22]),ae(r,"input",l[14]),ae(y,"input",l[24]),ae(L,"input",l[25]),ae(O,"input",l[26]),ae(F,"input",l[27])],J=!0)},p(ee,ue){ue[0]&32&&r.value!==ee[5]&&_e(r,ee[5]),ee[7]?q||(q=Ml(),q.c(),q.m(e,g)):q&&(q.d(1),q=null),ee[8]&&!ee[7]?Y||(Y=Pl(),Y.c(),Y.m(e,b)):Y&&(Y.d(1),Y=null),ee[6].length>0&&!ee[7]?se?se.p(ee,ue):(se=Al(ee),se.c(),se.m(e,C)):se&&(se.d(1),se=null),ue[0]&512&&y.value!==ee[9]&&_e(y,ee[9]),ue[0]&16&&Fe(L.value)!==ee[4]&&_e(L,ee[4]),ue[0]&1024&&Fe(O.value)!==ee[10]&&_e(O,ee[10]),ue[0]&2048&&Fe(F.value)!==ee[11]&&_e(F,ee[11])},d(ee){ee&&f(e),q&&q.d(),Y&&Y.d(),se&&se.d(),J=!1,Je(K)}}}function xn(l){var W,re,$;let e,t,s,a='<span class="label-text font-medieval text-neutral">Seleccionar Jugador</span>',o,r,c,h="-- Elegir jugador --",p,m,g,b='<span class="label-text font-medieval text-neutral">Iniciativa</span>',C,x,k,v,w,E,y,P=(((W=l[12])==null?void 0:W.name)||"Elegir jugador")+"",M,T,H,A,N=(((re=l[12])==null?void 0:re.maxHp)||0)+"",L,G,te=((($=l[12])==null?void 0:$.armorClass)||0)+"",V,Q,j,O=Te(l[1]),R=[];for(let B=0;B<O.length;B+=1)R[B]=Nl(Vl(l,O,B));return{c(){e=d("div"),t=d("div"),s=d("label"),s.innerHTML=a,o=D(),r=d("select"),c=d("option"),c.textContent=h;for(let B=0;B<R.length;B+=1)R[B].c();p=D(),m=d("div"),g=d("label"),g.innerHTML=b,C=D(),x=d("input"),k=D(),v=d("div"),w=d("div"),E=d("div"),y=d("p"),M=z(P),T=D(),H=d("p"),A=z("HP: "),L=z(N),G=z(" | AC: "),V=z(te),this.h()},l(B){e=u(B,"DIV",{class:!0});var F=_(e);t=u(F,"DIV",{class:!0});var J=_(t);s=u(J,"LABEL",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-1lzlsw9"&&(s.innerHTML=a),o=I(J),r=u(J,"SELECT",{class:!0});var K=_(r);c=u(K,"OPTION",{"data-svelte-h":!0}),S(c)!=="svelte-ws9sqz"&&(c.textContent=h);for(let be=0;be<R.length;be+=1)R[be].l(K);K.forEach(f),J.forEach(f),p=I(F),m=u(F,"DIV",{class:!0});var q=_(m);g=u(q,"LABEL",{class:!0,"data-svelte-h":!0}),S(g)!=="svelte-1wwr5wg"&&(g.innerHTML=b),C=I(q),x=u(q,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),q.forEach(f),k=I(F),v=u(F,"DIV",{class:!0});var Y=_(v);w=u(Y,"DIV",{class:!0});var se=_(w);E=u(se,"DIV",{});var ee=_(E);y=u(ee,"P",{class:!0});var ue=_(y);M=U(ue,P),ue.forEach(f),T=I(ee),H=u(ee,"P",{class:!0});var he=_(H);A=U(he,"HP: "),L=U(he,N),G=U(he," | AC: "),V=U(he,te),he.forEach(f),ee.forEach(f),se.forEach(f),Y.forEach(f),F.forEach(f),this.h()},h(){i(s,"class","label"),c.__value="",_e(c,c.__value),c.disabled=!0,c.selected=!0,i(r,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50 w-full"),l[2]===void 0&&ss(()=>l[20].call(r)),i(t,"class","form-control"),i(g,"class","label"),i(x,"type","number"),i(x,"min","1"),i(x,"max","100"),i(x,"step","1"),x.required=!0,i(x,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full"),i(m,"class","form-control"),i(y,"class","text-lg font-bold text-neutral"),i(H,"class","text-sm text-neutral/70"),i(w,"class","flex items-center gap-4"),i(v,"class","card bg-neutral/20 border border-primary/40 p-4 mt-2"),i(e,"class","space-y-4")},m(B,F){Z(B,e,F),n(e,t),n(t,s),n(t,o),n(t,r),n(r,c);for(let J=0;J<R.length;J+=1)R[J]&&R[J].m(r,null);cl(r,l[2],!0),n(e,p),n(e,m),n(m,g),n(m,C),n(m,x),_e(x,l[4]),n(e,k),n(e,v),n(v,w),n(w,E),n(E,y),n(y,M),n(E,T),n(E,H),n(H,A),n(H,L),n(H,G),n(H,V),Q||(j=[ae(r,"change",l[20]),ae(x,"input",l[21])],Q=!0)},p(B,F){var J,K,q;if(F[0]&2){O=Te(B[1]);let Y;for(Y=0;Y<O.length;Y+=1){const se=Vl(B,O,Y);R[Y]?R[Y].p(se,F):(R[Y]=Nl(se),R[Y].c(),R[Y].m(r,null))}for(;Y<R.length;Y+=1)R[Y].d(1);R.length=O.length}F[0]&6&&cl(r,B[2]),F[0]&16&&Fe(x.value)!==B[4]&&_e(x,B[4]),F[0]&4096&&P!==(P=(((J=B[12])==null?void 0:J.name)||"Elegir jugador")+"")&&le(M,P),F[0]&4096&&N!==(N=(((K=B[12])==null?void 0:K.maxHp)||0)+"")&&le(L,N),F[0]&4096&&te!==(te=(((q=B[12])==null?void 0:q.armorClass)||0)+"")&&le(V,te)},d(B){B&&f(e),at(R,B),Q=!1,Je(j)}}}function Ml(l){let e,t='<span class="loading loading-spinner loading-md text-secondary"></span> <span class="ml-3 text-neutral/70">Buscando criaturas...</span>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-1grq8kx"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex justify-center items-center py-4")},m(s,a){Z(s,e,a)},d(s){s&&f(e)}}}function Pl(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-warning" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> <div><p class="font-bold">No se encontraron resultados</p> <p class="text-xs">Intenta con otro nombre o crea el monstruo manualmente</p></div>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-1q2li4n"&&(e.innerHTML=t),this.h()},h(){i(e,"class","alert bg-warning/20 border-warning/40")},m(s,a){Z(s,e,a)},d(s){s&&f(e)}}}function Al(l){let e,t,s,a=l[6].length+"",o,r,c=l[6].length!==1?"s":"",h,p,m=l[6].length!==1?"s":"",g,b,C,x=Te(l[6]),k=[];for(let v=0;v<x.length;v+=1)k[v]=Ol(Tl(l,x,v));return{c(){e=d("div"),t=d("p"),s=z("üìñ "),o=z(a),r=z(" criatura"),h=z(c),p=z(" encontrada"),g=z(m),b=D(),C=d("div");for(let v=0;v<k.length;v+=1)k[v].c();this.h()},l(v){e=u(v,"DIV",{class:!0});var w=_(e);t=u(w,"P",{class:!0});var E=_(t);s=U(E,"üìñ "),o=U(E,a),r=U(E," criatura"),h=U(E,c),p=U(E," encontrada"),g=U(E,m),E.forEach(f),b=I(w),C=u(w,"DIV",{class:!0});var y=_(C);for(let P=0;P<k.length;P+=1)k[P].l(y);y.forEach(f),w.forEach(f),this.h()},h(){i(t,"class","text-xs font-medieval text-neutral/70 mb-2"),i(C,"class","grid grid-cols-1 gap-2 max-h-48 overflow-y-auto"),i(e,"class","bg-neutral/10 rounded-lg border border-primary/30 p-3")},m(v,w){Z(v,e,w),n(e,t),n(t,s),n(t,o),n(t,r),n(t,h),n(t,p),n(t,g),n(e,b),n(e,C);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(C,null)},p(v,w){if(w[0]&64&&a!==(a=v[6].length+"")&&le(o,a),w[0]&64&&c!==(c=v[6].length!==1?"s":"")&&le(h,c),w[0]&64&&m!==(m=v[6].length!==1?"s":"")&&le(g,m),w[0]&32832){x=Te(v[6]);let E;for(E=0;E<x.length;E+=1){const y=Tl(v,x,E);k[E]?k[E].p(y,w):(k[E]=Ol(y),k[E].c(),k[E].m(C,null))}for(;E<k.length;E+=1)k[E].d(1);k.length=x.length}},d(v){v&&f(e),at(k,v)}}}function Ol(l){let e,t,s,a=l[37].name+"",o,r,c,h=l[37].type+"",p,m,g=l[37].challenge_rating+"",b,C,x,k="Seleccionar",v,w,E;function y(){return l[23](l[37])}return{c(){e=d("button"),t=d("div"),s=d("span"),o=z(a),r=D(),c=d("span"),p=z(h),m=z(" | CR "),b=z(g),C=D(),x=d("span"),x.textContent=k,v=D(),this.h()},l(P){e=u(P,"BUTTON",{class:!0});var M=_(e);t=u(M,"DIV",{class:!0});var T=_(t);s=u(T,"SPAN",{class:!0});var H=_(s);o=U(H,a),H.forEach(f),r=I(T),c=u(T,"SPAN",{class:!0});var A=_(c);p=U(A,h),m=U(A," | CR "),b=U(A,g),A.forEach(f),T.forEach(f),C=I(M),x=u(M,"SPAN",{class:!0,"data-svelte-h":!0}),S(x)!=="svelte-15711il"&&(x.textContent=k),v=I(M),M.forEach(f),this.h()},h(){i(s,"class","font-bold text-neutral block"),i(c,"class","text-xs text-neutral/60"),i(t,"class","flex-1"),i(x,"class","text-xs badge badge-sm badge-primary"),i(e,"class","btn btn-ghost text-left border border-primary/30 hover:bg-primary/20 flex justify-between w-full p-3 h-auto min-h-[3rem]")},m(P,M){Z(P,e,M),n(e,t),n(t,s),n(s,o),n(t,r),n(t,c),n(c,p),n(c,m),n(c,b),n(e,C),n(e,x),n(e,v),w||(E=ae(e,"click",y),w=!0)},p(P,M){l=P,M[0]&64&&a!==(a=l[37].name+"")&&le(o,a),M[0]&64&&h!==(h=l[37].type+"")&&le(p,h),M[0]&64&&g!==(g=l[37].challenge_rating+"")&&le(b,g)},d(P){P&&f(e),w=!1,E()}}}function Nl(l){let e,t=l[34].name+"",s,a;return{c(){e=d("option"),s=z(t),this.h()},l(o){e=u(o,"OPTION",{});var r=_(e);s=U(r,t),r.forEach(f),this.h()},h(){e.__value=a=l[34].id,_e(e,e.__value)},m(o,r){Z(o,e,r),n(e,s)},p(o,r){r[0]&2&&t!==(t=o[34].name+"")&&le(s,t),r[0]&2&&a!==(a=o[34].id)&&(e.__value=a,_e(e,e.__value))},d(o){o&&f(e)}}}function Cn(l){let e,t=l[0]&&Hl(l);return{c(){t&&t.c(),e=vt()},l(s){t&&t.l(s),e=vt()},m(s,a){t&&t.m(s,a),Z(s,e,a)},p(s,a){s[0]?t?t.p(s,a):(t=Hl(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:pe,o:pe,d(s){s&&f(e),t&&t.d(s)}}}function yn(l,e,t){let s,{isOpen:a=!1}=e,{players:o=[]}=e;const r=zt();let c="player",h=0,p="";function m(){s&&(r("add",{type:"character",characterId:s.id,name:s.name,maxHp:s.maxHp,armorClass:s.armorClass,initiative:h,isNpc:!1}),N())}let g="",b=[],C=null,x=!1,k=!1,v="",w=0,E=10,y="",P="",M="";const T=es(async()=>{const $=g.trim();if(!$){t(6,b=[]),t(8,k=!1);return}t(7,x=!0),t(8,k=!1);try{const B=await gt.searchMonsters($);t(6,b=B.results||[]),t(8,k=b.length===0)}catch(B){console.error("Error buscando monstruos:",B),t(6,b=[]),t(8,k=!0)}finally{t(7,x=!1)}},500);async function H($){C=await gt.getMonster($.slug),t(9,v=C.name),t(10,w=C.hit_points),t(11,E=C.armor_class),y=C.challenge_rating,C.type,P=C.size,M=C.alignment,t(6,b=[]),t(5,g="")}function A(){!v||!w||!E||(r("add",{type:"creature",name:v,initiative:h,maxHp:w,armorClass:E,cr:y,size:P,alignment:M,isNpc:!0}),N())}function N(){t(2,p=""),C=null,t(5,g=""),t(6,b=[]),t(8,k=!1),t(9,v=""),t(4,h=0),t(10,w=0),t(11,E=10),y="",P="",M="",t(7,x=!1),r("close")}const L=()=>t(3,c="player"),G=()=>t(3,c="monster");function te(){p=ls(this),t(2,p),t(1,o)}function V(){h=Fe(this.value),t(4,h)}function Q(){g=this.value,t(5,g)}const j=$=>H($);function O(){v=this.value,t(9,v)}function R(){h=Fe(this.value),t(4,h)}function W(){w=Fe(this.value),t(10,w)}function re(){E=Fe(this.value),t(11,E)}return l.$$set=$=>{"isOpen"in $&&t(0,a=$.isOpen),"players"in $&&t(1,o=$.players)},l.$$.update=()=>{l.$$.dirty[0]&6&&t(12,s=o.find($=>$.id===p))},[a,o,p,c,h,g,b,x,k,v,w,E,s,m,T,H,A,N,L,G,te,V,Q,j,O,R,W,re]}class En extends xt{constructor(e){super(),Ct(this,e,yn,Cn,yt,{isOpen:0,players:1},null,[-1,-1])}}function kn(l){let e,t,s,a="üö´",o,r,c="Acceso Denegado",h,p,m="Solo el Dungeon Master puede gestionar los puntos de vida.",g,b,C="Entendido",x,k;return{c(){e=d("div"),t=d("div"),s=d("div"),s.textContent=a,o=D(),r=d("h3"),r.textContent=c,h=D(),p=d("p"),p.textContent=m,g=D(),b=d("button"),b.textContent=C,this.h()},l(v){e=u(v,"DIV",{class:!0});var w=_(e);t=u(w,"DIV",{class:!0});var E=_(t);s=u(E,"DIV",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-13ghcez"&&(s.textContent=a),o=I(E),r=u(E,"H3",{class:!0,"data-svelte-h":!0}),S(r)!=="svelte-13fk1x3"&&(r.textContent=c),h=I(E),p=u(E,"P",{class:!0,"data-svelte-h":!0}),S(p)!=="svelte-1myopqh"&&(p.textContent=m),g=I(E),b=u(E,"BUTTON",{class:!0,"data-svelte-h":!0}),S(b)!=="svelte-1bzkva0"&&(b.textContent=C),E.forEach(f),w.forEach(f),this.h()},h(){i(s,"class","text-6xl mb-4"),i(r,"class","text-2xl font-medieval text-neutral mb-3"),i(p,"class","text-neutral/70 font-body mb-6"),i(b,"class","btn btn-dnd"),i(t,"class","card-parchment border-4 border-error w-11/12 max-w-md text-center p-8"),i(e,"class","modal modal-open z-50")},m(v,w){Z(v,e,w),n(e,t),n(t,s),n(t,o),n(t,r),n(t,h),n(t,p),n(t,g),n(t,b),x||(k=ae(b,"click",l[12]),x=!0)},p:pe,d(v){v&&f(e),x=!1,k()}}}function wn(l){let e,t,s,a="‚úï",o,r,c,h="üíö Gesti√≥n de HP",p,m,g,b,C,x,k=l[1].isNpc?"üëπ":"üßô‚Äç‚ôÇÔ∏è",v,w,E,y,P=l[1].name+"",M,T,H,A,N,L,G,te,V="HP ACTUAL",Q,j,O,R=l[1].currentHp+"",W,re,$,B,F=l[1].maxHp+"",J,K,q,Y,se,ee,ue,he,be=l[5].toFixed(0)+"",X,oe,ie,ne,fe,Ce="HP NUEVO",lt,xe,Se,Ke,Me,ot,st,ge,qe,Xe,it,Be,Ue=l[3].toFixed(0)+"",ye,ct,Ge,ke,ce,ve,We='<span class="label-text font-medieval text-neutral text-sm sm:text-base">üé≤ Cantidad de HP</span>',Ze,Ve,Ie,ut,Ne,De,Pe,mt="üí•",Ye,He,dt="Da√±o",Qe,ft,Ee,Ae,pt="üíö",$e,Oe,nt="Curar",rt,Rt,$t,we=l[1].isNpc&&Ll();function el(de,me){return de[8]!==0?Dn:In}let Et=el(l),Le=Et(l);return{c(){e=d("div"),t=d("div"),s=d("button"),s.textContent=a,o=D(),r=d("div"),c=d("h3"),c.textContent=h,p=D(),m=d("div"),g=d("div"),b=d("div"),C=d("div"),x=d("span"),v=z(k),w=D(),E=d("div"),y=d("h4"),M=z(P),T=D(),H=d("div"),we&&we.c(),A=D(),N=d("div"),L=d("div"),G=d("div"),te=d("p"),te.textContent=V,Q=D(),j=d("div"),O=d("p"),W=z(R),re=D(),$=d("p"),B=z("de "),J=z(F),K=D(),q=d("progress"),ue=D(),he=d("p"),X=z(be),oe=z("%"),ie=D(),ne=d("div"),fe=d("p"),fe.textContent=Ce,lt=D(),xe=d("div"),Se=d("p"),Ke=z(l[4]),ot=D(),Le.c(),st=D(),ge=d("progress"),it=D(),Be=d("p"),ye=z(Ue),ct=z("%"),ke=D(),ce=d("div"),ve=d("label"),ve.innerHTML=We,Ze=D(),Ve=d("div"),Ie=d("input"),ut=D(),Ne=d("div"),De=d("button"),Pe=d("span"),Pe.textContent=mt,Ye=D(),He=d("span"),He.textContent=dt,ft=D(),Ee=d("button"),Ae=d("span"),Ae.textContent=pt,$e=D(),Oe=d("span"),Oe.textContent=nt,this.h()},l(de){e=u(de,"DIV",{class:!0});var me=_(e);t=u(me,"DIV",{class:!0});var ht=_(t);s=u(ht,"BUTTON",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-1jnmpfy"&&(s.textContent=a),o=I(ht),r=u(ht,"DIV",{class:!0});var kt=_(r);c=u(kt,"H3",{class:!0,"data-svelte-h":!0}),S(c)!=="svelte-sdtwsr"&&(c.textContent=h),p=I(kt),m=u(kt,"DIV",{class:!0});var wt=_(m);g=u(wt,"DIV",{class:!0});var tl=_(g);b=u(tl,"DIV",{class:!0});var ll=_(b);C=u(ll,"DIV",{class:!0});var sl=_(C);x=u(sl,"SPAN",{class:!0});var nl=_(x);v=U(nl,k),nl.forEach(f),sl.forEach(f),ll.forEach(f),tl.forEach(f),w=I(wt),E=u(wt,"DIV",{class:!0});var It=_(E);y=u(It,"H4",{class:!0});var rl=_(y);M=U(rl,P),rl.forEach(f),T=I(It),H=u(It,"DIV",{class:!0});var al=_(H);we&&we.l(al),al.forEach(f),It.forEach(f),wt.forEach(f),kt.forEach(f),A=I(ht),N=u(ht,"DIV",{class:!0});var Dt=_(N);L=u(Dt,"DIV",{class:!0});var Tt=_(L);G=u(Tt,"DIV",{class:!0});var et=_(G);te=u(et,"P",{class:!0,"data-svelte-h":!0}),S(te)!=="svelte-15e8cb6"&&(te.textContent=V),Q=I(et),j=u(et,"DIV",{class:!0});var Vt=_(j);O=u(Vt,"P",{class:!0});var ol=_(O);W=U(ol,R),ol.forEach(f),re=I(Vt),$=u(Vt,"P",{class:!0});var Ft=_($);B=U(Ft,"de "),J=U(Ft,F),Ft.forEach(f),Vt.forEach(f),K=I(et),q=u(et,"PROGRESS",{class:!0,max:!0}),_(q).forEach(f),ue=I(et),he=u(et,"P",{class:!0});var qt=_(he);X=U(qt,be),oe=U(qt,"%"),qt.forEach(f),et.forEach(f),ie=I(Tt),ne=u(Tt,"DIV",{class:!0});var tt=_(ne);fe=u(tt,"P",{class:!0,"data-svelte-h":!0}),S(fe)!=="svelte-ukgy9p"&&(fe.textContent=Ce),lt=I(tt),xe=u(tt,"DIV",{class:!0});var Ht=_(xe);Se=u(Ht,"P",{class:!0});var il=_(Se);Ke=U(il,l[4]),il.forEach(f),ot=I(Ht),Le.l(Ht),Ht.forEach(f),st=I(tt),ge=u(tt,"PROGRESS",{class:!0,max:!0}),_(ge).forEach(f),it=I(tt),Be=u(tt,"P",{class:!0});var Gt=_(Be);ye=U(Gt,Ue),ct=U(Gt,"%"),Gt.forEach(f),tt.forEach(f),Tt.forEach(f),ke=I(Dt),ce=u(Dt,"DIV",{});var Mt=_(ce);ve=u(Mt,"LABEL",{class:!0,"data-svelte-h":!0}),S(ve)!=="svelte-640liv"&&(ve.innerHTML=We),Ze=I(Mt),Ve=u(Mt,"DIV",{class:!0});var Pt=_(Ve);Ie=u(Pt,"INPUT",{type:!0,placeholder:!0,class:!0,min:!0}),ut=I(Pt),Ne=u(Pt,"DIV",{class:!0});var At=_(Ne);De=u(At,"BUTTON",{class:!0});var Ot=_(De);Pe=u(Ot,"SPAN",{class:!0,"data-svelte-h":!0}),S(Pe)!=="svelte-orvybg"&&(Pe.textContent=mt),Ye=I(Ot),He=u(Ot,"SPAN",{class:!0,"data-svelte-h":!0}),S(He)!=="svelte-117bemg"&&(He.textContent=dt),Ot.forEach(f),ft=I(At),Ee=u(At,"BUTTON",{class:!0});var Nt=_(Ee);Ae=u(Nt,"SPAN",{class:!0,"data-svelte-h":!0}),S(Ae)!=="svelte-rpoyvz"&&(Ae.textContent=pt),$e=I(Nt),Oe=u(Nt,"SPAN",{class:!0,"data-svelte-h":!0}),S(Oe)!=="svelte-v46veg"&&(Oe.textContent=nt),Nt.forEach(f),At.forEach(f),Pt.forEach(f),Mt.forEach(f),Dt.forEach(f),ht.forEach(f),me.forEach(f),this.h()},h(){i(s,"class","btn btn-xs sm:btn-sm btn-circle btn-ghost absolute right-2 sm:right-3 top-2 sm:top-3 z-10 hover:bg-error/20"),i(c,"class","font-bold text-xl sm:text-2xl font-medieval text-neutral text-center mb-2 sm:mb-3"),i(x,"class","text-lg sm:text-xl"),i(C,"class","bg-primary/20 flex items-center justify-center"),i(b,"class","w-10 h-10 sm:w-12 sm:h-12 rounded-full ring-2 ring-secondary"),i(g,"class","avatar flex-shrink-0"),i(y,"class","text-base sm:text-lg font-medieval text-neutral font-bold truncate"),i(H,"class","flex gap-2 mt-1"),i(E,"class","flex-1 min-w-0"),i(m,"class","bg-gradient-to-r from-primary/10 to-accent/10 p-2 sm:p-3 rounded-lg border border-primary/30 flex items-center gap-2 sm:gap-3"),i(r,"class","p-3 sm:p-4 flex-shrink-0 bg-gradient-to-b from-[#f4e4c1] to-transparent border-b-2 border-secondary"),i(te,"class","text-xs font-medieval text-neutral/60 text-center"),i(O,"class","text-xl sm:text-2xl font-bold text-neutral"),i($,"class","text-xs sm:text-sm text-neutral/60"),i(j,"class","text-center"),i(q,"class",Y="progress progress-"+l[9]+" w-full h-2 sm:h-3"),q.value=se=l[1].currentHp,i(q,"max",ee=l[1].maxHp),i(he,"class","text-xs text-center text-neutral/60"),i(G,"class","bg-neutral/10 flex flex-col gap-1 p-2 sm:p-3 rounded-lg border-2 border-primary/30"),i(fe,"class","text-xs font-medieval text-neutral/60 text-center"),i(Se,"class",Me="text-xl sm:text-2xl font-bold text-"+(l[8]!==0?l[8]>0?"success":"error":"neutral")),i(xe,"class","text-center"),i(ge,"class",qe="progress progress-"+(l[8]!==0?l[7]:l[9])+" w-full h-2 sm:h-3"),ge.value=l[4],i(ge,"max",Xe=l[1].maxHp),i(Be,"class","text-xs text-center text-neutral/60"),i(ne,"class",Ge="bg-"+(l[8]!==0?l[8]>0?"success":"error":"neutral")+"/10 p-2 sm:p-3 rounded-lg gap-1 flex flex-col justify-center items-center border-2 border-"+(l[8]!==0?l[8]>0?"success":"error":"primary")+"/30"),i(L,"class","grid grid-cols-2 gap-2 sm:gap-3 mb-3 sm:mb-4"),i(ve,"class","label"),i(Ie,"type","number"),i(Ie,"placeholder","Ej: 15"),i(Ie,"class","input input-sm sm:input-md input-bordered bg-[#2d241c] text-base-content border-primary/50 flex-1 text-center text-lg sm:text-2xl font-bold focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),i(Ie,"min","0"),i(Pe,"class","text-base sm:text-xl"),i(He,"class","font-medieval text-xs sm:text-sm"),i(De,"class","btn btn-error btn-sm sm:btn-md flex-1"),De.disabled=Qe=l[6]<=0,i(Ae,"class","text-base sm:text-xl"),i(Oe,"class","font-medieval text-xs sm:text-sm"),i(Ee,"class","btn btn-success btn-sm sm:btn-md flex-1"),Ee.disabled=rt=l[6]<=0,i(Ne,"class","grid grid-cols-2 sm:flex gap-2 flex-1"),i(Ve,"class","flex flex-col sm:flex-row gap-2"),i(N,"class","flex-1 p-3 sm:p-4 overflow-y-auto"),i(t,"class","card-parchment border-2 sm:border-4 border-secondary mx-2 sm:mx-4 relative w-[95vw] sm:w-[90vw] md:w-3/4 lg:w-1/2 max-h-[90vh] flex flex-col"),i(e,"class","modal modal-open z-50")},m(de,me){Z(de,e,me),n(e,t),n(t,s),n(t,o),n(t,r),n(r,c),n(r,p),n(r,m),n(m,g),n(g,b),n(b,C),n(C,x),n(x,v),n(m,w),n(m,E),n(E,y),n(y,M),n(E,T),n(E,H),we&&we.m(H,null),n(t,A),n(t,N),n(N,L),n(L,G),n(G,te),n(G,Q),n(G,j),n(j,O),n(O,W),n(j,re),n(j,$),n($,B),n($,J),n(G,K),n(G,q),n(G,ue),n(G,he),n(he,X),n(he,oe),n(L,ie),n(L,ne),n(ne,fe),n(ne,lt),n(ne,xe),n(xe,Se),n(Se,Ke),n(xe,ot),Le.m(xe,null),n(ne,st),n(ne,ge),n(ne,it),n(ne,Be),n(Be,ye),n(Be,ct),n(N,ke),n(N,ce),n(ce,ve),n(ce,Ze),n(ce,Ve),n(Ve,Ie),_e(Ie,l[6]),n(Ve,ut),n(Ve,Ne),n(Ne,De),n(De,Pe),n(De,Ye),n(De,He),n(Ne,ft),n(Ne,Ee),n(Ee,Ae),n(Ee,$e),n(Ee,Oe),Rt||($t=[ae(s,"click",l[12]),ae(Ie,"input",l[14]),ae(De,"click",l[10]),ae(Ee,"click",l[11])],Rt=!0)},p(de,me){me&2&&k!==(k=de[1].isNpc?"üëπ":"üßô‚Äç‚ôÇÔ∏è")&&le(v,k),me&2&&P!==(P=de[1].name+"")&&le(M,P),de[1].isNpc?we||(we=Ll(),we.c(),we.m(H,null)):we&&(we.d(1),we=null),me&2&&R!==(R=de[1].currentHp+"")&&le(W,R),me&2&&F!==(F=de[1].maxHp+"")&&le(J,F),me&512&&Y!==(Y="progress progress-"+de[9]+" w-full h-2 sm:h-3")&&i(q,"class",Y),me&2&&se!==(se=de[1].currentHp)&&(q.value=se),me&2&&ee!==(ee=de[1].maxHp)&&i(q,"max",ee),me&32&&be!==(be=de[5].toFixed(0)+"")&&le(X,be),me&16&&le(Ke,de[4]),me&256&&Me!==(Me="text-xl sm:text-2xl font-bold text-"+(de[8]!==0?de[8]>0?"success":"error":"neutral"))&&i(Se,"class",Me),Et===(Et=el(de))&&Le?Le.p(de,me):(Le.d(1),Le=Et(de),Le&&(Le.c(),Le.m(xe,null))),me&896&&qe!==(qe="progress progress-"+(de[8]!==0?de[7]:de[9])+" w-full h-2 sm:h-3")&&i(ge,"class",qe),me&16&&(ge.value=de[4]),me&2&&Xe!==(Xe=de[1].maxHp)&&i(ge,"max",Xe),me&8&&Ue!==(Ue=de[3].toFixed(0)+"")&&le(ye,Ue),me&256&&Ge!==(Ge="bg-"+(de[8]!==0?de[8]>0?"success":"error":"neutral")+"/10 p-2 sm:p-3 rounded-lg gap-1 flex flex-col justify-center items-center border-2 border-"+(de[8]!==0?de[8]>0?"success":"error":"primary")+"/30")&&i(ne,"class",Ge),me&64&&Fe(Ie.value)!==de[6]&&_e(Ie,de[6]),me&64&&Qe!==(Qe=de[6]<=0)&&(De.disabled=Qe),me&64&&rt!==(rt=de[6]<=0)&&(Ee.disabled=rt)},d(de){de&&f(e),we&&we.d(),Le.d(),Rt=!1,Je($t)}}}function Ll(l){let e,t="NPC";return{c(){e=d("div"),e.textContent=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-31ycly"&&(e.textContent=t),this.h()},h(){i(e,"class","badge badge-xs badge-error")},m(s,a){Z(s,e,a)},d(s){s&&f(e)}}}function In(l){let e,t="Sin cambios";return{c(){e=d("p"),e.textContent=t,this.h()},l(s){e=u(s,"P",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-rbv1yy"&&(e.textContent=t),this.h()},h(){i(e,"class","text-xs sm:text-sm text-neutral/60")},m(s,a){Z(s,e,a)},p:pe,d(s){s&&f(e)}}}function Dn(l){let e,t=l[8]>0?"+":"",s,a,o;return{c(){e=d("p"),s=z(t),a=z(l[8]),this.h()},l(r){e=u(r,"P",{class:!0});var c=_(e);s=U(c,t),a=U(c,l[8]),c.forEach(f),this.h()},h(){i(e,"class",o="text-base sm:text-lg font-bold text-"+(l[8]>0?"success":"error"))},m(r,c){Z(r,e,c),n(e,s),n(e,a)},p(r,c){c&256&&t!==(t=r[8]>0?"+":"")&&le(s,t),c&256&&le(a,r[8]),c&256&&o!==(o="text-base sm:text-lg font-bold text-"+(r[8]>0?"success":"error"))&&i(e,"class",o)},d(r){r&&f(e)}}}function Tn(l){let e;function t(o,r){if(o[0]&&o[1]&&o[2])return wn;if(o[0]&&o[1]&&!o[2])return kn}let s=t(l),a=s&&s(l);return{c(){a&&a.c(),e=vt()},l(o){a&&a.l(o),e=vt()},m(o,r){a&&a.m(o,r),Z(o,e,r)},p(o,[r]){s===(s=t(o))&&a?a.p(o,r):(a&&a.d(1),a=s&&s(o),a&&(a.c(),a.m(e.parentNode,e)))},i:pe,o:pe,d(o){o&&f(e),a&&a.d(o)}}}function Vn(l,e,t){let s,a,o,r,c,h,{isOpen:p=!1}=e,{combatant:m=null}=e,{isDM:g=!1}=e;const b=zt();let C=0,x=0;function k(){if(m&&x>0){const y=-Math.abs(x);b("apply",y),t(6,x=0)}}function v(){if(m&&x>0){const y=Math.abs(x);b("apply",y),t(6,x=0)}}function w(){t(13,C=0),t(6,x=0),b("close")}function E(){x=Fe(this.value),t(6,x)}return l.$$set=y=>{"isOpen"in y&&t(0,p=y.isOpen),"combatant"in y&&t(1,m=y.combatant),"isDM"in y&&t(2,g=y.isDM)},l.$$.update=()=>{l.$$.dirty&2&&t(5,s=m?m.currentHp/m.maxHp*100:0),l.$$.dirty&32&&t(9,a=s>50?"success":s>25?"warning":"error"),l.$$.dirty&8194&&t(4,o=m?Math.max(0,Math.min(m.maxHp,m.currentHp+C)):0),l.$$.dirty&18&&t(8,r=m?o-m.currentHp:0),l.$$.dirty&18&&t(3,c=m?o/m.maxHp*100:0),l.$$.dirty&8&&t(7,h=c>50?"success":c>25?"warning":"error")},[p,m,g,c,o,s,x,h,r,a,k,v,w,C,E]}class Hn extends xt{constructor(e){super(),Ct(this,e,Vn,Tn,yt,{isOpen:0,combatant:1,isDM:2})}}function jl(l,e,t){const s=l.slice();return s[21]=e[t],s}function Sl(l,e,t){const s=l.slice();s[16]=e[t];const a=Array.isArray(s[1].conditions)?s[1].conditions:[];s[17]=a;const o=s[17].includes(s[16].name);return s[18]=o,s}function Bl(l,e,t){const s=l.slice();return s[21]=e[t],s}function Mn(l){let e,t,s,a="‚úï",o,r,c,h=l[1].name+"",p,m,g,b,C,x="Solo el DM puede modificar estados",k,v,w="Cerrar",E,y;function P(H,A){return A&2&&(g=null),g==null&&(g=!!(H[1].conditions&&Array.isArray(H[1].conditions)&&H[1].conditions.length>0)),g?On:An}let M=P(l,-1),T=M(l);return{c(){e=d("div"),t=d("div"),s=d("button"),s.textContent=a,o=D(),r=d("h3"),c=z("‚ö†Ô∏è Estados de "),p=z(h),m=D(),T.c(),b=D(),C=d("p"),C.textContent=x,k=D(),v=d("button"),v.textContent=w,this.h()},l(H){e=u(H,"DIV",{class:!0});var A=_(e);t=u(A,"DIV",{class:!0});var N=_(t);s=u(N,"BUTTON",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-1t0z3ws"&&(s.textContent=a),o=I(N),r=u(N,"H3",{class:!0});var L=_(r);c=U(L,"‚ö†Ô∏è Estados de "),p=U(L,h),L.forEach(f),m=I(N),T.l(N),b=I(N),C=u(N,"P",{class:!0,"data-svelte-h":!0}),S(C)!=="svelte-1mg2e4g"&&(C.textContent=x),k=I(N),v=u(N,"BUTTON",{class:!0,"data-svelte-h":!0}),S(v)!=="svelte-1vgxpha"&&(v.textContent=w),N.forEach(f),A.forEach(f),this.h()},h(){i(s,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),i(r,"class","font-bold text-2xl font-medieval text-neutral text-center mb-4"),i(C,"class","text-xs text-center text-neutral/60 italic mt-4"),i(v,"class","btn btn-dnd w-full mt-4"),i(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-md relative p-6"),i(e,"class","modal modal-open z-50")},m(H,A){Z(H,e,A),n(e,t),n(t,s),n(t,o),n(t,r),n(r,c),n(r,p),n(t,m),T.m(t,null),n(t,b),n(t,C),n(t,k),n(t,v),E||(y=[ae(s,"click",l[9]),ae(v,"click",l[9]),ae(e,"keydown",l[10])],E=!0)},p(H,A){A&2&&h!==(h=H[1].name+"")&&le(p,h),M===(M=P(H,A))&&T?T.p(H,A):(T.d(1),T=M(H),T&&(T.c(),T.m(t,b)))},d(H){H&&f(e),T.d(),E=!1,Je(y)}}}function Pn(l){let e,t,s,a="‚úï",o,r,c,h="‚ö†Ô∏è Estados de Combate",p,m,g,b,C,x,k=l[1].isNpc?"üëπ":"üßô‚Äç‚ôÇÔ∏è",v,w,E,y,P=l[1].name+"",M,T,H,A,N,L=l[1].currentHp+"",G,te,V=l[1].maxHp+"",Q,j,O,R,W=l[1].armorClass+"",re,$,B,F,J,K,q,Y="<span>‚ö†Ô∏è</span> <span>Estados Activos</span>",se,ee,ue=(l[1].conditions&&Array.isArray(l[1].conditions)?l[1].conditions.length:0)+"",he,be,X,oe,ie,ne,fe,Ce,lt,xe,Se="üîç",Ke,Me,ot="Base de datos oficial de D&D 5e",st,ge,qe,Xe,it;function Be(ce,ve){return ve&2&&(X=null),X==null&&(X=!!(ce[1].conditions&&Array.isArray(ce[1].conditions)&&ce[1].conditions.length>0)),X?Ln:Nn}let Ue=Be(l,-1),ye=Ue(l);function ct(ce,ve){return ve&8&&(qe=null),ce[5]?Un:ce[4].length>0?Bn:(qe==null&&(qe=!!ce[3].trim()),qe?Sn:jn)}let Ge=ct(l,-1),ke=Ge(l);return{c(){e=d("div"),t=d("div"),s=d("button"),s.textContent=a,o=D(),r=d("div"),c=d("h3"),c.textContent=h,p=D(),m=d("div"),g=d("div"),b=d("div"),C=d("div"),x=d("span"),v=z(k),w=D(),E=d("div"),y=d("h4"),M=z(P),T=D(),H=d("div"),A=d("div"),N=z("‚ù§Ô∏è "),G=z(L),te=z("/"),Q=z(V),j=D(),O=d("div"),R=z("üõ°Ô∏è "),re=z(W),$=D(),B=d("div"),F=d("div"),J=d("div"),K=d("div"),q=d("h5"),q.innerHTML=Y,se=D(),ee=d("span"),he=z(ue),be=D(),ye.c(),oe=D(),ie=d("div"),ne=d("div"),fe=d("div"),Ce=d("input"),lt=D(),xe=d("div"),xe.textContent=Se,Ke=D(),Me=d("p"),Me.textContent=ot,st=D(),ge=d("div"),ke.c(),this.h()},l(ce){e=u(ce,"DIV",{class:!0});var ve=_(e);t=u(ve,"DIV",{class:!0});var We=_(t);s=u(We,"BUTTON",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-1vc2djp"&&(s.textContent=a),o=I(We),r=u(We,"DIV",{class:!0});var Ze=_(r);c=u(Ze,"H3",{class:!0,"data-svelte-h":!0}),S(c)!=="svelte-j0oh10"&&(c.textContent=h),p=I(Ze),m=u(Ze,"DIV",{class:!0});var Ve=_(m);g=u(Ve,"DIV",{class:!0});var Ie=_(g);b=u(Ie,"DIV",{class:!0});var ut=_(b);C=u(ut,"DIV",{class:!0});var Ne=_(C);x=u(Ne,"SPAN",{class:!0});var De=_(x);v=U(De,k),De.forEach(f),Ne.forEach(f),ut.forEach(f),Ie.forEach(f),w=I(Ve),E=u(Ve,"DIV",{class:!0});var Pe=_(E);y=u(Pe,"H4",{class:!0});var mt=_(y);M=U(mt,P),mt.forEach(f),T=I(Pe),H=u(Pe,"DIV",{class:!0});var Ye=_(H);A=u(Ye,"DIV",{class:!0});var He=_(A);N=U(He,"‚ù§Ô∏è "),G=U(He,L),te=U(He,"/"),Q=U(He,V),He.forEach(f),j=I(Ye),O=u(Ye,"DIV",{class:!0});var dt=_(O);R=U(dt,"üõ°Ô∏è "),re=U(dt,W),dt.forEach(f),Ye.forEach(f),Pe.forEach(f),Ve.forEach(f),Ze.forEach(f),$=I(We),B=u(We,"DIV",{class:!0,style:!0});var Qe=_(B);F=u(Qe,"DIV",{class:!0,style:!0});var ft=_(F);J=u(ft,"DIV",{class:!0});var Ee=_(J);K=u(Ee,"DIV",{class:!0});var Ae=_(K);q=u(Ae,"H5",{class:!0,"data-svelte-h":!0}),S(q)!=="svelte-12hilzf"&&(q.innerHTML=Y),se=I(Ae),ee=u(Ae,"SPAN",{class:!0});var pt=_(ee);he=U(pt,ue),pt.forEach(f),Ae.forEach(f),be=I(Ee),ye.l(Ee),Ee.forEach(f),ft.forEach(f),oe=I(Qe),ie=u(Qe,"DIV",{class:!0,style:!0});var $e=_(ie);ne=u($e,"DIV",{class:!0});var Oe=_(ne);fe=u(Oe,"DIV",{class:!0});var nt=_(fe);Ce=u(nt,"INPUT",{type:!0,placeholder:!0,class:!0}),lt=I(nt),xe=u(nt,"DIV",{class:!0,"data-svelte-h":!0}),S(xe)!=="svelte-1duc997"&&(xe.textContent=Se),nt.forEach(f),Ke=I(Oe),Me=u(Oe,"P",{class:!0,"data-svelte-h":!0}),S(Me)!=="svelte-hqlo3f"&&(Me.textContent=ot),Oe.forEach(f),st=I($e),ge=u($e,"DIV",{class:!0});var rt=_(ge);ke.l(rt),rt.forEach(f),$e.forEach(f),Qe.forEach(f),We.forEach(f),ve.forEach(f),this.h()},h(){i(s,"class","btn btn-sm btn-circle btn-ghost absolute right-3 top-3 z-10 hover:bg-error/20"),i(c,"class","font-bold text-2xl font-medieval text-neutral text-center mb-3"),i(x,"class","text-xl"),i(C,"class","bg-primary/20 flex items-center justify-center"),i(b,"class","w-12 h-12 rounded-full ring-2 ring-secondary"),i(g,"class","avatar"),i(y,"class","text-lg font-medieval text-neutral font-bold truncate"),i(A,"class","badge badge-xs bg-error/30 text-neutral border-error/50"),i(O,"class","badge badge-xs bg-info/30 text-neutral border-info/50"),i(H,"class","flex gap-2 mt-1"),i(E,"class","flex-1 min-w-0"),i(m,"class","bg-gradient-to-r from-primary/10 to-accent/10 p-3 rounded-lg border border-primary/30 flex items-center gap-3"),i(r,"class","p-4 flex-shrink-0 bg-gradient-to-b from-[#f4e4c1] to-transparent"),i(q,"class","font-medieval text-neutral font-bold flex items-center gap-2"),i(ee,"class","badge badge-warning badge-sm"),i(K,"class","flex items-center justify-between mb-3"),i(J,"class","bg-warning/10 rounded-lg border-2 border-warning/30 p-3 flex flex-col h-full"),i(F,"class","md:w-1/3 flex flex-col"),_t(F,"min-height","300px"),i(Ce,"type","text"),i(Ce,"placeholder","Buscar condici√≥n (ej: blinded, poisoned, stunned)..."),i(Ce,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full pr-10"),i(xe,"class","absolute right-3 top-1/2 -translate-y-1/2 text-neutral/50"),i(fe,"class","relative"),i(Me,"class","text-xs text-neutral/50 mt-1 italic"),i(ne,"class","mb-3"),i(ge,"class","flex-1 overflow-y-auto custom-scrollbar bg-neutral/5 rounded-lg border border-primary/20 p-3"),i(ie,"class","md:w-2/3 flex flex-col"),_t(ie,"min-height","300px"),i(B,"class","flex-1 overflow-hidden flex flex-col md:flex-row gap-3 p-4"),_t(B,"min-height","0"),i(t,"class","card-parchment border-4 border-secondary w-5/6 h-5/6 mx-4 relative flex flex-col"),i(e,"class","modal modal-open z-50")},m(ce,ve){Z(ce,e,ve),n(e,t),n(t,s),n(t,o),n(t,r),n(r,c),n(r,p),n(r,m),n(m,g),n(g,b),n(b,C),n(C,x),n(x,v),n(m,w),n(m,E),n(E,y),n(y,M),n(E,T),n(E,H),n(H,A),n(A,N),n(A,G),n(A,te),n(A,Q),n(H,j),n(H,O),n(O,R),n(O,re),n(t,$),n(t,B),n(B,F),n(F,J),n(J,K),n(K,q),n(K,se),n(K,ee),n(ee,he),n(J,be),ye.m(J,null),n(B,oe),n(B,ie),n(ie,ne),n(ne,fe),n(fe,Ce),_e(Ce,l[3]),n(fe,lt),n(fe,xe),n(ne,Ke),n(ne,Me),n(ie,st),n(ie,ge),ke.m(ge,null),Xe||(it=[ae(s,"click",l[9]),ae(Ce,"input",l[12]),ae(Ce,"input",l[6]),ae(e,"keydown",l[10])],Xe=!0)},p(ce,ve){ve&2&&k!==(k=ce[1].isNpc?"üëπ":"üßô‚Äç‚ôÇÔ∏è")&&le(v,k),ve&2&&P!==(P=ce[1].name+"")&&le(M,P),ve&2&&L!==(L=ce[1].currentHp+"")&&le(G,L),ve&2&&V!==(V=ce[1].maxHp+"")&&le(Q,V),ve&2&&W!==(W=ce[1].armorClass+"")&&le(re,W),ve&2&&ue!==(ue=(ce[1].conditions&&Array.isArray(ce[1].conditions)?ce[1].conditions.length:0)+"")&&le(he,ue),Ue===(Ue=Be(ce,ve))&&ye?ye.p(ce,ve):(ye.d(1),ye=Ue(ce),ye&&(ye.c(),ye.m(J,null))),ve&8&&Ce.value!==ce[3]&&_e(Ce,ce[3]),Ge===(Ge=ct(ce,ve))&&ke?ke.p(ce,ve):(ke.d(1),ke=Ge(ce),ke&&(ke.c(),ke.m(ge,null)))},d(ce){ce&&f(e),ye.d(),ke.d(),Xe=!1,Je(it)}}}function An(l){let e,t='<div class="text-4xl mb-2">üòå</div> <p class="text-neutral/70 font-body">Sin estados activos</p>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-18t8x0o"&&(e.innerHTML=t),this.h()},h(){i(e,"class","text-center py-6")},m(s,a){Z(s,e,a)},p:pe,d(s){s&&f(e)}}}function On(l){let e,t=Te(l[1].conditions),s=[];for(let a=0;a<t.length;a+=1)s[a]=Ul(jl(l,t,a));return{c(){e=d("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=u(a,"DIV",{class:!0});var o=_(e);for(let r=0;r<s.length;r+=1)s[r].l(o);o.forEach(f),this.h()},h(){i(e,"class","space-y-2")},m(a,o){Z(a,e,o);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(a,o){if(o&2){t=Te(a[1].conditions);let r;for(r=0;r<t.length;r+=1){const c=jl(a,t,r);s[r]?s[r].p(c,o):(s[r]=Ul(c),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(a){a&&f(e),at(s,a)}}}function Ul(l){let e,t,s=l[21]+"",a,o;return{c(){e=d("div"),t=d("span"),a=z(s),o=D(),this.h()},l(r){e=u(r,"DIV",{class:!0});var c=_(e);t=u(c,"SPAN",{class:!0});var h=_(t);a=U(h,s),h.forEach(f),o=I(c),c.forEach(f),this.h()},h(){i(t,"class","font-medieval text-sm text-neutral"),i(e,"class","bg-warning/20 rounded px-3 py-2 border border-warning/40")},m(r,c){Z(r,e,c),n(e,t),n(t,a),n(e,o)},p(r,c){c&2&&s!==(s=r[21]+"")&&le(a,s)},d(r){r&&f(e)}}}function Nn(l){let e,t='<div class="text-3xl mb-2 opacity-50">üòå</div> <p class="text-xs text-neutral/60 font-body italic">Sin estados activos</p>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-gjvbew"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex-1 flex flex-col items-center justify-center text-center py-6")},m(s,a){Z(s,e,a)},p:pe,d(s){s&&f(e)}}}function Ln(l){let e,t=Te(l[1].conditions),s=[];for(let a=0;a<t.length;a+=1)s[a]=zl(Bl(l,t,a));return{c(){e=d("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=u(a,"DIV",{class:!0});var o=_(e);for(let r=0;r<s.length;r+=1)s[r].l(o);o.forEach(f),this.h()},h(){i(e,"class","flex-1 overflow-y-auto custom-scrollbar pr-1 space-y-2")},m(a,o){Z(a,e,o);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(a,o){if(o&258){t=Te(a[1].conditions);let r;for(r=0;r<t.length;r+=1){const c=Bl(a,t,r);s[r]?s[r].p(c,o):(s[r]=zl(c),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(a){a&&f(e),at(s,a)}}}function zl(l){let e,t,s=l[21]+"",a,o,r,c="‚úï",h,p,m;function g(){return l[11](l[21])}return{c(){e=d("div"),t=d("span"),a=z(s),o=D(),r=d("button"),r.textContent=c,h=D(),this.h()},l(b){e=u(b,"DIV",{class:!0});var C=_(e);t=u(C,"SPAN",{class:!0});var x=_(t);a=U(x,s),x.forEach(f),o=I(C),r=u(C,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),S(r)!=="svelte-5t970f"&&(r.textContent=c),h=I(C),C.forEach(f),this.h()},h(){i(t,"class","font-medieval text-sm text-neutral flex-1"),i(r,"class","btn btn-xs btn-circle btn-ghost hover:bg-error hover:text-white"),i(r,"title","Eliminar"),i(e,"class","bg-warning/20 rounded px-3 py-2 border border-warning/40 flex items-center justify-between gap-2 hover:bg-warning/30 transition-colors")},m(b,C){Z(b,e,C),n(e,t),n(t,a),n(e,o),n(e,r),n(e,h),p||(m=ae(r,"click",g),p=!0)},p(b,C){l=b,C&2&&s!==(s=l[21]+"")&&le(a,s)},d(b){b&&f(e),p=!1,m()}}}function jn(l){let e,t='<div class="text-5xl mb-3">üìñ</div> <p class="text-neutral/70 font-body mb-2">Escribe para buscar condiciones</p> <div class="flex flex-wrap gap-1 justify-center text-xs text-neutral/50 mt-2"><span class="bg-neutral/10 px-2 py-1 rounded">blinded</span> <span class="bg-neutral/10 px-2 py-1 rounded">charmed</span> <span class="bg-neutral/10 px-2 py-1 rounded">frightened</span> <span class="bg-neutral/10 px-2 py-1 rounded">grappled</span> <span class="bg-neutral/10 px-2 py-1 rounded">paralyzed</span></div>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-981qn5"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex flex-col items-center justify-center h-full text-center px-4")},m(s,a){Z(s,e,a)},p:pe,d(s){s&&f(e)}}}function Sn(l){let e,t,s="üîç",a,o,r,c,h,p,m,g,b="‚ûï Agregar como personalizado",C,x;return{c(){e=d("div"),t=d("div"),t.textContent=s,a=D(),o=d("p"),r=z('No se encontr√≥ "'),c=d("span"),h=z(l[3]),p=z('"'),m=D(),g=d("button"),g.textContent=b,this.h()},l(k){e=u(k,"DIV",{class:!0});var v=_(e);t=u(v,"DIV",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-sy51vw"&&(t.textContent=s),a=I(v),o=u(v,"P",{class:!0});var w=_(o);r=U(w,'No se encontr√≥ "'),c=u(w,"SPAN",{class:!0});var E=_(c);h=U(E,l[3]),E.forEach(f),p=U(w,'"'),w.forEach(f),m=I(v),g=u(v,"BUTTON",{class:!0,"data-svelte-h":!0}),S(g)!=="svelte-1rs0apo"&&(g.textContent=b),v.forEach(f),this.h()},h(){i(t,"class","text-4xl mb-3"),i(c,"class","font-bold"),i(o,"class","text-neutral/70 font-body mb-3"),i(g,"class","btn btn-primary btn-sm"),i(e,"class","flex flex-col items-center justify-center h-full text-center")},m(k,v){Z(k,e,v),n(e,t),n(e,a),n(e,o),n(o,r),n(o,c),n(c,h),n(o,p),n(e,m),n(e,g),C||(x=ae(g,"click",l[14]),C=!0)},p(k,v){v&8&&le(h,k[3])},d(k){k&&f(e),C=!1,x()}}}function Bn(l){let e,t=Te(l[4]),s=[];for(let a=0;a<t.length;a+=1)s[a]=Fl(Sl(l,t,a));return{c(){e=d("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){e=u(a,"DIV",{class:!0});var o=_(e);for(let r=0;r<s.length;r+=1)s[r].l(o);o.forEach(f),this.h()},h(){i(e,"class","space-y-2")},m(a,o){Z(a,e,o);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(a,o){if(o&146){t=Te(a[4]);let r;for(r=0;r<t.length;r+=1){const c=Sl(a,t,r);s[r]?s[r].p(c,o):(s[r]=Fl(c),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=t.length}},d(a){a&&f(e),at(s,a)}}}function Un(l){let e,t='<span class="loading loading-spinner loading-md text-secondary"></span> <p class="text-xs text-neutral/60 mt-2">Buscando...</p>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-io7n20"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex flex-col items-center justify-center h-full")},m(s,a){Z(s,e,a)},p:pe,d(s){s&&f(e)}}}function Rl(l){let e,t="‚úì Activo";return{c(){e=d("span"),e.textContent=t,this.h()},l(s){e=u(s,"SPAN",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-mm16lr"&&(e.textContent=t),this.h()},h(){i(e,"class","badge badge-xs badge-success shrink-0")},m(s,a){Z(s,e,a)},d(s){s&&f(e)}}}function Fl(l){let e,t,s,a=l[16].name+"",o,r,c,h,p=gt.cleanDescription(l[16].desc,120)+"",m,g,b,C,x,k,v=l[18]&&Rl();function w(){return l[13](l[16])}return{c(){e=d("button"),t=d("div"),s=d("span"),o=z(a),r=D(),v&&v.c(),c=D(),h=d("p"),m=z(p),g=D(),this.h()},l(E){e=u(E,"BUTTON",{class:!0});var y=_(e);t=u(y,"DIV",{class:!0});var P=_(t);s=u(P,"SPAN",{class:!0});var M=_(s);o=U(M,a),M.forEach(f),r=I(P),v&&v.l(P),P.forEach(f),c=I(y),h=u(y,"P",{class:!0});var T=_(h);m=U(T,p),T.forEach(f),g=I(y),y.forEach(f),this.h()},h(){i(s,"class","font-medieval font-bold text-neutral"),i(t,"class","flex items-start justify-between gap-2 mb-1"),i(h,"class","text-xs text-neutral/70 font-body leading-snug"),e.disabled=b=l[18],i(e,"class",C="w-full text-left p-3 rounded-lg border-2 transition-all "+(l[18]?"border-success/50 bg-success/10 cursor-not-allowed opacity-60":"border-primary/30 bg-[#f4e4c1]/50 hover:bg-[#f4e4c1] hover:border-primary/50 hover:shadow-md"))},m(E,y){Z(E,e,y),n(e,t),n(t,s),n(s,o),n(t,r),v&&v.m(t,null),n(e,c),n(e,h),n(h,m),n(e,g),x||(k=ae(e,"click",w),x=!0)},p(E,y){l=E,y&16&&a!==(a=l[16].name+"")&&le(o,a),l[18]?v||(v=Rl(),v.c(),v.m(t,null)):v&&(v.d(1),v=null),y&16&&p!==(p=gt.cleanDescription(l[16].desc,120)+"")&&le(m,p),y&18&&b!==(b=l[18])&&(e.disabled=b),y&18&&C!==(C="w-full text-left p-3 rounded-lg border-2 transition-all "+(l[18]?"border-success/50 bg-success/10 cursor-not-allowed opacity-60":"border-primary/30 bg-[#f4e4c1]/50 hover:bg-[#f4e4c1] hover:border-primary/50 hover:shadow-md"))&&i(e,"class",C)},d(E){E&&f(e),v&&v.d(),x=!1,k()}}}function zn(l){let e;function t(o,r){if(o[0]&&o[1]&&o[2])return Pn;if(o[0]&&o[1]&&!o[2])return Mn}let s=t(l),a=s&&s(l);return{c(){a&&a.c(),e=vt()},l(o){a&&a.l(o),e=vt()},m(o,r){a&&a.m(o,r),Z(o,e,r)},p(o,[r]){s===(s=t(o))&&a?a.p(o,r):(a&&a.d(1),a=s&&s(o),a&&(a.c(),a.m(e.parentNode,e)))},i:pe,o:pe,d(o){o&&f(e),a&&a.d(o)}}}function Rn(l,e,t){let{isOpen:s=!1}=e,{combatant:a=null}=e,{isDM:o=!1}=e;const r=zt();let c="",h=[],p=!1;const m=es(async()=>{if(!c.trim()){t(4,h=[]);return}t(5,p=!0);try{const y=await gt.searchConditions(c);t(4,h=y.results)}catch(y){console.error("Error searching conditions:",y),t(4,h=[])}finally{t(5,p=!1)}},300);function g(y){if(!a||!y.trim()||!o)return;if((Array.isArray(a.conditions)?a.conditions:[]).includes(y)){console.log("Condici√≥n ya existe:",y);return}console.log("Agregando condici√≥n:",y),r("add",y),t(3,c=""),t(4,h=[])}function b(y){!a||!o||(console.log("Removiendo condici√≥n:",y),r("remove",y))}function C(){t(3,c=""),t(4,h=[]),r("close")}function x(y){y.key==="Escape"&&C()}const k=y=>b(y);function v(){c=this.value,t(3,c)}const w=y=>g(y.name),E=()=>g(c.trim());return l.$$set=y=>{"isOpen"in y&&t(0,s=y.isOpen),"combatant"in y&&t(1,a=y.combatant),"isDM"in y&&t(2,o=y.isDM)},[s,a,o,c,h,p,m,g,b,C,x,k,v,w,E]}class Fn extends xt{constructor(e){super(),Ct(this,e,Rn,zn,yt,{isOpen:0,combatant:1,isDM:2})}}function ql(l,e,t){const s=l.slice();return s[45]=e[t],s[47]=t,s}function Gl(l){let e,t,s,a,o,r,c="‚úï",h,p;return{c(){e=d("div"),t=d("div"),s=d("span"),a=z(l[4]),o=D(),r=d("button"),r.textContent=c,this.h()},l(m){e=u(m,"DIV",{class:!0});var g=_(e);t=u(g,"DIV",{class:!0});var b=_(t);s=u(b,"SPAN",{});var C=_(s);a=U(C,l[4]),C.forEach(f),o=I(b),r=u(b,"BUTTON",{class:!0,"data-svelte-h":!0}),S(r)!=="svelte-4tcifc"&&(r.textContent=c),b.forEach(f),g.forEach(f),this.h()},h(){i(r,"class","btn btn-sm"),i(t,"class","alert alert-error flex justify-between items-center"),i(e,"class","container mx-auto p-4")},m(m,g){Z(m,e,g),n(e,t),n(t,s),n(s,a),n(t,o),n(t,r),h||(p=ae(r,"click",l[26]),h=!0)},p(m,g){g[0]&16&&le(a,m[4])},d(m){m&&f(e),h=!1,p()}}}function qn(l){let e,t,s,a,o,r=l[0].name+"",c,h,p,m,g,b=l[0].round+"",C,x,k,v,w=l[1].length+"",E,y,P,M,T,H,A,N,L=l[12]&&Wl(l),G=l[11]&&Ql(l);const te=[Jn,Qn],V=[];function Q(j,O){return j[1].length===0?0:1}return H=Q(l),A=V[H]=te[H](l),{c(){e=d("div"),t=d("div"),s=d("div"),a=d("div"),o=d("h2"),c=z(r),h=D(),p=d("div"),m=d("div"),g=z("üîÑ Ronda "),C=z(b),x=D(),k=d("div"),v=z("üë• "),E=z(w),y=z(" Combatientes"),P=D(),L&&L.c(),M=D(),G&&G.c(),T=D(),A.c(),this.h()},l(j){e=u(j,"DIV",{class:!0});var O=_(e);t=u(O,"DIV",{class:!0});var R=_(t);s=u(R,"DIV",{class:!0});var W=_(s);a=u(W,"DIV",{class:!0});var re=_(a);o=u(re,"H2",{class:!0});var $=_(o);c=U($,r),$.forEach(f),h=I(re),p=u(re,"DIV",{class:!0});var B=_(p);m=u(B,"DIV",{class:!0});var F=_(m);g=U(F,"üîÑ Ronda "),C=U(F,b),F.forEach(f),x=I(B),k=u(B,"DIV",{class:!0});var J=_(k);v=U(J,"üë• "),E=U(J,w),y=U(J," Combatientes"),J.forEach(f),B.forEach(f),re.forEach(f),P=I(W),L&&L.l(W),W.forEach(f),M=I(R),G&&G.l(R),R.forEach(f),T=I(O),A.l(O),O.forEach(f),this.h()},h(){i(o,"class","text-2xl md:text-3xl font-medieval text-neutral mb-2 sm:mb-0"),i(m,"class","badge badge-ornate badge-md"),i(k,"class","badge bg-info/30 border-info/50 text-neutral badge-md"),i(p,"class","flex flex-wrap gap-2 mt-2 sm:mt-0"),i(a,"class","flex-1 flex flex-col sm:flex-row sm:items-center sm:gap-4 flex-wrap"),i(s,"class","card-body p-6 flex flex-col lg:flex-row justify-between gap-4"),i(t,"class","card-parchment mb-6 corner-ornament"),i(e,"class","p-4 max-w-5xl mx-auto")},m(j,O){Z(j,e,O),n(e,t),n(t,s),n(s,a),n(a,o),n(o,c),n(a,h),n(a,p),n(p,m),n(m,g),n(m,C),n(p,x),n(p,k),n(k,v),n(k,E),n(k,y),n(s,P),L&&L.m(s,null),n(t,M),G&&G.m(t,null),n(e,T),V[H].m(e,null),N=!0},p(j,O){(!N||O[0]&1)&&r!==(r=j[0].name+"")&&le(c,r),(!N||O[0]&1)&&b!==(b=j[0].round+"")&&le(C,b),(!N||O[0]&2)&&w!==(w=j[1].length+"")&&le(E,w),j[12]?L?L.p(j,O):(L=Wl(j),L.c(),L.m(s,null)):L&&(L.d(1),L=null),j[11]?G?G.p(j,O):(G=Ql(j),G.c(),G.m(t,null)):G&&(G.d(1),G=null);let R=H;H=Q(j),H===R?V[H].p(j,O):(Yt(),Re(V[R],1,1,()=>{V[R]=null}),Zt(),A=V[H],A?A.p(j,O):(A=V[H]=te[H](j),A.c()),je(A,1),A.m(e,null))},i(j){N||(je(A),N=!0)},o(j){Re(A),N=!1},d(j){j&&f(e),L&&L.d(),G&&G.d(),V[H].d()}}}function Gn(l){let e,t,s,a="‚öîÔ∏è",o,r,c="No hay combate activo",h,p,m="El DM debe iniciar un encuentro para comenzar la batalla",g;function b(k,v){return k[12]?Xn:Kn}let C=b(l),x=C(l);return{c(){e=d("div"),t=d("div"),s=d("div"),s.textContent=a,o=D(),r=d("h2"),r.textContent=c,h=D(),p=d("p"),p.textContent=m,g=D(),x.c(),this.h()},l(k){e=u(k,"DIV",{class:!0});var v=_(e);t=u(v,"DIV",{class:!0});var w=_(t);s=u(w,"DIV",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-19xxu84"&&(s.textContent=a),o=I(w),r=u(w,"H2",{class:!0,"data-svelte-h":!0}),S(r)!=="svelte-itogws"&&(r.textContent=c),h=I(w),p=u(w,"P",{class:!0,"data-svelte-h":!0}),S(p)!=="svelte-1smrxik"&&(p.textContent=m),g=I(w),x.l(w),w.forEach(f),v.forEach(f),this.h()},h(){i(s,"class","text-6xl mb-4"),i(r,"class","text-3xl font-medieval text-neutral mb-4"),i(p,"class","text-neutral/70 font-body mb-6"),i(t,"class","card-parchment max-w-2xl w-full p-12 corner-ornament text-center"),i(e,"class","flex items-center justify-center h-full p-4")},m(k,v){Z(k,e,v),n(e,t),n(t,s),n(t,o),n(t,r),n(t,h),n(t,p),n(t,g),x.m(t,null)},p(k,v){C===(C=b(k))&&x?x.p(k,v):(x.d(1),x=C(k),x&&(x.c(),x.m(t,null)))},i:pe,o:pe,d(k){k&&f(e),x.d()}}}function Wn(l){let e,t='<span class="loading loading-spinner loading-lg text-secondary"></span>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(s){e=u(s,"DIV",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-xh23f2"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex items-center justify-center h-full")},m(s,a){Z(s,e,a)},p:pe,i:pe,o:pe,d(s){s&&f(e)}}}function Wl(l){let e,t,s='<span class="text-lg">‚ûï</span> Agregar',a,o,r,c="‚ñ∂Ô∏è",h,p,m,g,b="üèÅ Finalizar",C,x;return{c(){e=d("div"),t=d("button"),t.innerHTML=s,a=D(),o=d("button"),r=d("span"),r.textContent=c,h=z(" Siguiente Turno"),m=D(),g=d("button"),g.textContent=b,this.h()},l(k){e=u(k,"DIV",{class:!0});var v=_(e);t=u(v,"BUTTON",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-sdwydq"&&(t.innerHTML=s),a=I(v),o=u(v,"BUTTON",{class:!0});var w=_(o);r=u(w,"SPAN",{class:!0,"data-svelte-h":!0}),S(r)!=="svelte-vhmvlx"&&(r.textContent=c),h=U(w," Siguiente Turno"),w.forEach(f),m=I(v),g=u(v,"BUTTON",{class:!0,"data-svelte-h":!0}),S(g)!=="svelte-1oa32z5"&&(g.textContent=b),v.forEach(f),this.h()},h(){i(t,"class","btn btn-success btn-sm gap-2 flex-1 sm:flex-none"),i(r,"class","text-lg"),i(o,"class","btn btn-dnd btn-sm gap-2 flex-1 sm:flex-none"),o.disabled=p=l[1].length===0,i(g,"class","btn btn-error btn-sm flex-1 sm:flex-none"),i(e,"class","flex flex-col sm:flex-row gap-2 mt-2 lg:mt-0 w-full sm:w-auto")},m(k,v){Z(k,e,v),n(e,t),n(e,a),n(e,o),n(o,r),n(o,h),n(e,m),n(e,g),C||(x=[ae(t,"click",l[28]),ae(o,"click",l[22]),ae(g,"click",l[14])],C=!0)},p(k,v){v[0]&2&&p!==(p=k[1].length===0)&&(o.disabled=p)},d(k){k&&f(e),C=!1,Je(x)}}}function Ql(l){let e,t,s="TURNO ACTUAL",a,o,r=l[11].name+"",c;return{c(){e=d("div"),t=d("p"),t.textContent=s,a=D(),o=d("p"),c=z(r),this.h()},l(h){e=u(h,"DIV",{class:!0});var p=_(e);t=u(p,"P",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-j3qdhu"&&(t.textContent=s),a=I(p),o=u(p,"P",{class:!0});var m=_(o);c=U(m,r),m.forEach(f),p.forEach(f),this.h()},h(){i(t,"class","text-sm font-medieval text-neutral/70 mb-1"),i(o,"class","text-2xl font-bold font-medieval text-neutral"),i(e,"class","bg-gradient-to-r from-secondary/20 to-accent/20 p-4 rounded-lg border-2 border-secondary mt-4")},m(h,p){Z(h,e,p),n(e,t),n(e,a),n(e,o),n(o,c)},p(h,p){p[0]&2048&&r!==(r=h[11].name+"")&&le(c,r)},d(h){h&&f(e)}}}function Qn(l){let e,t,s=Te(l[1]),a=[];for(let r=0;r<s.length;r+=1)a[r]=Jl(ql(l,s,r));const o=r=>Re(a[r],1,1,()=>{a[r]=null});return{c(){e=d("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=u(r,"DIV",{class:!0});var c=_(e);for(let h=0;h<a.length;h+=1)a[h].l(c);c.forEach(f),this.h()},h(){i(e,"class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4")},m(r,c){Z(r,e,c);for(let h=0;h<a.length;h+=1)a[h]&&a[h].m(e,null);t=!0},p(r,c){if(c[0]&462851){s=Te(r[1]);let h;for(h=0;h<s.length;h+=1){const p=ql(r,s,h);a[h]?(a[h].p(p,c),je(a[h],1)):(a[h]=Jl(p),a[h].c(),je(a[h],1),a[h].m(e,null))}for(Yt(),h=s.length;h<a.length;h+=1)o(h);Zt()}},i(r){if(!t){for(let c=0;c<s.length;c+=1)je(a[c]);t=!0}},o(r){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)Re(a[c]);t=!1},d(r){r&&f(e),at(a,r)}}}function Jn(l){let e,t,s="üé≤",a,o,r="Sin combatientes",c,h,p=l[12]?"Agrega personajes y criaturas para comenzar":"Esperando que el DM agregue combatientes",m;return{c(){e=d("div"),t=d("div"),t.textContent=s,a=D(),o=d("p"),o.textContent=r,c=D(),h=d("p"),m=z(p),this.h()},l(g){e=u(g,"DIV",{class:!0});var b=_(e);t=u(b,"DIV",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-9xsxws"&&(t.textContent=s),a=I(b),o=u(b,"P",{class:!0,"data-svelte-h":!0}),S(o)!=="svelte-180lhql"&&(o.textContent=r),c=I(b),h=u(b,"P",{class:!0});var C=_(h);m=U(C,p),C.forEach(f),b.forEach(f),this.h()},h(){i(t,"class","text-4xl mb-3"),i(o,"class","text-xl font-medieval text-neutral mb-2"),i(h,"class","text-neutral/70 font-body"),i(e,"class","card-parchment p-12 text-center")},m(g,b){Z(g,e,b),n(e,t),n(e,a),n(e,o),n(e,c),n(e,h),n(h,m)},p(g,b){b[0]&4096&&p!==(p=g[12]?"Agrega personajes y criaturas para comenzar":"Esperando que el DM agregue combatientes")&&le(m,p)},i:pe,o:pe,d(g){g&&f(e)}}}function Jl(l){let e,t;return e=new bs({props:{combatant:l[45],isCurrentTurn:l[47]===l[0].turnIndex%l[1].length,isDM:!!l[12]}}),e.$on("updateHP",l[17]),e.$on("addCondition",l[18]),e.$on("remove",l[16]),{c(){Ut(e.$$.fragment)},l(s){Bt(e.$$.fragment,s)},m(s,a){St(e,s,a),t=!0},p(s,a){const o={};a[0]&2&&(o.combatant=s[45]),a[0]&3&&(o.isCurrentTurn=s[47]===s[0].turnIndex%s[1].length),a[0]&4096&&(o.isDM=!!s[12]),e.$set(o)},i(s){t||(je(e.$$.fragment,s),t=!0)},o(s){Re(e.$$.fragment,s),t=!1},d(s){jt(e,s)}}}function Kn(l){let e,t="Esperando que el DM inicie el combate...";return{c(){e=d("p"),e.textContent=t,this.h()},l(s){e=u(s,"P",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-2v0fgb"&&(e.textContent=t),this.h()},h(){i(e,"class","text-sm text-neutral/50 italic")},m(s,a){Z(s,e,a)},p:pe,d(s){s&&f(e)}}}function Xn(l){let e,t=`<span class="text-2xl">‚öîÔ∏è</span>
                Iniciar Encuentro`,s,a;return{c(){e=d("button"),e.innerHTML=t,this.h()},l(o){e=u(o,"BUTTON",{class:!0,"data-svelte-h":!0}),S(e)!=="svelte-78s565"&&(e.innerHTML=t),this.h()},h(){i(e,"class","btn btn-dnd btn-lg")},m(o,r){Z(o,e,r),s||(a=ae(e,"click",l[27]),s=!0)},p:pe,d(o){o&&f(e),s=!1,a()}}}function Kl(l){let e,t,s,a="‚öîÔ∏è Iniciar Encuentro",o,r,c,h='<span class="label-text font-medieval text-neutral text-lg">Nombre del Encuentro</span>',p,m,g,b,C,x="Cancelar",k,v,w,E="‚öîÔ∏è",y,P,M,T;return{c(){e=d("div"),t=d("div"),s=d("h3"),s.textContent=a,o=D(),r=d("div"),c=d("label"),c.innerHTML=h,p=D(),m=d("input"),g=D(),b=d("div"),C=d("button"),C.textContent=x,k=D(),v=d("button"),w=d("span"),w.textContent=E,y=z(`\r
          Iniciar Combate`),this.h()},l(H){e=u(H,"DIV",{class:!0});var A=_(e);t=u(A,"DIV",{class:!0});var N=_(t);s=u(N,"H3",{class:!0,"data-svelte-h":!0}),S(s)!=="svelte-jkbohq"&&(s.textContent=a),o=I(N),r=u(N,"DIV",{class:!0});var L=_(r);c=u(L,"LABEL",{class:!0,"data-svelte-h":!0}),S(c)!=="svelte-13njkxf"&&(c.innerHTML=h),p=I(L),m=u(L,"INPUT",{type:!0,placeholder:!0,class:!0}),L.forEach(f),g=I(N),b=u(N,"DIV",{class:!0});var G=_(b);C=u(G,"BUTTON",{class:!0,"data-svelte-h":!0}),S(C)!=="svelte-173ap95"&&(C.textContent=x),k=I(G),v=u(G,"BUTTON",{class:!0});var te=_(v);w=u(te,"SPAN",{class:!0,"data-svelte-h":!0}),S(w)!=="svelte-v5ojki"&&(w.textContent=E),y=U(te,`\r
          Iniciar Combate`),te.forEach(f),G.forEach(f),N.forEach(f),A.forEach(f),this.h()},h(){i(s,"class","font-bold text-2xl font-medieval text-neutral mb-4 text-center"),i(c,"class","label"),i(m,"type","text"),i(m,"placeholder","Ej: Emboscada de Orcos"),i(m,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 text-lg"),i(r,"class","form-control"),i(C,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),i(w,"class","text-xl"),i(v,"class","btn btn-dnd"),v.disabled=P=!l[7].trim(),i(b,"class","modal-action justify-center gap-4"),i(t,"class","modal-box card-parchment border-4 border-secondary"),i(e,"class","modal modal-open z-50")},m(H,A){Z(H,e,A),n(e,t),n(t,s),n(t,o),n(t,r),n(r,c),n(r,p),n(r,m),_e(m,l[7]),n(t,g),n(t,b),n(b,C),n(b,k),n(b,v),n(v,w),n(v,y),M||(T=[ae(m,"input",l[29]),ae(C,"click",l[30]),ae(v,"click",l[13])],M=!0)},p(H,A){A[0]&128&&m.value!==H[7]&&_e(m,H[7]),A[0]&128&&P!==(P=!H[7].trim())&&(v.disabled=P)},d(H){H&&f(e),M=!1,Je(T)}}}function Zn(l){let e,t,s,a,o,r,c,h,p,m,g,b,C,x,k,v,w,E=l[4]&&Gl(l);const y=[Wn,Gn,qn],P=[];function M(V,Q){return V[3]?0:V[0]?2:1}o=M(l),r=P[o]=y[o](l);let T=l[6]&&Kl(l);function H(V){l[31](V)}let A={combatant:l[10],isDM:!!l[12]};l[8]!==void 0&&(A.isOpen=l[8]),p=new Hn({props:A}),Wt.push(()=>Qt(p,"isOpen",H)),p.$on("apply",l[19]),p.$on("close",l[32]);function N(V){l[33](V)}let L={combatant:l[10],isDM:!!l[12]};l[9]!==void 0&&(L.isOpen=l[9]),b=new Fn({props:L}),Wt.push(()=>Qt(b,"isOpen",N)),b.$on("add",l[20]),b.$on("remove",l[21]),b.$on("close",l[34]);function G(V){l[35](V)}let te={players:l[2]};return l[5]!==void 0&&(te.isOpen=l[5]),k=new En({props:te}),Wt.push(()=>Qt(k,"isOpen",G)),k.$on("add",l[15]),k.$on("close",l[36]),{c(){e=d("div"),E&&E.c(),t=D(),s=d("div"),a=d("div"),r.c(),c=D(),T&&T.c(),h=D(),Ut(p.$$.fragment),g=D(),Ut(b.$$.fragment),x=D(),Ut(k.$$.fragment),this.h()},l(V){e=u(V,"DIV",{class:!0});var Q=_(e);E&&E.l(Q),t=I(Q),s=u(Q,"DIV",{class:!0});var j=_(s);a=u(j,"DIV",{class:!0});var O=_(a);r.l(O),O.forEach(f),j.forEach(f),Q.forEach(f),c=I(V),T&&T.l(V),h=I(V),Bt(p.$$.fragment,V),g=I(V),Bt(b.$$.fragment,V),x=I(V),Bt(k.$$.fragment,V),this.h()},h(){i(a,"class","flex-1"),i(s,"class","flex flex-1"),i(e,"class","min-h-screen flex flex-col")},m(V,Q){Z(V,e,Q),E&&E.m(e,null),n(e,t),n(e,s),n(s,a),P[o].m(a,null),Z(V,c,Q),T&&T.m(V,Q),Z(V,h,Q),St(p,V,Q),Z(V,g,Q),St(b,V,Q),Z(V,x,Q),St(k,V,Q),w=!0},p(V,Q){V[4]?E?E.p(V,Q):(E=Gl(V),E.c(),E.m(e,t)):E&&(E.d(1),E=null);let j=o;o=M(V),o===j?P[o].p(V,Q):(Yt(),Re(P[j],1,1,()=>{P[j]=null}),Zt(),r=P[o],r?r.p(V,Q):(r=P[o]=y[o](V),r.c()),je(r,1),r.m(a,null)),V[6]?T?T.p(V,Q):(T=Kl(V),T.c(),T.m(h.parentNode,h)):T&&(T.d(1),T=null);const O={};Q[0]&1024&&(O.combatant=V[10]),Q[0]&4096&&(O.isDM=!!V[12]),!m&&Q[0]&256&&(m=!0,O.isOpen=V[8],Jt(()=>m=!1)),p.$set(O);const R={};Q[0]&1024&&(R.combatant=V[10]),Q[0]&4096&&(R.isDM=!!V[12]),!C&&Q[0]&512&&(C=!0,R.isOpen=V[9],Jt(()=>C=!1)),b.$set(R);const W={};Q[0]&4&&(W.players=V[2]),!v&&Q[0]&32&&(v=!0,W.isOpen=V[5],Jt(()=>v=!1)),k.$set(W)},i(V){w||(je(r),je(p.$$.fragment,V),je(b.$$.fragment,V),je(k.$$.fragment,V),w=!0)},o(V){Re(r),Re(p.$$.fragment,V),Re(b.$$.fragment,V),Re(k.$$.fragment,V),w=!1},d(V){V&&(f(e),f(c),f(h),f(g),f(x)),E&&E.d(),P[o].d(),T&&T.d(V),jt(p,V),jt(b,V),jt(k,V)}}}function Yn(l,e,t){let s,a,o,r,c;ul(l,is,X=>t(24,r=X)),ul(l,os,X=>t(25,c=X)),as.set("Combate");let h=null,p=null,m=[],g=[],b=!0,C="",x=!1,k=!1,v="",w=!1,E=!1,y=null,P=null,M=null;const T=cs(ds);ns(async()=>{await N(),await L(),await H()}),rs(()=>{P&&P(),M&&M()});async function H(){try{t(3,b=!0);const X=dl(T,"encounters"),oe=fl(X,Kt("campaignId","==",s),Kt("isActive","==",!0));P=hl(oe,ie=>{if(ie.empty)t(0,p=null),t(1,m=[]),M&&(M(),M=null);else{const ne=ie.docs[0];t(0,p={id:ne.id,...ne.data()}),!M&&p&&A(p.id)}t(3,b=!1)},ie=>{console.error("Error en listener de encuentro:",ie),t(4,C=ie.message),t(3,b=!1)})}catch(X){t(4,C=X.message),t(3,b=!1)}}function A(X){const oe=dl(T,"combatants"),ie=fl(oe,Kt("encounterId","==",X),us("initiative","desc"));M=hl(ie,ne=>{if(t(1,m=ne.docs.map(fe=>({id:fe.id,...fe.data()}))),y){const fe=m.find(Ce=>Ce.id===y.id);fe&&t(10,y=fe)}},ne=>{console.error("Error en listener de combatientes:",ne)})}async function N(){try{t(23,h=await ze.getCampaign(s))}catch(X){t(4,C=X.message)}}async function L(){try{t(2,g=await ze.getCampaignCharacters(s))}catch(X){console.error("Error loading characters:",X)}}async function G(){if(v.trim())try{await ze.createEncounter(s,v),t(6,k=!1),t(7,v="")}catch(X){t(4,C=X.message)}}async function te(){if(!(!p||!confirm("¬øFinalizar este encuentro? Los HP actuales se guardar√°n en los personajes.")))try{await ze.endEncounter(p.id)}catch(X){t(4,C=X.message)}}async function V(X){if(p)try{await ze.addCombatant(p.id,X.detail),t(5,x=!1)}catch(oe){t(4,C=oe.message)}}async function Q(X){const oe=X.detail;if(confirm(`¬øEliminar a ${oe.name} del combate?`))try{await ze.removeCombatant(oe.id)}catch(ie){t(4,C=ie.message)}}function j(X){t(10,y=X.detail),t(8,w=!0),t(9,E=!1)}function O(X){t(10,y=X.detail),t(9,E=!0),t(8,w=!1)}async function R(X){if(y)try{const oe=X.detail,ie=Math.max(0,Math.min(y.maxHp,y.currentHp+oe));await ze.updateCombatant(y.id,{currentHp:ie}),t(8,w=!1),t(10,y=null)}catch(oe){t(4,C=oe.message)}}async function W(X){if(y)try{const oe=X.detail,ie=Array.isArray(y.conditions)?y.conditions:[];if(ie.includes(oe)){console.log("Condici√≥n ya existe, ignorando");return}const ne=[...ie,oe];await ze.updateCombatant(y.id,{conditions:ne})}catch(oe){t(4,C=oe.message)}}async function re(X){if(y)try{const oe=X.detail,ne=(Array.isArray(y.conditions)?y.conditions:[]).filter(fe=>fe!==oe);await ze.updateCombatant(y.id,{conditions:ne})}catch(oe){t(4,C=oe.message)}}async function $(){if(p)try{await ze.nextTurn(p.id)}catch(X){t(4,C=X.message)}}const B=()=>t(4,C=""),F=()=>t(6,k=!0),J=()=>t(5,x=!0);function K(){v=this.value,t(7,v)}const q=()=>{t(6,k=!1),t(7,v="")};function Y(X){w=X,t(8,w)}const se=()=>{t(8,w=!1),t(10,y=null)};function ee(X){E=X,t(9,E)}const ue=()=>{t(9,E=!1),t(10,y=null)};function he(X){x=X,t(5,x)}const be=()=>t(5,x=!1);return l.$$.update=()=>{l.$$.dirty[0]&33554432&&(s=c.params.id||""),l.$$.dirty[0]&25165824&&t(12,a=h&&r&&h.dmId===r.uid),l.$$.dirty[0]&3&&t(11,o=p&&m.length>0?m[p.turnIndex%m.length]:null)},[p,m,g,b,C,x,k,v,w,E,y,o,a,G,te,V,Q,j,O,R,W,re,$,h,r,c,B,F,J,K,q,Y,se,ee,ue,he,be]}class ar extends xt{constructor(e){super(),Ct(this,e,Yn,Zn,yt,{},null,[-1,-1])}}export{ar as component};
