import{S as re,i as oe,s as ce,n as R,d as b,y as Ne,r as Le,c as i,a as L,b as p,l as A,g as D,e as w,f as E,h as J,k as M,j as y,m as W,o as G,p as B,t as H,T as Oe,z as X,A as $,q as Se,x as ee,G as z,H as P,J as se,_ as Ae,$ as qe,a0 as Ge,a1 as Fe,Y as Je,N as je,Z as Ke,P as Pe,Q as Be,O as He,I as ne}from"../chunks/CQqHTK8U.js";import"../chunks/IHki7fMi.js";import{o as Qe,b as ae,c as We}from"../chunks/SB3GKwJC.js";import{u as _e,t as be,l as ge}from"../chunks/8E2ohCEn.js";import{e as te,a as ke,r as Ye,s as Ze,b as le,h as Xe}from"../chunks/BjXTUeIZ.js";import{g as ie}from"../chunks/CuU0tWjs.js";import{p as Ue}from"../chunks/CSRxS88f.js";const $e=!1,et=!1,wt=Object.freeze(Object.defineProperty({__proto__:null,prerender:et,ssr:$e},Symbol.toStringTag,{value:"Module"}));function we(l,e,t){const a=l.slice();return a[15]=e[t],a[16]=e,a[17]=t,a}function ye(l){let e,t,a;return{c(){e=y("div"),this.h()},l(s){e=w(s,"DIV",{class:!0,"aria-hidden":!0}),E(e).forEach(b),this.h()},h(){i(e,"class","fixed inset-0 bg-black/40 z-40"),i(e,"aria-hidden","true")},m(s,o){L(s,e,o),t||(a=A(e,"click",l[7]),t=!0)},p:R,d(s){s&&b(e),t=!1,a()}}}function Ie(l){let e,t,a=l[15].icon+"",s,o,n,_=l[15].label+"",f,v,g,x,I,C=l[17],V,T;const m=()=>l[13](e,C),u=()=>l[13](null,C);function c(){return l[14](l[15])}return{c(){e=y("button"),t=y("span"),s=H(a),o=M(),n=y("span"),f=H(_),v=M(),this.h()},l(d){e=w(d,"BUTTON",{class:!0,title:!0,"aria-current":!0});var h=E(e);t=w(h,"SPAN",{class:!0});var r=E(t);s=B(r,a),r.forEach(b),o=D(h),n=w(h,"SPAN",{class:!0});var k=E(n);f=B(k,_),k.forEach(b),v=D(h),h.forEach(b),this.h()},h(){i(t,"class","text-xl"),i(n,"class","ml-2"),i(e,"class",g=`btn font-medieval transition-all duration-200 flex items-center gap-3 justify-start px-3 py-2
                  ${l[15].active?"btn-dnd":"btn-ghost text-secondary hover:text-accent"}`),i(e,"title",x=l[15].label),i(e,"aria-current",I=l[15].active?"page":void 0)},m(d,h){L(d,e,h),p(e,t),p(t,s),p(e,o),p(e,n),p(n,f),p(e,v),m(),V||(T=A(e,"click",c),V=!0)},p(d,h){l=d,h&122&&a!==(a=l[15].icon+"")&&G(s,a),h&122&&_!==(_=l[15].label+"")&&G(f,_),h&122&&g!==(g=`btn font-medieval transition-all duration-200 flex items-center gap-3 justify-start px-3 py-2
                  ${l[15].active?"btn-dnd":"btn-ghost text-secondary hover:text-accent"}`)&&i(e,"class",g),h&122&&x!==(x=l[15].label)&&i(e,"title",x),h&122&&I!==(I=l[15].active?"page":void 0)&&i(e,"aria-current",I),C!==l[17]&&(u(),C=l[17],m())},d(d){d&&b(e),u(),V=!1,T()}}}function tt(l){let e,t,a,s,o,n='<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>',_,f,v,g='<span class="text-2xl">üìú</span> <span class="ml-2">Volver al Grimorio</span>',x,I,C,V,T,m=l[0]&&ye(l),u=te([{path:`/campaigns/${l[1]}`,label:"Home",icon:"üè†",active:l[3]},{path:`/campaigns/${l[1]}/combat`,label:"Combate",icon:"‚öîÔ∏è",active:l[6]},{path:`/campaigns/${l[1]}/characters`,label:"Personajes",icon:"üßô‚Äç‚ôÇÔ∏è",active:l[5]},{path:`/campaigns/${l[1]}/notes`,label:"Notas",icon:"üìù",active:l[4]}]),c=[];for(let d=0;d<4;d+=1)c[d]=Ie(we(l,u,d));return{c(){m&&m.c(),e=M(),t=y("div"),a=y("div"),s=y("div"),o=y("button"),o.innerHTML=n,_=M(),f=y("div"),v=y("button"),v.innerHTML=g,x=M();for(let d=0;d<4;d+=1)c[d].c();this.h()},l(d){m&&m.l(d),e=D(d),t=w(d,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-hidden":!0});var h=E(t);a=w(h,"DIV",{class:!0});var r=E(a);s=w(r,"DIV",{class:!0});var k=E(s);o=w(k,"BUTTON",{class:!0,"aria-label":!0,"aria-controls":!0,"data-svelte-h":!0}),J(o)!=="svelte-loq967"&&(o.innerHTML=n),k.forEach(b),_=D(r),f=w(r,"DIV",{class:!0});var O=E(f);v=w(O,"BUTTON",{class:!0,"data-svelte-h":!0}),J(v)!=="svelte-9ry9j6"&&(v.innerHTML=g),x=D(O);for(let S=0;S<4;S+=1)c[S].l(O);O.forEach(b),r.forEach(b),h.forEach(b),this.h()},h(){i(o,"class","btn btn-ghost btn-square ml-2"),i(o,"aria-label","Cerrar men√∫"),i(o,"aria-controls","sidebar"),i(s,"class","flex items-center"),i(v,"class","btn font-medieval transition-all duration-200 flex items-center gap-3 justify-start px-3 py-2 btn-ghost text-secondary hover:text-accent"),i(f,"class","space-y-2 flex-1 flex flex-col"),i(a,"class","bg-neutral border-r-4 border-secondary h-full flex flex-col p-4 shadow-xl"),i(t,"class",I=`fixed top-0 left-0 h-full z-50 transform transition-transform duration-300 ease-in-out
          ${l[0]?"translate-x-0":"-translate-x-full"} w-72`),i(t,"role","navigation"),i(t,"aria-label","Sidebar navegaci√≥n"),i(t,"aria-hidden",C=!l[0])},m(d,h){m&&m.m(d,h),L(d,e,h),L(d,t,h),p(t,a),p(a,s),p(s,o),p(a,_),p(a,f),p(f,v),p(f,x);for(let r=0;r<4;r+=1)c[r]&&c[r].m(f,null);V||(T=[A(window,"keydown",l[8]),A(o,"click",l[7]),A(v,"click",l[12])],V=!0)},p(d,[h]){if(d[0]?m?m.p(d,h):(m=ye(d),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),h&638){u=te([{path:`/campaigns/${d[1]}`,label:"Home",icon:"üè†",active:d[3]},{path:`/campaigns/${d[1]}/combat`,label:"Combate",icon:"‚öîÔ∏è",active:d[6]},{path:`/campaigns/${d[1]}/characters`,label:"Personajes",icon:"üßô‚Äç‚ôÇÔ∏è",active:d[5]},{path:`/campaigns/${d[1]}/notes`,label:"Notas",icon:"üìù",active:d[4]}]);let r;for(r=0;r<4;r+=1){const k=we(d,u,r);c[r]?c[r].p(k,h):(c[r]=Ie(k),c[r].c(),c[r].m(f,null))}for(;r<4;r+=1)c[r].d(1)}h&1&&I!==(I=`fixed top-0 left-0 h-full z-50 transform transition-transform duration-300 ease-in-out
          ${d[0]?"translate-x-0":"-translate-x-full"} w-72`)&&i(t,"class",I),h&1&&C!==(C=!d[0])&&i(t,"aria-hidden",C)},i:R,o:R,d(d){d&&(b(e),b(t)),m&&m.d(d),Ne(c,d),V=!1,Le(T)}}}function at(l,e,t){let a,s,o,n,_,f;W(l,Ue,c=>t(11,f=c));let{campaignId:v}=e,{isOpen:g=!1}=e,x=[];function I(){t(0,g=!1)}function C(c){c.key==="Escape"&&I()}function V(c){ie(c),I()}const T=()=>V("/dashboard");function m(c,d){Oe[c?"unshift":"push"](()=>{x[d]=c,t(2,x)})}const u=c=>V(c.path);return l.$$set=c=>{"campaignId"in c&&t(1,v=c.campaignId),"isOpen"in c&&t(0,g=c.isOpen)},l.$$.update=()=>{l.$$.dirty&2048&&t(10,a=f.url.pathname),l.$$.dirty&1026&&t(6,s=a===`/campaigns/${v}/combat`),l.$$.dirty&1026&&t(5,o=a===`/campaigns/${v}/characters`),l.$$.dirty&1026&&t(4,n=a===`/campaigns/${v}/notes`),l.$$.dirty&1026&&t(3,_=a===`/campaigns/${v}`)},[g,v,x,_,n,o,s,I,C,V,a,f,T,m,u]}class lt extends re{constructor(e){super(),oe(this,e,at,tt,ce,{campaignId:1,isOpen:0})}}function Ee(l,e,t){const a=l.slice();return a[7]=e[t],a}function Te(l){let e,t=l[0].length+"",a;return{c(){e=y("span"),a=H(t),this.h()},l(s){e=w(s,"SPAN",{class:!0});var o=E(e);a=B(o,t),o.forEach(b),this.h()},h(){i(e,"class","badge badge-sm badge-ornate indicator-item animate-pulse")},m(s,o){L(s,e,o),p(e,a)},p(s,o){o&1&&t!==(t=s[0].length+"")&&G(a,t)},d(s){s&&b(e)}}}function Ve(l){let e,t=l[0].length+"",a;return{c(){e=y("span"),a=H(t),this.h()},l(s){e=w(s,"SPAN",{class:!0});var o=E(e);a=B(o,t),o.forEach(b),this.h()},h(){i(e,"class","badge badge-ornate")},m(s,o){L(s,e,o),p(e,a)},p(s,o){o&1&&t!==(t=s[0].length+"")&&G(a,t)},d(s){s&&b(e)}}}function st(l){let e,t=te(l[0]),a=[];for(let s=0;s<t.length;s+=1)a[s]=xe(Ee(l,t,s));return{c(){e=y("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=w(s,"DIV",{class:!0});var o=E(e);for(let n=0;n<a.length;n+=1)a[n].l(o);o.forEach(b),this.h()},h(){i(e,"class","space-y-3 max-h-96 overflow-y-auto pr-2 svelte-1sirqyk")},m(s,o){L(s,e,o);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,null)},p(s,o){if(o&7){t=te(s[0]);let n;for(n=0;n<t.length;n+=1){const _=Ee(s,t,n);a[n]?a[n].p(_,o):(a[n]=xe(_),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=t.length}},d(s){s&&b(e),Ne(a,s)}}}function nt(l){let e,t='<div class="text-4xl mb-2 opacity-50">üì≠</div> <p class="text-base-content/70 font-body italic">No hay invitaciones pendientes</p>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(a){e=w(a,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-whrkyc"&&(e.innerHTML=t),this.h()},h(){i(e,"class","text-center py-6")},m(a,s){L(a,e,s)},p:R,d(a){a&&b(e)}}}function xe(l){let e,t,a,s,o,n,_,f,v,g,x=l[7].fromName+"",I,C,V,T="te invita a la campa√±a",m,u,c=l[7].campaignName+"",d,h,r,k,O,S,N,U,K,Q,de;function ze(){return l[4](l[7])}function Re(){return l[5](l[7])}return{c(){e=y("div"),t=y("div"),a=y("div"),s=y("div"),o=y("img"),f=M(),v=y("div"),g=y("p"),I=H(x),C=M(),V=y("p"),V.textContent=T,m=M(),u=y("p"),d=H(c),h=M(),r=y("div"),k=y("button"),O=H("‚öîÔ∏è Unirme"),S=M(),N=y("button"),U=H("‚úï Declinar"),K=M(),this.h()},l(F){e=w(F,"DIV",{class:!0});var j=E(e);t=w(j,"DIV",{class:!0});var Y=E(t);a=w(Y,"DIV",{class:!0});var fe=E(a);s=w(fe,"DIV",{class:!0});var ue=E(s);o=w(ue,"IMG",{src:!0,alt:!0}),ue.forEach(b),fe.forEach(b),f=D(Y),v=w(Y,"DIV",{class:!0});var q=E(v);g=w(q,"P",{class:!0});var he=E(g);I=B(he,x),he.forEach(b),C=D(q),V=w(q,"P",{class:!0,"data-svelte-h":!0}),J(V)!=="svelte-11uyp94"&&(V.textContent=T),m=D(q),u=w(q,"P",{class:!0});var me=E(u);d=B(me,c),me.forEach(b),h=D(q),r=w(q,"DIV",{class:!0});var Z=E(r);k=w(Z,"BUTTON",{class:!0});var pe=E(k);O=B(pe,"‚öîÔ∏è Unirme"),pe.forEach(b),S=D(Z),N=w(Z,"BUTTON",{class:!0});var ve=E(N);U=B(ve,"‚úï Declinar"),ve.forEach(b),Z.forEach(b),q.forEach(b),Y.forEach(b),K=D(j),j.forEach(b),this.h()},h(){ee(o.src,n=l[7].fromPhoto)||i(o,"src",n),i(o,"alt",_=l[7].fromName),i(s,"class","w-12 rounded-full ring-2 ring-secondary ring-offset-2 ring-offset-[#f4e4c1]"),i(a,"class","avatar"),i(g,"class","font-bold text-sm text-neutral font-body"),i(V,"class","text-xs text-neutral/60 font-body italic"),i(u,"class","font-semibold text-primary font-medieval mt-1"),i(k,"class","btn btn-success btn-xs text-white font-medieval"),k.disabled=l[1],i(N,"class","btn btn-error btn-xs text-white font-medieval"),N.disabled=l[1],i(r,"class","flex gap-2 mt-3"),i(v,"class","flex-1 min-w-0"),i(t,"class","flex items-start gap-3"),i(e,"class","bg-gradient-to-br from-[#f4e4c1] to-[#e8d4a8] rounded-lg p-4 border-2 border-primary/30 shadow-md")},m(F,j){L(F,e,j),p(e,t),p(t,a),p(a,s),p(s,o),p(t,f),p(t,v),p(v,g),p(g,I),p(v,C),p(v,V),p(v,m),p(v,u),p(u,d),p(v,h),p(v,r),p(r,k),p(k,O),p(r,S),p(r,N),p(N,U),p(e,K),Q||(de=[A(k,"click",ze),A(N,"click",Re)],Q=!0)},p(F,j){l=F,j&1&&!ee(o.src,n=l[7].fromPhoto)&&i(o,"src",n),j&1&&_!==(_=l[7].fromName)&&i(o,"alt",_),j&1&&x!==(x=l[7].fromName+"")&&G(I,x),j&1&&c!==(c=l[7].campaignName+"")&&G(d,c),j&2&&(k.disabled=l[1]),j&2&&(N.disabled=l[1])},d(F){F&&b(e),Q=!1,Le(de)}}}function it(l){let e,t,a,s,o,n,_,f,v,g,x,I,C="‚öîÔ∏è",V,T=l[0].length>0&&Te(l),m=l[0].length>0&&Ve(l);function u(h,r){return h[0].length===0?nt:st}let c=u(l),d=c(l);return{c(){e=y("div"),t=y("label"),a=$("svg"),s=$("path"),o=M(),T&&T.c(),n=M(),_=y("div"),f=y("div"),v=y("h3"),g=H(`üìú Invitaciones\r
        `),m&&m.c(),x=M(),I=y("div"),I.textContent=C,V=M(),d.c(),this.h()},l(h){e=w(h,"DIV",{class:!0});var r=E(e);t=w(r,"LABEL",{tabindex:!0,class:!0});var k=E(t);a=X(k,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var O=E(a);s=X(O,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),E(s).forEach(b),O.forEach(b),o=D(k),T&&T.l(k),k.forEach(b),n=D(r),_=w(r,"DIV",{tabindex:!0,class:!0});var S=E(_);f=w(S,"DIV",{class:!0});var N=E(f);v=w(N,"H3",{class:!0});var U=E(v);g=B(U,`üìú Invitaciones\r
        `),m&&m.l(U),U.forEach(b),x=D(N),I=w(N,"DIV",{class:!0,"data-svelte-h":!0}),J(I)!=="svelte-1gecnns"&&(I.textContent=C),V=D(N),d.l(N),N.forEach(b),S.forEach(b),r.forEach(b),this.h()},h(){i(s,"stroke-linecap","round"),i(s,"stroke-linejoin","round"),i(s,"stroke-width","2"),i(s,"d","M3 19v-8.93a2 2 0 01.89-1.664l7-4.666a2 2 0 012.22 0l7 4.666A2 2 0 0121 10.07V19M3 19a2 2 0 002 2h14a2 2 0 002-2M3 19l6.75-4.5M21 19l-6.75-4.5M3 10l6.75 4.5M21 10l-6.75 4.5m0 0l-1.14.76a2 2 0 01-2.22 0l-1.14-.76"),i(a,"xmlns","http://www.w3.org/2000/svg"),i(a,"class","h-6 w-6 text-secondary"),i(a,"fill","none"),i(a,"viewBox","0 0 24 24"),i(a,"stroke","currentColor"),i(t,"tabindex","0"),i(t,"class","btn btn-ghost btn-circle indicator ring-2 ring-secondary/50 hover:ring-secondary transition-all"),i(v,"class","card-title text-xl font-medieval text-secondary"),i(I,"class","divider my-1 opacity-30"),i(f,"class","card-body"),i(_,"tabindex","0"),i(_,"class","mt-3 z-[1] card card-compact dropdown-content w-96 max-w-[73vw] sm:max-w-sm md:max-w-md shadow-2xl bg-neutral border-2 border-secondary"),i(e,"class","dropdown dropdown-end")},m(h,r){L(h,e,r),p(e,t),p(t,a),p(a,s),p(t,o),T&&T.m(t,null),p(e,n),p(e,_),p(_,f),p(f,v),p(v,g),m&&m.m(v,null),p(f,x),p(f,I),p(f,V),d.m(f,null)},p(h,[r]){h[0].length>0?T?T.p(h,r):(T=Te(h),T.c(),T.m(t,null)):T&&(T.d(1),T=null),h[0].length>0?m?m.p(h,r):(m=Ve(h),m.c(),m.m(v,null)):m&&(m.d(1),m=null),c===(c=u(h))&&d?d.p(h,r):(d.d(1),d=c(h),d&&(d.c(),d.m(f,null)))},i:R,o:R,d(h){h&&b(e),T&&T.d(),m&&m.d(),d.d()}}}function rt(l,e,t){let{onInvitationResponded:a=()=>{}}=e,s=[],o=!1;Se(()=>{n();const g=setInterval(n,3e4);return()=>clearInterval(g)});async function n(){try{t(0,s=await ke.getMyInvitations())}catch(g){console.error("Error loading invitations:",g)}}async function _(g,x){try{t(1,o=!0),await ke.respondToInvitation(g,x),await n(),a()}catch(I){alert(I.message)}finally{t(1,o=!1)}}const f=g=>_(g.id,"accept"),v=g=>_(g.id,"reject");return l.$$set=g=>{"onInvitationResponded"in g&&t(3,a=g.onInvitationResponded)},[s,o,_,a,f,v]}class ot extends re{constructor(e){super(),oe(this,e,rt,it,ce,{onInvitationResponded:3})}}function ct(l){let e,t,a,s,o,n,_,f,v,g,x,I,C,V,T,m=l[3]&&l[4]&&Ce(l),u=l[3]&&De(l),c=l[7]&&!l[2]&&!l[1]&&Me(l);const d=l[12].default,h=Ae(d,l,l[11],null);return{c(){m&&m.c(),e=M(),t=y("div"),a=y("div"),u&&u.c(),s=M(),o=y("h1"),n=H(l[6]),_=M(),f=y("div"),v=y("h1"),g=H(l[6]),x=M(),I=y("div"),c&&c.c(),C=M(),V=y("div"),h&&h.c(),this.h()},l(r){m&&m.l(r),e=D(r),t=w(r,"DIV",{class:!0});var k=E(t);a=w(k,"DIV",{class:!0});var O=E(a);u&&u.l(O),s=D(O),o=w(O,"H1",{class:!0});var S=E(o);n=B(S,l[6]),S.forEach(b),O.forEach(b),_=D(k),f=w(k,"DIV",{class:!0});var N=E(f);v=w(N,"H1",{class:!0});var U=E(v);g=B(U,l[6]),U.forEach(b),N.forEach(b),x=D(k),I=w(k,"DIV",{class:!0});var K=E(I);c&&c.l(K),K.forEach(b),k.forEach(b),C=D(r),V=w(r,"DIV",{class:!0});var Q=E(V);h&&h.l(Q),Q.forEach(b),this.h()},h(){i(o,"class","lg:hidden btn btn-ghost text-base sm:text-lg font-medieval text-secondary hover:text-accent sm:max-w-xs"),i(a,"class","flex items-center gap-2 flex-1 min-w-0"),i(v,"class","btn btn-ghost text-xl font-medieval text-secondary hover:text-accent max-w-md"),i(f,"class","hidden lg:flex flex-1 justify-center"),i(I,"class","flex items-center gap-2 sm:gap-3 md:gap-4 flex-1 justify-end"),i(t,"class","navbar-medieval sticky top-0 z-30 w-full flex items-center justify-between px-3 sm:px-4 lg:px-6 h-14 sm:h-16 lg:h-20 safe-left safe-right py-8 svelte-1b5zlnt"),i(V,"class","relative min-h-[calc(100vh-3.5rem)] sm:min-h-[calc(100vh-4rem)] lg:min-h-[calc(100vh-5rem)]")},m(r,k){m&&m.m(r,k),L(r,e,k),L(r,t,k),p(t,a),u&&u.m(a,null),p(a,s),p(a,o),p(o,n),p(t,_),p(t,f),p(f,v),p(v,g),p(t,x),p(t,I),c&&c.m(I,null),L(r,C,k),L(r,V,k),h&&h.m(V,null),T=!0},p(r,k){r[3]&&r[4]?m?(m.p(r,k),k&24&&P(m,1)):(m=Ce(r),m.c(),P(m,1),m.m(e.parentNode,e)):m&&(ne(),z(m,1,1,()=>{m=null}),se()),r[3]?u?u.p(r,k):(u=De(r),u.c(),u.m(a,s)):u&&(u.d(1),u=null),(!T||k&64)&&G(n,r[6]),(!T||k&64)&&G(g,r[6]),r[7]&&!r[2]&&!r[1]?c?(c.p(r,k),k&134&&P(c,1)):(c=Me(r),c.c(),P(c,1),c.m(I,null)):c&&(ne(),z(c,1,1,()=>{c=null}),se()),h&&h.p&&(!T||k&2048)&&qe(h,d,r,r[11],T?Fe(d,r[11],k,null):Ge(r[11]),null)},i(r){T||(P(m),P(c),P(h,r),T=!0)},o(r){z(m),z(c),z(h,r),T=!1},d(r){r&&(b(e),b(t),b(C),b(V)),m&&m.d(r),u&&u.d(),c&&c.d(),h&&h.d(r)}}}function dt(l){let e,t='<div class="text-4xl sm:text-5xl md:text-6xl">üé≤</div> <span class="loading loading-spinner loading-md sm:loading-lg text-secondary"></span> <p class="font-medieval text-secondary text-sm sm:text-base text-center">Cargando grimorio...</p>';return{c(){e=y("div"),e.innerHTML=t,this.h()},l(a){e=w(a,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-fmyonb"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex flex-col items-center justify-center h-screen gap-4 px-4")},m(a,s){L(a,e,s)},p:R,i:R,o:R,d(a){a&&b(e)}}}function Ce(l){let e,t,a;function s(n){l[13](n)}let o={campaignId:l[4]};return l[0]!==void 0&&(o.isOpen=l[0]),e=new lt({props:o}),Oe.push(()=>Je(e,"isOpen",s)),{c(){He(e.$$.fragment)},l(n){Be(e.$$.fragment,n)},m(n,_){Pe(e,n,_),a=!0},p(n,_){const f={};_&16&&(f.campaignId=n[4]),!t&&_&1&&(t=!0,f.isOpen=n[0],Ke(()=>t=!1)),e.$set(f)},i(n){a||(P(e.$$.fragment,n),a=!0)},o(n){z(e.$$.fragment,n),a=!1},d(n){je(e,n)}}}function De(l){let e,t,a,s,o;return{c(){e=y("button"),t=$("svg"),a=$("path"),this.h()},l(n){e=w(n,"BUTTON",{class:!0,"aria-label":!0,"aria-expanded":!0});var _=E(e);t=X(_,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var f=E(t);a=X(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),E(a).forEach(b),f.forEach(b),_.forEach(b),this.h()},h(){i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"stroke-width","2"),i(a,"d","M4 6h16M4 12h16M4 18h16"),i(t,"xmlns","http://www.w3.org/2000/svg"),i(t,"class","h-5 w-5 sm:h-6 sm:w-6"),i(t,"fill","none"),i(t,"viewBox","0 0 24 24"),i(t,"stroke","currentColor"),i(e,"class","btn btn-ghost btn-sm btn-circle flex-shrink-0 svelte-1b5zlnt"),i(e,"aria-label","Abrir men√∫"),i(e,"aria-expanded",l[0])},m(n,_){L(n,e,_),p(e,t),p(t,a),s||(o=A(e,"click",l[9]),s=!0)},p(n,_){_&1&&i(e,"aria-expanded",n[0])},d(n){n&&b(e),s=!1,o()}}}function Me(l){let e,t,a,s,o,n,_,f,v,g,x,I,C="üö™ Cerrar Sesi√≥n",V,T,m;return e=new ot({props:{onInvitationResponded:ut}}),{c(){He(e.$$.fragment),t=M(),a=y("div"),s=y("label"),o=y("div"),n=y("img"),v=M(),g=y("ul"),x=y("li"),I=y("a"),I.textContent=C,this.h()},l(u){Be(e.$$.fragment,u),t=D(u),a=w(u,"DIV",{class:!0});var c=E(a);s=w(c,"LABEL",{tabindex:!0,class:!0});var d=E(s);o=w(d,"DIV",{class:!0});var h=E(o);n=w(h,"IMG",{src:!0,alt:!0,class:!0}),h.forEach(b),d.forEach(b),v=D(c),g=w(c,"UL",{tabindex:!0,class:!0});var r=E(g);x=w(r,"LI",{});var k=E(x);I=w(k,"A",{class:!0,"data-svelte-h":!0}),J(I)!=="svelte-1942x31"&&(I.textContent=C),k.forEach(b),r.forEach(b),c.forEach(b),this.h()},h(){var u,c;ee(n.src,_=((u=l[7])==null?void 0:u.photoURL)||"")||i(n,"src",_),i(n,"alt",f=((c=l[7])==null?void 0:c.displayName)||"Usuario"),i(n,"class","object-cover"),i(o,"class","w-8 h-8 sm:w-9 sm:h-9 lg:w-10 lg:h-10 rounded-full"),i(s,"tabindex","0"),i(s,"class","btn btn-ghost btn-circle avatar ring-2 ring-secondary ring-offset-2 ring-offset-neutral svelte-1b5zlnt"),i(I,"class","text-base-content hover:text-secondary font-medieval text-sm sm:text-base"),i(g,"tabindex","0"),i(g,"class","mt-3 z-[50] p-2 shadow-xl menu menu-sm dropdown-content bg-neutral rounded-box w-48 sm:w-52 border-2 border-secondary svelte-1b5zlnt"),i(a,"class","dropdown dropdown-end")},m(u,c){Pe(e,u,c),L(u,t,c),L(u,a,c),p(a,s),p(s,o),p(o,n),p(a,v),p(a,g),p(g,x),p(x,I),V=!0,T||(m=A(I,"click",l[8]),T=!0)},p(u,c){var d,h;(!V||c&128&&!ee(n.src,_=((d=u[7])==null?void 0:d.photoURL)||""))&&i(n,"src",_),(!V||c&128&&f!==(f=((h=u[7])==null?void 0:h.displayName)||"Usuario"))&&i(n,"alt",f)},i(u){V||(P(e.$$.fragment,u),V=!0)},o(u){z(e.$$.fragment,u),V=!1},d(u){u&&(b(t),b(a)),je(e,u),T=!1,m()}}}function ft(l){let e,t,a,s;const o=[dt,ct],n=[];function _(f,v){return f[5]?0:1}return t=_(l),a=n[t]=o[t](l),{c(){e=y("div"),a.c(),this.h()},l(f){e=w(f,"DIV",{class:!0,"data-theme":!0});var v=E(e);a.l(v),v.forEach(b),this.h()},h(){i(e,"class","min-h-screen relative safe-top safe-bottom"),i(e,"data-theme","dnd")},m(f,v){L(f,e,v),n[t].m(e,null),s=!0},p(f,[v]){let g=t;t=_(f),t===g?n[t].p(f,v):(ne(),z(n[g],1,1,()=>{n[g]=null}),se(),a=n[t],a?a.p(f,v):(a=n[t]=o[t](f),a.c()),P(a,1),a.m(e,null))},i(f){s||(P(a),s=!0)},o(f){z(a),s=!1},d(f){f&&b(e),n[t].d()}}}function ut(){location.reload()}function ht(l,e,t){let a,s,o,n,_,f,v,g;W(l,Ue,u=>t(10,_=u)),W(l,ge,u=>t(5,f=u)),W(l,Xe,u=>t(6,v=u)),W(l,_e,u=>t(7,g=u));let{$$slots:x={},$$scope:I}=e,C=!1;Se(()=>{const u=Qe(ae,async d=>{if(_e.set(d),d){const h=await d.getIdToken();be.set(h),Ze()}else be.set(null),le();ge.set(!1),!d&&_.url.pathname!=="/login"&&_.url.pathname!=="/"&&ie("/login")}),c=async()=>{!document.hidden&&ae.currentUser&&(console.log("üîÑ Ventana enfocada, verificando token..."),await Ye())};return document.addEventListener("visibilitychange",c),()=>{u(),le(),document.removeEventListener("visibilitychange",c)}});function V(){le(),We(ae).then(()=>ie("/login"))}function T(){t(0,C=!C)}function m(u){C=u,t(0,C)}return l.$$set=u=>{"$$scope"in u&&t(11,I=u.$$scope)},l.$$.update=()=>{l.$$.dirty&1024&&t(4,a=_.params.id),l.$$.dirty&1024&&t(3,s=_.url.pathname.startsWith("/campaigns/")),l.$$.dirty&1024&&t(2,o=_.url.pathname==="/login"),l.$$.dirty&1024&&t(1,n=_.url.pathname==="/")},[C,n,o,s,a,f,v,g,V,T,_,I,x,m]}class yt extends re{constructor(e){super(),oe(this,e,ht,ft,ce,{})}}export{yt as component,wt as universal};
