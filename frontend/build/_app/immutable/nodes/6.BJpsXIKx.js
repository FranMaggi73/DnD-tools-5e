import{S as Gt,i as Qt,s as Rt,n as Ke,d,r as lt,o as Le,a as Z,b as n,l as J,c as i,e as c,f as b,h as z,g,p as se,u as nt,j as u,k as x,t as ae,m as it,q as Xt,A as Jt,x as Ye,v as Ie,B as Je,C as qt,D as rt,E as ct,F as st}from"../chunks/Ci_mYp0l.js";import{h as Kt,a as at,e as Ue}from"../chunks/DDGZZkHX.js";import"../chunks/IHki7fMi.js";import{p as Wt}from"../chunks/DPbeY7Ol.js";import{u as Yt}from"../chunks/DUZazcRU.js";import{g as Zt,c as $t,q as ut,w as tt,o as dt}from"../chunks/eN7n43qG.js";import{c as el}from"../chunks/Bhgkhhu0.js";import{a as ft,b as ht,c as ot,d as tl}from"../chunks/BvvFRrhp.js";function bt(s,e,t){const l=s.slice();return l[68]=e[t],l}function pt(s,e,t){const l=s.slice();return l[71]=e[t],l}function _t(s,e,t){const l=s.slice();return l[68]=e[t],l}function mt(s,e,t){const l=s.slice();return l[71]=e[t],l}function vt(s,e,t){const l=s.slice();return l[78]=e[t],l}function gt(s,e,t){const l=s.slice();return l[68]=e[t],l}function xt(s,e,t){const l=s.slice();return l[71]=e[t],l}function Et(s){let e,t,l,a,o,r="‚úï",h,p;return{c(){e=u("div"),t=u("span"),l=ae(s[9]),a=x(),o=u("button"),o.textContent=r,this.h()},l(_){e=c(_,"DIV",{class:!0});var m=b(e);t=c(m,"SPAN",{});var T=b(t);l=se(T,s[9]),T.forEach(d),a=g(m),o=c(m,"BUTTON",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-4tcifc"&&(o.textContent=r),m.forEach(d),this.h()},h(){i(o,"class","btn btn-sm"),i(e,"class","alert alert-error mb-6")},m(_,m){Z(_,e,m),n(e,t),n(t,l),n(e,a),n(e,o),h||(p=J(o,"click",s[32]),h=!0)},p(_,m){m[0]&512&&Le(l,_[9])},d(_){_&&d(e),h=!1,p()}}}function ll(s){let e,t,l,a,o='<span class="label-text font-medieval text-neutral">üîç Buscar</span>',r,h,p,_,m,T='<span class="label-text font-medieval text-neutral">Categor√≠a</span>',I,v,j,N="Todas",le,F,ie,U='<span class="label-text font-medieval text-neutral">Tipo</span>',$,O,K,C="Todas",D,Te="Personales",A,H="Compartidas",ce,W,ee,L=s[7].length+"",k,Y,ne=s[1].length+"",S,ue,xe,Ee,de,te,De=Ue(s[17]),M=[];for(let w=0;w<De.length;w+=1)M[w]=kt(xt(s,De,w));function Me(w,oe){return w[7].length===0?nl:al}let we=Me(s),me=we(s);return{c(){e=u("div"),t=u("div"),l=u("div"),a=u("label"),a.innerHTML=o,r=x(),h=u("input"),p=x(),_=u("div"),m=u("label"),m.innerHTML=T,I=x(),v=u("select"),j=u("option"),j.textContent=N;for(let w=0;w<M.length;w+=1)M[w].c();le=x(),F=u("div"),ie=u("label"),ie.innerHTML=U,$=x(),O=u("select"),K=u("option"),K.textContent=C,D=u("option"),D.textContent=Te,A=u("option"),A.textContent=H,ce=x(),W=u("div"),ee=ae("Mostrando "),k=ae(L),Y=ae(" de "),S=ae(ne),ue=ae(" notas"),xe=x(),me.c(),Ee=nt(),this.h()},l(w){e=c(w,"DIV",{class:!0});var oe=b(e);t=c(oe,"DIV",{class:!0});var B=b(t);l=c(B,"DIV",{class:!0});var fe=b(l);a=c(fe,"LABEL",{class:!0,"data-svelte-h":!0}),z(a)!=="svelte-1hur2gf"&&(a.innerHTML=o),r=g(fe),h=c(fe,"INPUT",{type:!0,placeholder:!0,class:!0}),fe.forEach(d),p=g(B),_=c(B,"DIV",{class:!0});var He=b(_);m=c(He,"LABEL",{class:!0,"data-svelte-h":!0}),z(m)!=="svelte-1py2g6g"&&(m.innerHTML=T),I=g(He),v=c(He,"SELECT",{class:!0});var ke=b(v);j=c(ke,"OPTION",{"data-svelte-h":!0}),z(j)!=="svelte-v50ofg"&&(j.textContent=N);for(let ye=0;ye<M.length;ye+=1)M[ye].l(ke);ke.forEach(d),He.forEach(d),le=g(B),F=c(B,"DIV",{class:!0});var P=b(F);ie=c(P,"LABEL",{class:!0,"data-svelte-h":!0}),z(ie)!=="svelte-t56wfd"&&(ie.innerHTML=U),$=g(P),O=c(P,"SELECT",{class:!0});var R=b(O);K=c(R,"OPTION",{"data-svelte-h":!0}),z(K)!=="svelte-v50ofg"&&(K.textContent=C),D=c(R,"OPTION",{"data-svelte-h":!0}),z(D)!=="svelte-1jiqopi"&&(D.textContent=Te),A=c(R,"OPTION",{"data-svelte-h":!0}),z(A)!=="svelte-g8zmii"&&(A.textContent=H),R.forEach(d),P.forEach(d),B.forEach(d),ce=g(oe),W=c(oe,"DIV",{class:!0});var Be=b(W);ee=se(Be,"Mostrando "),k=se(Be,L),Y=se(Be," de "),S=se(Be,ne),ue=se(Be," notas"),Be.forEach(d),oe.forEach(d),xe=g(w),me.l(w),Ee=nt(),this.h()},h(){i(a,"class","label"),i(h,"type","text"),i(h,"placeholder","T√≠tulo, contenido o etiquetas..."),i(h,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),i(l,"class","form-control"),i(m,"class","label"),j.__value="all",Ie(j,j.__value),i(v,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50"),s[3]===void 0&&rt(()=>s[34].call(v)),i(_,"class","form-control"),i(ie,"class","label"),K.__value="all",Ie(K,K.__value),D.__value="personal",Ie(D,D.__value),A.__value="shared",Ie(A,A.__value),i(O,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50"),s[4]===void 0&&rt(()=>s[35].call(O)),i(F,"class","form-control"),i(t,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),i(W,"class","mt-3 text-sm text-neutral/60 font-body text-center"),i(e,"class","card-parchment p-4 mb-6")},m(w,oe){Z(w,e,oe),n(e,t),n(t,l),n(l,a),n(l,r),n(l,h),Ie(h,s[2]),n(t,p),n(t,_),n(_,m),n(_,I),n(_,v),n(v,j);for(let B=0;B<M.length;B+=1)M[B]&&M[B].m(v,null);Je(v,s[3],!0),n(t,le),n(t,F),n(F,ie),n(F,$),n(F,O),n(O,K),n(O,D),n(O,A),Je(O,s[4],!0),n(e,ce),n(e,W),n(W,ee),n(W,k),n(W,Y),n(W,S),n(W,ue),Z(w,xe,oe),me.m(w,oe),Z(w,Ee,oe),de||(te=[J(h,"input",s[33]),J(v,"change",s[34]),J(O,"change",s[35])],de=!0)},p(w,oe){if(oe[0]&4&&h.value!==w[2]&&Ie(h,w[2]),oe[0]&131072){De=Ue(w[17]);let B;for(B=0;B<De.length;B+=1){const fe=xt(w,De,B);M[B]?M[B].p(fe,oe):(M[B]=kt(fe),M[B].c(),M[B].m(v,null))}for(;B<M.length;B+=1)M[B].d(1);M.length=De.length}oe[0]&131080&&Je(v,w[3]),oe[0]&16&&Je(O,w[4]),oe[0]&128&&L!==(L=w[7].length+"")&&Le(k,L),oe[0]&2&&ne!==(ne=w[1].length+"")&&Le(S,ne),we===(we=Me(w))&&me?me.p(w,oe):(me.d(1),me=we(w),me&&(me.c(),me.m(Ee.parentNode,Ee)))},d(w){w&&(d(e),d(xe),d(Ee)),Ye(M,w),me.d(w),de=!1,lt(te)}}}function sl(s){let e,t='<span class="loading loading-spinner loading-lg text-secondary"></span>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-cr7jii"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex justify-center py-20")},m(l,a){Z(l,e,a)},p:Ke,d(l){l&&d(e)}}}function kt(s){let e,t=s[71].label+"",l;return{c(){e=u("option"),l=ae(t),this.h()},l(a){e=c(a,"OPTION",{});var o=b(e);l=se(o,t),o.forEach(d),this.h()},h(){e.__value=s[71].value,Ie(e,e.__value)},m(a,o){Z(a,e,o),n(e,l)},p:Ke,d(a){a&&d(e)}}}function al(s){let e,t=Ue(s[7]),l=[];for(let a=0;a<t.length;a+=1)l[a]=Lt(vt(s,t,a));return{c(){e=u("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=c(a,"DIV",{class:!0});var o=b(e);for(let r=0;r<l.length;r+=1)l[r].l(o);o.forEach(d),this.h()},h(){i(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(a,o){Z(a,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(a,o){if(o[0]&101187776){t=Ue(a[7]);let r;for(r=0;r<t.length;r+=1){const h=vt(a,t,r);l[r]?l[r].p(h,o):(l[r]=Lt(h),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(a){a&&d(e),Ye(l,a)}}}function nl(s){let e,t,l="üìù",a,o,r=s[1].length===0?"Sin notas a√∫n":"No se encontraron notas",h,p,_,m=s[1].length===0?"Crea tu primera nota para comenzar":"Intenta ajustar los filtros de b√∫squeda",T;return{c(){e=u("div"),t=u("div"),t.textContent=l,a=x(),o=u("h3"),h=ae(r),p=x(),_=u("p"),T=ae(m),this.h()},l(I){e=c(I,"DIV",{class:!0});var v=b(e);t=c(v,"DIV",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-8iyxcx"&&(t.textContent=l),a=g(v),o=c(v,"H3",{class:!0});var j=b(o);h=se(j,r),j.forEach(d),p=g(v),_=c(v,"P",{class:!0});var N=b(_);T=se(N,m),N.forEach(d),v.forEach(d),this.h()},h(){i(t,"class","text-6xl mb-4"),i(o,"class","text-2xl font-medieval text-neutral mb-2"),i(_,"class","text-neutral/70 font-body"),i(e,"class","card-parchment p-12 text-center")},m(I,v){Z(I,e,v),n(e,t),n(e,a),n(e,o),n(o,h),n(e,p),n(e,_),n(_,T)},p(I,v){v[0]&2&&r!==(r=I[1].length===0?"Sin notas a√∫n":"No se encontraron notas")&&Le(h,r),v[0]&2&&m!==(m=I[1].length===0?"Crea tu primera nota para comenzar":"Intenta ajustar los filtros de b√∫squeda")&&Le(T,m)},d(I){I&&d(e)}}}function rl(s){let e,t="üîí Personal";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-mj56dj"&&(e.textContent=t),this.h()},h(){i(e,"class","badge badge-info badge-sm")},m(l,a){Z(l,e,a)},d(l){l&&d(e)}}}function ol(s){let e,t="üåê Compartida";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-gqocex"&&(e.textContent=t),this.h()},h(){i(e,"class","badge badge-success badge-sm")},m(l,a){Z(l,e,a)},d(l){l&&d(e)}}}function yt(s){let e,t="üëë DM";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-bk3zvn"&&(e.textContent=t),this.h()},h(){i(e,"class","badge badge-warning badge-sm")},m(l,a){Z(l,e,a)},d(l){l&&d(e)}}}function Ct(s){let e,t,l=Ue(s[78].tags.slice(0,3)),a=[];for(let r=0;r<l.length;r+=1)a[r]=Tt(gt(s,l,r));let o=s[78].tags.length>3&&It(s);return{c(){e=u("div");for(let r=0;r<a.length;r+=1)a[r].c();t=x(),o&&o.c(),this.h()},l(r){e=c(r,"DIV",{class:!0});var h=b(e);for(let p=0;p<a.length;p+=1)a[p].l(h);t=g(h),o&&o.l(h),h.forEach(d),this.h()},h(){i(e,"class","flex flex-wrap gap-1 mb-3")},m(r,h){Z(r,e,h);for(let p=0;p<a.length;p+=1)a[p]&&a[p].m(e,null);n(e,t),o&&o.m(e,null)},p(r,h){if(h[0]&128){l=Ue(r[78].tags.slice(0,3));let p;for(p=0;p<l.length;p+=1){const _=gt(r,l,p);a[p]?a[p].p(_,h):(a[p]=Tt(_),a[p].c(),a[p].m(e,t))}for(;p<a.length;p+=1)a[p].d(1);a.length=l.length}r[78].tags.length>3?o?o.p(r,h):(o=It(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(r){r&&d(e),Ye(a,r),o&&o.d()}}}function Tt(s){let e,t=s[68]+"",l;return{c(){e=u("div"),l=ae(t),this.h()},l(a){e=c(a,"DIV",{class:!0});var o=b(e);l=se(o,t),o.forEach(d),this.h()},h(){i(e,"class","badge badge-outline badge-xs")},m(a,o){Z(a,e,o),n(e,l)},p(a,o){o[0]&128&&t!==(t=a[68]+"")&&Le(l,t)},d(a){a&&d(e)}}}function It(s){let e,t,l=s[78].tags.length-3+"",a;return{c(){e=u("div"),t=ae("+"),a=ae(l),this.h()},l(o){e=c(o,"DIV",{class:!0});var r=b(e);t=se(r,"+"),a=se(r,l),r.forEach(d),this.h()},h(){i(e,"class","badge badge-outline badge-xs")},m(o,r){Z(o,e,r),n(e,t),n(e,a)},p(o,r){r[0]&128&&l!==(l=o[78].tags.length-3+"")&&Le(a,l)},d(o){o&&d(e)}}}function Lt(s){var Be;let e,t,l,a,o,r=s[26](s[78].category)+"",h,p,_,m=s[78].title+"",T,I,v,j,N='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',le,F,ie,U,$="‚úèÔ∏è Editar",O,K,C,D="üóëÔ∏è Eliminar",Te,A,H,ce,W,ee=(s[78].content||"Sin contenido")+"",L,k,Y,ne,S,ue,xe=s[78].authorName+"",Ee,de,te,De,M=zt(s[78].updatedAt)+"",Me,we,me,w;function oe(){return s[36](s[78])}function B(){return s[37](s[78])}function fe(ye,ve){return ye[78].isShared?ol:rl}let He=fe(s),ke=He(s),P=s[78].authorId!==((Be=s[6])==null?void 0:Be.uid)&&yt(),R=s[78].tags&&s[78].tags.length>0&&Ct(s);return{c(){e=u("div"),t=u("div"),l=u("div"),a=u("div"),o=u("span"),h=ae(r),p=x(),_=u("h3"),T=ae(m),I=x(),v=u("div"),j=u("label"),j.innerHTML=N,le=x(),F=u("ul"),ie=u("li"),U=u("a"),U.textContent=$,O=x(),K=u("li"),C=u("a"),C.textContent=D,Te=x(),A=u("div"),ke.c(),H=x(),P&&P.c(),ce=x(),W=u("div"),L=ae(ee),k=x(),R&&R.c(),Y=x(),ne=u("div"),S=u("div"),ue=ae("‚úçÔ∏è "),Ee=ae(xe),de=x(),te=u("div"),De=ae("üïê "),Me=ae(M),we=x(),this.h()},l(ye){e=c(ye,"DIV",{class:!0});var ve=b(e);t=c(ve,"DIV",{class:!0});var Ce=b(t);l=c(Ce,"DIV",{class:!0});var qe=b(l);a=c(qe,"DIV",{class:!0});var q=b(a);o=c(q,"SPAN",{class:!0});var Se=b(o);h=se(Se,r),Se.forEach(d),p=g(q),_=c(q,"H3",{class:!0});var G=b(_);T=se(G,m),G.forEach(d),q.forEach(d),I=g(qe),v=c(qe,"DIV",{class:!0});var Q=b(v);j=c(Q,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),z(j)!=="svelte-1dz1xx4"&&(j.innerHTML=N),le=g(Q),F=c(Q,"UL",{tabindex:!0,class:!0});var pe=b(F);ie=c(pe,"LI",{});var _e=b(ie);U=c(_e,"A",{class:!0,"data-svelte-h":!0}),z(U)!=="svelte-yi40jw"&&(U.textContent=$),_e.forEach(d),O=g(pe),K=c(pe,"LI",{});var re=b(K);C=c(re,"A",{class:!0,"data-svelte-h":!0}),z(C)!=="svelte-putp47"&&(C.textContent=D),re.forEach(d),pe.forEach(d),Q.forEach(d),qe.forEach(d),Te=g(Ce),A=c(Ce,"DIV",{class:!0});var E=b(A);ke.l(E),H=g(E),P&&P.l(E),E.forEach(d),ce=g(Ce),W=c(Ce,"DIV",{class:!0});var be=b(W);L=se(be,ee),be.forEach(d),k=g(Ce),R&&R.l(Ce),Y=g(Ce),ne=c(Ce,"DIV",{class:!0});var X=b(ne);S=c(X,"DIV",{});var he=b(S);ue=se(he,"‚úçÔ∏è "),Ee=se(he,xe),he.forEach(d),de=g(X),te=c(X,"DIV",{});var y=b(te);De=se(y,"üïê "),Me=se(y,M),y.forEach(d),X.forEach(d),Ce.forEach(d),we=g(ve),ve.forEach(d),this.h()},h(){i(o,"class","text-2xl"),i(_,"class","font-medieval text-lg text-neutral font-bold truncate"),i(a,"class","flex items-center gap-2 flex-1 min-w-0"),i(j,"tabindex","0"),i(j,"class","btn btn-ghost btn-xs btn-circle"),i(U,"class","text-secondary"),i(C,"class","text-error"),i(F,"tabindex","0"),i(F,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-40 border-2 border-secondary"),i(v,"class","dropdown dropdown-end flex-shrink-0"),i(l,"class","flex items-start justify-between mb-2"),i(A,"class","flex flex-wrap gap-1 mb-3"),i(W,"class","text-sm text-neutral/80 font-body mb-3 line-clamp-3 svelte-1vnfw7c"),i(ne,"class","text-xs text-neutral/60 font-body"),i(t,"class","card-body p-4"),i(e,"class","card-parchment corner-ornament hover:shadow-xl transition-all")},m(ye,ve){Z(ye,e,ve),n(e,t),n(t,l),n(l,a),n(a,o),n(o,h),n(a,p),n(a,_),n(_,T),n(l,I),n(l,v),n(v,j),n(v,le),n(v,F),n(F,ie),n(ie,U),n(F,O),n(F,K),n(K,C),n(t,Te),n(t,A),ke.m(A,null),n(A,H),P&&P.m(A,null),n(t,ce),n(t,W),n(W,L),n(t,k),R&&R.m(t,null),n(t,Y),n(t,ne),n(ne,S),n(S,ue),n(S,Ee),n(ne,de),n(ne,te),n(te,De),n(te,Me),n(e,we),me||(w=[J(U,"click",oe),J(C,"click",B)],me=!0)},p(ye,ve){var Ce;s=ye,ve[0]&128&&r!==(r=s[26](s[78].category)+"")&&Le(h,r),ve[0]&128&&m!==(m=s[78].title+"")&&Le(T,m),He!==(He=fe(s))&&(ke.d(1),ke=He(s),ke&&(ke.c(),ke.m(A,H))),s[78].authorId!==((Ce=s[6])==null?void 0:Ce.uid)?P||(P=yt(),P.c(),P.m(A,null)):P&&(P.d(1),P=null),ve[0]&128&&ee!==(ee=(s[78].content||"Sin contenido")+"")&&Le(L,ee),s[78].tags&&s[78].tags.length>0?R?R.p(s,ve):(R=Ct(s),R.c(),R.m(t,Y)):R&&(R.d(1),R=null),ve[0]&128&&xe!==(xe=s[78].authorName+"")&&Le(Ee,xe),ve[0]&128&&M!==(M=zt(s[78].updatedAt)+"")&&Le(Me,M)},d(ye){ye&&d(e),ke.d(),P&&P.d(),R&&R.d(),me=!1,lt(w)}}}function Dt(s){let e,t,l,a,o="‚úï",r,h,p="‚ú® Nueva Nota",_,m,T,I,v='<span class="label-text font-medieval text-neutral text-sm sm:text-base md:text-lg">T√≠tulo <span class="text-error">*</span></span>',j,N,le,F,ie,U,$,O,K='<span class="label-text font-medieval text-neutral text-sm sm:text-base">Categor√≠a</span>',C,D,Te,A,H,ce,W='<span class="label-text font-medieval text-neutral text-sm sm:text-base md:text-lg">Contenido</span>',ee,L,k,Y,ne,S,ue,xe='<span class="label-text font-medieval text-neutral text-sm sm:text-base">üè∑Ô∏è Etiquetas</span>',Ee,de,te,De,M,Me,we,me,w,oe,B,fe,He="Cancelar",ke,P,R,Be="üíæ",ye,ve,Ce,qe,q=s[0].title&&wt(s),Se=Ue(s[17]),G=[];for(let y=0;y<Se.length;y+=1)G[y]=Nt(mt(s,Se,y));let Q=s[14]&&Vt(s);function pe(y,f){return y[0].content?cl:il}let _e=pe(s),re=_e(s),E=s[0].tags&&St(s);function be(y,f){if(y[5].tags.length>0)return dl;if(!y[0].tags)return ul}let X=be(s),he=X&&X(s);return{c(){e=u("div"),t=u("div"),l=u("div"),a=u("button"),a.textContent=o,r=x(),h=u("h3"),h.textContent=p,_=x(),m=u("div"),T=u("div"),I=u("label"),I.innerHTML=v,j=x(),N=u("input"),F=x(),q&&q.c(),ie=x(),U=u("div"),$=u("div"),O=u("label"),O.innerHTML=K,C=x(),D=u("select");for(let y=0;y<G.length;y+=1)G[y].c();Te=x(),Q&&Q.c(),A=x(),H=u("div"),ce=u("label"),ce.innerHTML=W,ee=x(),L=u("textarea"),Y=x(),re.c(),ne=x(),S=u("div"),ue=u("label"),ue.innerHTML=xe,Ee=x(),de=u("div"),te=u("input"),De=x(),M=u("button"),Me=ae("‚ûï"),me=x(),E&&E.c(),w=x(),he&&he.c(),oe=x(),B=u("div"),fe=u("button"),fe.textContent=He,ke=x(),P=u("button"),R=u("span"),R.textContent=Be,ye=ae(`\r
          Crear Nota`),this.h()},l(y){e=c(y,"DIV",{class:!0});var f=b(e);t=c(f,"DIV",{class:!0});var V=b(t);l=c(V,"DIV",{class:!0});var ge=b(l);a=c(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),z(a)!=="svelte-1c9ztm3"&&(a.textContent=o),r=g(ge),h=c(ge,"H3",{class:!0,"data-svelte-h":!0}),z(h)!=="svelte-ykrs25"&&(h.textContent=p),ge.forEach(d),_=g(V),m=c(V,"DIV",{class:!0});var Oe=b(m);T=c(Oe,"DIV",{class:!0});var Ne=b(T);I=c(Ne,"LABEL",{class:!0,"data-svelte-h":!0}),z(I)!=="svelte-12ozdap"&&(I.innerHTML=v),j=g(Ne),N=c(Ne,"INPUT",{type:!0,placeholder:!0,class:!0}),F=g(Ne),q&&q.l(Ne),Ne.forEach(d),ie=g(Oe),U=c(Oe,"DIV",{class:!0});var Ae=b(U);$=c(Ae,"DIV",{class:!0});var Ge=b($);O=c(Ge,"LABEL",{class:!0,"data-svelte-h":!0}),z(O)!=="svelte-185ss55"&&(O.innerHTML=K),C=g(Ge),D=c(Ge,"SELECT",{class:!0});var We=b(D);for(let Re=0;Re<G.length;Re+=1)G[Re].l(We);We.forEach(d),Ge.forEach(d),Te=g(Ae),Q&&Q.l(Ae),Ae.forEach(d),A=g(Oe),H=c(Oe,"DIV",{class:!0});var ze=b(H);ce=c(ze,"LABEL",{class:!0,"data-svelte-h":!0}),z(ce)!=="svelte-q1ywz1"&&(ce.innerHTML=W),ee=g(ze),L=c(ze,"TEXTAREA",{placeholder:!0,class:!0}),b(L).forEach(d),Y=g(ze),re.l(ze),ze.forEach(d),ne=g(Oe),S=c(Oe,"DIV",{class:!0});var Fe=b(S);ue=c(Fe,"LABEL",{class:!0,"data-svelte-h":!0}),z(ue)!=="svelte-1d057c7"&&(ue.innerHTML=xe),Ee=g(Fe),de=c(Fe,"DIV",{class:!0});var Ve=b(de);te=c(Ve,"INPUT",{type:!0,placeholder:!0,class:!0}),De=g(Ve),M=c(Ve,"BUTTON",{type:!0,class:!0});var Qe=b(M);Me=se(Qe,"‚ûï"),Qe.forEach(d),Ve.forEach(d),me=g(Fe),E&&E.l(Fe),w=g(Fe),he&&he.l(Fe),Fe.forEach(d),Oe.forEach(d),oe=g(V),B=c(V,"DIV",{class:!0});var Pe=b(B);fe=c(Pe,"BUTTON",{class:!0,"data-svelte-h":!0}),z(fe)!=="svelte-yqb2f0"&&(fe.textContent=He),ke=g(Pe),P=c(Pe,"BUTTON",{class:!0});var je=b(P);R=c(je,"SPAN",{class:!0,"data-svelte-h":!0}),z(R)!=="svelte-uhsdc3"&&(R.textContent=Be),ye=se(je,`\r
          Crear Nota`),je.forEach(d),Pe.forEach(d),V.forEach(d),f.forEach(d),this.h()},h(){i(a,"class","btn btn-xs sm:btn-sm btn-circle btn-ghost absolute right-2 top-2 hover:bg-error/20"),i(h,"class","font-bold text-xl sm:text-2xl md:text-3xl font-medieval text-neutral text-center pr-8"),i(l,"class","p-3 sm:p-4 md:p-5 border-b-2 border-secondary flex-shrink-0 bg-gradient-to-b from-[#f4e4c1] to-transparent"),i(I,"class","label pb-1"),i(N,"type","text"),i(N,"placeholder","Ej: Encuentro con el drag√≥n rojo"),i(N,"class",le="input input-sm sm:input-md input-bordered bg-[#2d241c] text-base-content border-primary/50 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50 "+(s[0].title?"border-error":"")),N.required=!0,N.autofocus=!0,i(T,"class","form-control"),i(O,"class","label pb-1"),i(D,"class","select select-sm sm:select-md select-bordered bg-[#2d241c] text-base-content border-primary/50 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),s[5].category===void 0&&rt(()=>s[41].call(D)),i($,"class","form-control"),i(U,"class","grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4"),i(ce,"class","label pb-1"),i(L,"placeholder","Escribe aqu√≠ el contenido de tu nota..."),i(L,"class",k="textarea textarea-sm sm:textarea-md textarea-bordered bg-[#2d241c] text-base-content border-primary/50 h-32 sm:h-40 md:h-48 resize-none focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50 "+(s[0].content?"border-error":"")),i(H,"class","form-control"),i(ue,"class","label pb-1"),i(te,"type","text"),i(te,"placeholder","Presiona Enter para agregar..."),i(te,"class","input input-sm sm:input-md input-bordered bg-[#2d241c] text-base-content border-primary/50 flex-1 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),i(M,"type","button"),i(M,"class","btn btn-sm sm:btn-md btn-secondary flex-shrink-0"),M.disabled=we=!s[13].trim(),i(de,"class","flex gap-2"),i(S,"class","form-control"),i(m,"class","flex-1 overflow-y-auto p-3 sm:p-4 md:p-5 space-y-3 sm:space-y-4 custom-scrollbar svelte-1vnfw7c"),i(fe,"class","btn btn-sm sm:btn-md btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval w-full sm:w-auto"),i(R,"class","text-lg sm:text-xl"),i(P,"class","btn btn-sm sm:btn-md btn-dnd w-full sm:w-auto"),P.disabled=ve=!s[15],i(B,"class","flex flex-col-reverse sm:flex-row justify-center gap-2 sm:gap-4 p-3 sm:p-4 md:p-5 border-t-2 border-secondary flex-shrink-0 bg-gradient-to-t from-[#f4e4c1] to-transparent"),i(t,"class","card-parchment border-2 sm:border-4 border-secondary w-[95vw] sm:w-[90vw] md:w-3/4 lg:w-2/3 xl:w-1/2 max-w-3xl relative max-h-[92vh] flex flex-col m-2 sm:m-4"),i(e,"class","modal modal-open z-50")},m(y,f){Z(y,e,f),n(e,t),n(t,l),n(l,a),n(l,r),n(l,h),n(t,_),n(t,m),n(m,T),n(T,I),n(T,j),n(T,N),Ie(N,s[5].title),n(T,F),q&&q.m(T,null),n(m,ie),n(m,U),n(U,$),n($,O),n($,C),n($,D);for(let V=0;V<G.length;V+=1)G[V]&&G[V].m(D,null);Je(D,s[5].category,!0),n(U,Te),Q&&Q.m(U,null),n(m,A),n(m,H),n(H,ce),n(H,ee),n(H,L),Ie(L,s[5].content),n(H,Y),re.m(H,null),n(m,ne),n(m,S),n(S,ue),n(S,Ee),n(S,de),n(de,te),Ie(te,s[13]),n(de,De),n(de,M),n(M,Me),n(S,me),E&&E.m(S,null),n(S,w),he&&he.m(S,null),n(t,oe),n(t,B),n(B,fe),n(B,ke),n(B,P),n(P,R),n(P,ye),N.focus(),Ce||(qe=[J(a,"click",s[38]),J(N,"input",s[39]),J(N,"blur",s[40]),J(D,"change",s[41]),J(L,"input",s[43]),J(L,"blur",s[44]),J(te,"input",s[45]),J(te,"keydown",s[46]),J(M,"click",s[21]),J(fe,"click",s[48]),J(P,"click",s[23]),J(t,"click",qt(s[31])),J(e,"click",s[49])],Ce=!0)},p(y,f){if(f[0]&1&&le!==(le="input input-sm sm:input-md input-bordered bg-[#2d241c] text-base-content border-primary/50 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50 "+(y[0].title?"border-error":""))&&i(N,"class",le),f[0]&131104&&N.value!==y[5].title&&Ie(N,y[5].title),y[0].title?q?q.p(y,f):(q=wt(y),q.c(),q.m(T,null)):q&&(q.d(1),q=null),f[0]&131072){Se=Ue(y[17]);let V;for(V=0;V<Se.length;V+=1){const ge=mt(y,Se,V);G[V]?G[V].p(ge,f):(G[V]=Nt(ge),G[V].c(),G[V].m(D,null))}for(;V<G.length;V+=1)G[V].d(1);G.length=Se.length}f[0]&131104&&Je(D,y[5].category),y[14]?Q?Q.p(y,f):(Q=Vt(y),Q.c(),Q.m(U,null)):Q&&(Q.d(1),Q=null),f[0]&1&&k!==(k="textarea textarea-sm sm:textarea-md textarea-bordered bg-[#2d241c] text-base-content border-primary/50 h-32 sm:h-40 md:h-48 resize-none focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50 "+(y[0].content?"border-error":""))&&i(L,"class",k),f[0]&131104&&Ie(L,y[5].content),_e===(_e=pe(y))&&re?re.p(y,f):(re.d(1),re=_e(y),re&&(re.c(),re.m(H,null))),f[0]&8192&&te.value!==y[13]&&Ie(te,y[13]),f[0]&8192&&we!==(we=!y[13].trim())&&(M.disabled=we),y[0].tags?E?E.p(y,f):(E=St(y),E.c(),E.m(S,w)):E&&(E.d(1),E=null),X===(X=be(y))&&he?he.p(y,f):(he&&he.d(1),he=X&&X(y),he&&(he.c(),he.m(S,null))),f[0]&32768&&ve!==(ve=!y[15])&&(P.disabled=ve)},d(y){y&&d(e),q&&q.d(),Ye(G,y),Q&&Q.d(),re.d(),E&&E.d(),he&&he.d(),Ce=!1,lt(qe)}}}function wt(s){let e,t,l=s[0].title+"",a;return{c(){e=u("label"),t=u("span"),a=ae(l),this.h()},l(o){e=c(o,"LABEL",{class:!0});var r=b(e);t=c(r,"SPAN",{class:!0});var h=b(t);a=se(h,l),h.forEach(d),r.forEach(d),this.h()},h(){i(t,"class","label-text-alt text-error"),i(e,"class","label")},m(o,r){Z(o,e,r),n(e,t),n(t,a)},p(o,r){r[0]&1&&l!==(l=o[0].title+"")&&Le(a,l)},d(o){o&&d(e)}}}function Nt(s){let e,t=s[71].label+"",l;return{c(){e=u("option"),l=ae(t),this.h()},l(a){e=c(a,"OPTION",{});var o=b(e);l=se(o,t),o.forEach(d),this.h()},h(){e.__value=s[71].value,Ie(e,e.__value)},m(a,o){Z(a,e,o),n(e,l)},p:Ke,d(a){a&&d(e)}}}function Vt(s){let e,t,l,a,o,r='<span class="label-text font-medieval text-neutral text-sm sm:text-base">üåê Compartir con jugadores</span> <span class="label-text-alt text-neutral/60 italic text-xs">Los jugadores podr√°n ver esta nota</span>',h,p;return{c(){e=u("div"),t=u("label"),l=u("input"),a=x(),o=u("div"),o.innerHTML=r,this.h()},l(_){e=c(_,"DIV",{class:!0});var m=b(e);t=c(m,"LABEL",{class:!0});var T=b(t);l=c(T,"INPUT",{type:!0,class:!0}),a=g(T),o=c(T,"DIV",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-4iyyx"&&(o.innerHTML=r),T.forEach(d),m.forEach(d),this.h()},h(){i(l,"type","checkbox"),i(l,"class","checkbox checkbox-secondary checkbox-sm sm:checkbox-md"),i(o,"class","flex flex-col"),i(t,"class","label cursor-pointer justify-start gap-2 sm:gap-3 pb-1"),i(e,"class","form-control justify-center")},m(_,m){Z(_,e,m),n(e,t),n(t,l),l.checked=s[5].isShared,n(t,a),n(t,o),h||(p=J(l,"change",s[42]),h=!0)},p(_,m){m[0]&131104&&(l.checked=_[5].isShared)},d(_){_&&d(e),h=!1,p()}}}function il(s){let e,t='<span class="label-text-alt text-neutral/60 italic text-xs">Puedes usar este espacio para escribir detalles extensos</span>';return{c(){e=u("label"),e.innerHTML=t,this.h()},l(l){e=c(l,"LABEL",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-17ailou"&&(e.innerHTML=t),this.h()},h(){i(e,"class","label pt-1")},m(l,a){Z(l,e,a)},p:Ke,d(l){l&&d(e)}}}function cl(s){let e,t,l=s[0].content+"",a;return{c(){e=u("label"),t=u("span"),a=ae(l),this.h()},l(o){e=c(o,"LABEL",{class:!0});var r=b(e);t=c(r,"SPAN",{class:!0});var h=b(t);a=se(h,l),h.forEach(d),r.forEach(d),this.h()},h(){i(t,"class","label-text-alt text-error"),i(e,"class","label")},m(o,r){Z(o,e,r),n(e,t),n(t,a)},p(o,r){r[0]&1&&l!==(l=o[0].content+"")&&Le(a,l)},d(o){o&&d(e)}}}function St(s){let e,t,l=s[0].tags+"",a;return{c(){e=u("label"),t=u("span"),a=ae(l),this.h()},l(o){e=c(o,"LABEL",{class:!0});var r=b(e);t=c(r,"SPAN",{class:!0});var h=b(t);a=se(h,l),h.forEach(d),r.forEach(d),this.h()},h(){i(t,"class","label-text-alt text-error"),i(e,"class","label")},m(o,r){Z(o,e,r),n(e,t),n(t,a)},p(o,r){r[0]&1&&l!==(l=o[0].tags+"")&&Le(a,l)},d(o){o&&d(e)}}}function ul(s){let e,t='<span class="label-text-alt text-neutral/60 italic text-xs">Agrega etiquetas para organizar mejor tus notas</span>';return{c(){e=u("label"),e.innerHTML=t,this.h()},l(l){e=c(l,"LABEL",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-113m63r"&&(e.innerHTML=t),this.h()},h(){i(e,"class","label pt-1")},m(l,a){Z(l,e,a)},p:Ke,d(l){l&&d(e)}}}function dl(s){let e,t=Ue(s[5].tags),l=[];for(let a=0;a<t.length;a+=1)l[a]=At(_t(s,t,a));return{c(){e=u("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=c(a,"DIV",{class:!0});var o=b(e);for(let r=0;r<l.length;r+=1)l[r].l(o);o.forEach(d),this.h()},h(){i(e,"class","flex flex-wrap gap-1.5 sm:gap-2 mt-2 p-2 bg-neutral/10 rounded-lg border border-primary/20")},m(a,o){Z(a,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(a,o){if(o[0]&4194336){t=Ue(a[5].tags);let r;for(r=0;r<t.length;r+=1){const h=_t(a,t,r);l[r]?l[r].p(h,o):(l[r]=At(h),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(a){a&&d(e),Ye(l,a)}}}function At(s){let e,t,l=s[68]+"",a,o,r,h="‚úï",p,_,m;function T(){return s[47](s[68])}return{c(){e=u("div"),t=u("span"),a=ae(l),o=x(),r=u("button"),r.textContent=h,p=x(),this.h()},l(I){e=c(I,"DIV",{class:!0});var v=b(e);t=c(v,"SPAN",{class:!0});var j=b(t);a=se(j,l),j.forEach(d),o=g(v),r=c(v,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(r)!=="svelte-wlt3ik"&&(r.textContent=h),p=g(v),v.forEach(d),this.h()},h(){i(t,"class","text-xs sm:text-sm"),i(r,"type","button"),i(r,"class","btn btn-xs btn-circle btn-ghost hover:bg-error hover:text-white"),i(e,"class","badge badge-md sm:badge-lg gap-1.5 sm:gap-2 bg-secondary/20 border-secondary/40")},m(I,v){Z(I,e,v),n(e,t),n(t,a),n(e,o),n(e,r),n(e,p),_||(m=J(r,"click",T),_=!0)},p(I,v){s=I,v[0]&32&&l!==(l=s[68]+"")&&Le(a,l)},d(I){I&&d(e),_=!1,m()}}}function Mt(s){let e,t,l,a,o="‚úï",r,h,p="‚úèÔ∏è Editar Nota",_,m,T,I,v='<span class="label-text font-medieval text-neutral text-sm sm:text-base md:text-lg">T√≠tulo <span class="text-error">*</span></span>',j,N,le,F,ie,U,$,O,K='<span class="label-text font-medieval text-neutral text-sm sm:text-base">Categor√≠a</span>',C,D,Te,A,H,ce,W='<span class="label-text font-medieval text-neutral text-sm sm:text-base md:text-lg">Contenido</span>',ee,L,k,Y,ne,S,ue,xe='<span class="label-text font-medieval text-neutral text-sm sm:text-base">üè∑Ô∏è Etiquetas</span>',Ee,de,te,De,M,Me,we,me,w,oe,B,fe,He="Cancelar",ke,P,R,Be="üíæ",ye,ve,Ce,qe,q=s[0].title&&Ht(s),Se=Ue(s[17]),G=[];for(let E=0;E<Se.length;E+=1)G[E]=Bt(pt(s,Se,E));let Q=s[14]&&Ot(s),pe=s[0].content&&Pt(s),_e=s[0].tags&&jt(s),re=s[5].tags.length>0&&Ft(s);return{c(){e=u("div"),t=u("div"),l=u("div"),a=u("button"),a.textContent=o,r=x(),h=u("h3"),h.textContent=p,_=x(),m=u("div"),T=u("div"),I=u("label"),I.innerHTML=v,j=x(),N=u("input"),F=x(),q&&q.c(),ie=x(),U=u("div"),$=u("div"),O=u("label"),O.innerHTML=K,C=x(),D=u("select");for(let E=0;E<G.length;E+=1)G[E].c();Te=x(),Q&&Q.c(),A=x(),H=u("div"),ce=u("label"),ce.innerHTML=W,ee=x(),L=u("textarea"),Y=x(),pe&&pe.c(),ne=x(),S=u("div"),ue=u("label"),ue.innerHTML=xe,Ee=x(),de=u("div"),te=u("input"),De=x(),M=u("button"),Me=ae("‚ûï"),me=x(),_e&&_e.c(),w=x(),re&&re.c(),oe=x(),B=u("div"),fe=u("button"),fe.textContent=He,ke=x(),P=u("button"),R=u("span"),R.textContent=Be,ye=ae(`\r
          Guardar Cambios`),this.h()},l(E){e=c(E,"DIV",{class:!0});var be=b(e);t=c(be,"DIV",{class:!0});var X=b(t);l=c(X,"DIV",{class:!0});var he=b(l);a=c(he,"BUTTON",{class:!0,"data-svelte-h":!0}),z(a)!=="svelte-3brl9s"&&(a.textContent=o),r=g(he),h=c(he,"H3",{class:!0,"data-svelte-h":!0}),z(h)!=="svelte-1amh2v5"&&(h.textContent=p),he.forEach(d),_=g(X),m=c(X,"DIV",{class:!0});var y=b(m);T=c(y,"DIV",{class:!0});var f=b(T);I=c(f,"LABEL",{class:!0,"data-svelte-h":!0}),z(I)!=="svelte-12ozdap"&&(I.innerHTML=v),j=g(f),N=c(f,"INPUT",{type:!0,placeholder:!0,class:!0}),F=g(f),q&&q.l(f),f.forEach(d),ie=g(y),U=c(y,"DIV",{class:!0});var V=b(U);$=c(V,"DIV",{class:!0});var ge=b($);O=c(ge,"LABEL",{class:!0,"data-svelte-h":!0}),z(O)!=="svelte-185ss55"&&(O.innerHTML=K),C=g(ge),D=c(ge,"SELECT",{class:!0});var Oe=b(D);for(let Ve=0;Ve<G.length;Ve+=1)G[Ve].l(Oe);Oe.forEach(d),ge.forEach(d),Te=g(V),Q&&Q.l(V),V.forEach(d),A=g(y),H=c(y,"DIV",{class:!0});var Ne=b(H);ce=c(Ne,"LABEL",{class:!0,"data-svelte-h":!0}),z(ce)!=="svelte-q1ywz1"&&(ce.innerHTML=W),ee=g(Ne),L=c(Ne,"TEXTAREA",{placeholder:!0,class:!0}),b(L).forEach(d),Y=g(Ne),pe&&pe.l(Ne),Ne.forEach(d),ne=g(y),S=c(y,"DIV",{class:!0});var Ae=b(S);ue=c(Ae,"LABEL",{class:!0,"data-svelte-h":!0}),z(ue)!=="svelte-1d057c7"&&(ue.innerHTML=xe),Ee=g(Ae),de=c(Ae,"DIV",{class:!0});var Ge=b(de);te=c(Ge,"INPUT",{type:!0,placeholder:!0,class:!0}),De=g(Ge),M=c(Ge,"BUTTON",{type:!0,class:!0});var We=b(M);Me=se(We,"‚ûï"),We.forEach(d),Ge.forEach(d),me=g(Ae),_e&&_e.l(Ae),w=g(Ae),re&&re.l(Ae),Ae.forEach(d),y.forEach(d),oe=g(X),B=c(X,"DIV",{class:!0});var ze=b(B);fe=c(ze,"BUTTON",{class:!0,"data-svelte-h":!0}),z(fe)!=="svelte-1c6irq7"&&(fe.textContent=He),ke=g(ze),P=c(ze,"BUTTON",{class:!0});var Fe=b(P);R=c(Fe,"SPAN",{class:!0,"data-svelte-h":!0}),z(R)!=="svelte-uhsdc3"&&(R.textContent=Be),ye=se(Fe,`\r
          Guardar Cambios`),Fe.forEach(d),ze.forEach(d),X.forEach(d),be.forEach(d),this.h()},h(){i(a,"class","btn btn-xs sm:btn-sm btn-circle btn-ghost absolute right-2 top-2 hover:bg-error/20"),i(h,"class","font-bold text-xl sm:text-2xl md:text-3xl font-medieval text-neutral text-center pr-8"),i(l,"class","p-3 sm:p-4 md:p-5 border-b-2 border-secondary flex-shrink-0 bg-gradient-to-b from-[#f4e4c1] to-transparent"),i(I,"class","label pb-1"),i(N,"type","text"),i(N,"placeholder","Ej: Encuentro con el drag√≥n rojo"),i(N,"class",le="input input-sm sm:input-md input-bordered bg-[#2d241c] text-base-content border-primary/50 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50 "+(s[0].title?"border-error":"")),N.required=!0,i(T,"class","form-control"),i(O,"class","label pb-1"),i(D,"class","select select-sm sm:select-md select-bordered bg-[#2d241c] text-base-content border-primary/50 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),s[5].category===void 0&&rt(()=>s[53].call(D)),i($,"class","form-control"),i(U,"class","grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4"),i(ce,"class","label pb-1"),i(L,"placeholder","Escribe aqu√≠ el contenido de tu nota..."),i(L,"class",k="textarea textarea-sm sm:textarea-md textarea-bordered bg-[#2d241c] text-base-content border-primary/50 h-32 sm:h-40 md:h-48 resize-none focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50 "+(s[0].content?"border-error":"")),i(H,"class","form-control"),i(ue,"class","label pb-1"),i(te,"type","text"),i(te,"placeholder","Presiona Enter para agregar..."),i(te,"class","input input-sm sm:input-md input-bordered bg-[#2d241c] text-base-content border-primary/50 flex-1 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50"),i(M,"type","button"),i(M,"class","btn btn-sm sm:btn-md btn-secondary flex-shrink-0"),M.disabled=we=!s[13].trim(),i(de,"class","flex gap-2"),i(S,"class","form-control"),i(m,"class","flex-1 overflow-y-auto p-3 sm:p-4 md:p-5 space-y-3 sm:space-y-4 custom-scrollbar svelte-1vnfw7c"),i(fe,"class","btn btn-sm sm:btn-md btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval w-full sm:w-auto"),i(R,"class","text-lg sm:text-xl"),i(P,"class","btn btn-sm sm:btn-md btn-dnd w-full sm:w-auto"),P.disabled=ve=!s[15],i(B,"class","flex flex-col-reverse sm:flex-row justify-center gap-2 sm:gap-4 p-3 sm:p-4 md:p-5 border-t-2 border-secondary flex-shrink-0 bg-gradient-to-t from-[#f4e4c1] to-transparent"),i(t,"class","card-parchment border-2 sm:border-4 border-secondary w-[95vw] sm:w-[90vw] md:w-3/4 lg:w-2/3 xl:w-1/2 max-w-3xl relative max-h-[92vh] flex flex-col m-2 sm:m-4"),i(e,"class","modal modal-open z-50")},m(E,be){Z(E,e,be),n(e,t),n(t,l),n(l,a),n(l,r),n(l,h),n(t,_),n(t,m),n(m,T),n(T,I),n(T,j),n(T,N),Ie(N,s[5].title),n(T,F),q&&q.m(T,null),n(m,ie),n(m,U),n(U,$),n($,O),n($,C),n($,D);for(let X=0;X<G.length;X+=1)G[X]&&G[X].m(D,null);Je(D,s[5].category,!0),n(U,Te),Q&&Q.m(U,null),n(m,A),n(m,H),n(H,ce),n(H,ee),n(H,L),Ie(L,s[5].content),n(H,Y),pe&&pe.m(H,null),n(m,ne),n(m,S),n(S,ue),n(S,Ee),n(S,de),n(de,te),Ie(te,s[13]),n(de,De),n(de,M),n(M,Me),n(S,me),_e&&_e.m(S,null),n(S,w),re&&re.m(S,null),n(t,oe),n(t,B),n(B,fe),n(B,ke),n(B,P),n(P,R),n(P,ye),Ce||(qe=[J(a,"click",s[50]),J(N,"input",s[51]),J(N,"blur",s[52]),J(D,"change",s[53]),J(L,"input",s[55]),J(L,"blur",s[56]),J(te,"input",s[57]),J(te,"keydown",s[58]),J(M,"click",s[21]),J(fe,"click",s[60]),J(P,"click",s[24]),J(t,"click",qt(s[30])),J(e,"click",s[61])],Ce=!0)},p(E,be){if(be[0]&1&&le!==(le="input input-sm sm:input-md input-bordered bg-[#2d241c] text-base-content border-primary/50 focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50 "+(E[0].title?"border-error":""))&&i(N,"class",le),be[0]&131104&&N.value!==E[5].title&&Ie(N,E[5].title),E[0].title?q?q.p(E,be):(q=Ht(E),q.c(),q.m(T,null)):q&&(q.d(1),q=null),be[0]&131072){Se=Ue(E[17]);let X;for(X=0;X<Se.length;X+=1){const he=pt(E,Se,X);G[X]?G[X].p(he,be):(G[X]=Bt(he),G[X].c(),G[X].m(D,null))}for(;X<G.length;X+=1)G[X].d(1);G.length=Se.length}be[0]&131104&&Je(D,E[5].category),E[14]?Q?Q.p(E,be):(Q=Ot(E),Q.c(),Q.m(U,null)):Q&&(Q.d(1),Q=null),be[0]&1&&k!==(k="textarea textarea-sm sm:textarea-md textarea-bordered bg-[#2d241c] text-base-content border-primary/50 h-32 sm:h-40 md:h-48 resize-none focus:border-secondary focus:outline-none focus:ring-2 focus:ring-secondary/50 "+(E[0].content?"border-error":""))&&i(L,"class",k),be[0]&131104&&Ie(L,E[5].content),E[0].content?pe?pe.p(E,be):(pe=Pt(E),pe.c(),pe.m(H,null)):pe&&(pe.d(1),pe=null),be[0]&8192&&te.value!==E[13]&&Ie(te,E[13]),be[0]&8192&&we!==(we=!E[13].trim())&&(M.disabled=we),E[0].tags?_e?_e.p(E,be):(_e=jt(E),_e.c(),_e.m(S,w)):_e&&(_e.d(1),_e=null),E[5].tags.length>0?re?re.p(E,be):(re=Ft(E),re.c(),re.m(S,null)):re&&(re.d(1),re=null),be[0]&32768&&ve!==(ve=!E[15])&&(P.disabled=ve)},d(E){E&&d(e),q&&q.d(),Ye(G,E),Q&&Q.d(),pe&&pe.d(),_e&&_e.d(),re&&re.d(),Ce=!1,lt(qe)}}}function Ht(s){let e,t,l=s[0].title+"",a;return{c(){e=u("label"),t=u("span"),a=ae(l),this.h()},l(o){e=c(o,"LABEL",{class:!0});var r=b(e);t=c(r,"SPAN",{class:!0});var h=b(t);a=se(h,l),h.forEach(d),r.forEach(d),this.h()},h(){i(t,"class","label-text-alt text-error"),i(e,"class","label")},m(o,r){Z(o,e,r),n(e,t),n(t,a)},p(o,r){r[0]&1&&l!==(l=o[0].title+"")&&Le(a,l)},d(o){o&&d(e)}}}function Bt(s){let e,t=s[71].label+"",l;return{c(){e=u("option"),l=ae(t),this.h()},l(a){e=c(a,"OPTION",{});var o=b(e);l=se(o,t),o.forEach(d),this.h()},h(){e.__value=s[71].value,Ie(e,e.__value)},m(a,o){Z(a,e,o),n(e,l)},p:Ke,d(a){a&&d(e)}}}function Ot(s){let e,t,l,a,o,r='<span class="label-text font-medieval text-neutral text-sm sm:text-base">üåê Compartir con jugadores</span> <span class="label-text-alt text-neutral/60 italic text-xs">Los jugadores podr√°n ver esta nota</span>',h,p;return{c(){e=u("div"),t=u("label"),l=u("input"),a=x(),o=u("div"),o.innerHTML=r,this.h()},l(_){e=c(_,"DIV",{class:!0});var m=b(e);t=c(m,"LABEL",{class:!0});var T=b(t);l=c(T,"INPUT",{type:!0,class:!0}),a=g(T),o=c(T,"DIV",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-4iyyx"&&(o.innerHTML=r),T.forEach(d),m.forEach(d),this.h()},h(){i(l,"type","checkbox"),i(l,"class","checkbox checkbox-secondary checkbox-sm sm:checkbox-md"),i(o,"class","flex flex-col"),i(t,"class","label cursor-pointer justify-start gap-2 sm:gap-3 pb-1"),i(e,"class","form-control justify-center")},m(_,m){Z(_,e,m),n(e,t),n(t,l),l.checked=s[5].isShared,n(t,a),n(t,o),h||(p=J(l,"change",s[54]),h=!0)},p(_,m){m[0]&131104&&(l.checked=_[5].isShared)},d(_){_&&d(e),h=!1,p()}}}function Pt(s){let e,t,l=s[0].content+"",a;return{c(){e=u("label"),t=u("span"),a=ae(l),this.h()},l(o){e=c(o,"LABEL",{class:!0});var r=b(e);t=c(r,"SPAN",{class:!0});var h=b(t);a=se(h,l),h.forEach(d),r.forEach(d),this.h()},h(){i(t,"class","label-text-alt text-error"),i(e,"class","label")},m(o,r){Z(o,e,r),n(e,t),n(t,a)},p(o,r){r[0]&1&&l!==(l=o[0].content+"")&&Le(a,l)},d(o){o&&d(e)}}}function jt(s){let e,t,l=s[0].tags+"",a;return{c(){e=u("label"),t=u("span"),a=ae(l),this.h()},l(o){e=c(o,"LABEL",{class:!0});var r=b(e);t=c(r,"SPAN",{class:!0});var h=b(t);a=se(h,l),h.forEach(d),r.forEach(d),this.h()},h(){i(t,"class","label-text-alt text-error"),i(e,"class","label")},m(o,r){Z(o,e,r),n(e,t),n(t,a)},p(o,r){r[0]&1&&l!==(l=o[0].tags+"")&&Le(a,l)},d(o){o&&d(e)}}}function Ft(s){let e,t=Ue(s[5].tags),l=[];for(let a=0;a<t.length;a+=1)l[a]=Ut(bt(s,t,a));return{c(){e=u("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=c(a,"DIV",{class:!0});var o=b(e);for(let r=0;r<l.length;r+=1)l[r].l(o);o.forEach(d),this.h()},h(){i(e,"class","flex flex-wrap gap-1.5 sm:gap-2 mt-2 p-2 bg-neutral/10 rounded-lg border border-primary/20")},m(a,o){Z(a,e,o);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null)},p(a,o){if(o[0]&4194336){t=Ue(a[5].tags);let r;for(r=0;r<t.length;r+=1){const h=bt(a,t,r);l[r]?l[r].p(h,o):(l[r]=Ut(h),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=t.length}},d(a){a&&d(e),Ye(l,a)}}}function Ut(s){let e,t,l=s[68]+"",a,o,r,h="‚úï",p,_,m;function T(){return s[59](s[68])}return{c(){e=u("div"),t=u("span"),a=ae(l),o=x(),r=u("button"),r.textContent=h,p=x(),this.h()},l(I){e=c(I,"DIV",{class:!0});var v=b(e);t=c(v,"SPAN",{class:!0});var j=b(t);a=se(j,l),j.forEach(d),o=g(v),r=c(v,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(r)!=="svelte-wlt3ik"&&(r.textContent=h),p=g(v),v.forEach(d),this.h()},h(){i(t,"class","text-xs sm:text-sm"),i(r,"type","button"),i(r,"class","btn btn-xs btn-circle btn-ghost hover:bg-error hover:text-white"),i(e,"class","badge badge-md sm:badge-lg gap-1.5 sm:gap-2 bg-secondary/20 border-secondary/40")},m(I,v){Z(I,e,v),n(e,t),n(t,a),n(e,o),n(e,r),n(e,p),_||(m=J(r,"click",T),_=!0)},p(I,v){s=I,v[0]&32&&l!==(l=s[68]+"")&&Le(a,l)},d(I){I&&d(e),_=!1,m()}}}function fl(s){let e,t,l,a,o,r=`<span class="text-xl">‚ûï</span>
          Nueva Nota`,h,p,_,m="üìù Notas",T,I,v=s[14]?"Gestiona tus notas personales y compartidas":"Tus notas personales de aventurero",j,N,le,F,ie=`<span class="text-xl">‚ûï</span>
          Nueva Nota`,U,$,O,K,C,D,Te,A=s[9]&&Et(s);function H(k,Y){return k[8]?sl:ll}let ce=H(s),W=ce(s),ee=s[10]&&Dt(s),L=s[11]&&s[12]&&Mt(s);return{c(){e=u("div"),t=u("div"),l=u("div"),a=u("div"),o=u("button"),o.innerHTML=r,h=x(),p=u("div"),_=u("h1"),_.textContent=m,T=x(),I=u("p"),j=ae(v),N=x(),le=u("div"),F=u("button"),F.innerHTML=ie,U=x(),A&&A.c(),$=x(),W.c(),O=x(),ee&&ee.c(),K=x(),L&&L.c(),C=nt(),this.h()},l(k){e=c(k,"DIV",{class:!0});var Y=b(e);t=c(Y,"DIV",{class:!0});var ne=b(t);l=c(ne,"DIV",{class:!0});var S=b(l);a=c(S,"DIV",{class:!0});var ue=b(a);o=c(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-wgcxni"&&(o.innerHTML=r),h=g(ue),p=c(ue,"DIV",{class:!0});var xe=b(p);_=c(xe,"H1",{class:!0,"data-svelte-h":!0}),z(_)!=="svelte-hd92os"&&(_.textContent=m),T=g(xe),I=c(xe,"P",{class:!0});var Ee=b(I);j=se(Ee,v),Ee.forEach(d),xe.forEach(d),ue.forEach(d),N=g(S),le=c(S,"DIV",{class:!0});var de=b(le);F=c(de,"BUTTON",{class:!0,"data-svelte-h":!0}),z(F)!=="svelte-ozaowx"&&(F.innerHTML=ie),de.forEach(d),S.forEach(d),U=g(ne),A&&A.l(ne),$=g(ne),W.l(ne),ne.forEach(d),Y.forEach(d),O=g(k),ee&&ee.l(k),K=g(k),L&&L.l(k),C=nt(),this.h()},h(){i(o,"class","btn btn-dnd hidden sm:block absolute right-0 top-0"),i(_,"class","text-3xl md:text-4xl font-bold text-secondary title-ornament"),i(I,"class","text-base-content/70 font-body italic mt-2"),i(p,"class","text-center"),i(a,"class","relative"),i(F,"class","btn btn-dnd"),i(le,"class","flex justify-center mt-4 sm:hidden"),i(l,"class","mb-6"),i(t,"class","container mx-auto max-w-7xl"),i(e,"class","min-h-screen p-4 md:p-6")},m(k,Y){Z(k,e,Y),n(e,t),n(t,l),n(l,a),n(a,o),n(a,h),n(a,p),n(p,_),n(p,T),n(p,I),n(I,j),n(l,N),n(l,le),n(le,F),n(t,U),A&&A.m(t,null),n(t,$),W.m(t,null),Z(k,O,Y),ee&&ee.m(k,Y),Z(k,K,Y),L&&L.m(k,Y),Z(k,C,Y),D||(Te=[J(o,"click",s[18]),J(F,"click",s[18])],D=!0)},p(k,Y){Y[0]&16384&&v!==(v=k[14]?"Gestiona tus notas personales y compartidas":"Tus notas personales de aventurero")&&Le(j,v),k[9]?A?A.p(k,Y):(A=Et(k),A.c(),A.m(t,$)):A&&(A.d(1),A=null),ce===(ce=H(k))&&W?W.p(k,Y):(W.d(1),W=ce(k),W&&(W.c(),W.m(t,null))),k[10]?ee?ee.p(k,Y):(ee=Dt(k),ee.c(),ee.m(K.parentNode,K)):ee&&(ee.d(1),ee=null),k[11]&&k[12]?L?L.p(k,Y):(L=Mt(k),L.c(),L.m(C.parentNode,C)):L&&(L.d(1),L=null)},i:Ke,o:Ke,d(k){k&&(d(e),d(O),d(K),d(C)),A&&A.d(),W.d(),ee&&ee.d(k),L&&L.d(k),D=!1,lt(Te)}}}function zt(s){try{const e=new Date(s);return isNaN(e.getTime())?"Fecha no disponible":e.toLocaleDateString("es",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formateando fecha:",e),"Fecha no disponible"}}function hl(s,e,t){let l,a,o,r,h;it(s,Yt,f=>t(6,r=f)),it(s,Wt,f=>t(29,h=f)),Kt.set("üìù Notas");let p={title:"",content:"",tags:""},_={title:!1,content:!1,tags:!1};function m(f){t(27,_[f]=!0,_)}function T(){Object.keys(_).forEach(Ne=>{t(27,_[Ne]=!0,_)});const f=ft(C.title),V=ht(C.content),ge=ot(C.tags);return tl(f,V,ge).valid?!0:(t(0,p.title=f.error||"",p),t(0,p.content=V.error||"",p),t(0,p.tags=ge.error||"",p),!1)}let I=null,v=[],j=[],N=!0,le="",F="",ie="all",U="all",$=!1,O=!1,K=null,C={title:"",content:"",isShared:!1,category:"other",tags:[]},D="",Te=null;const A=Zt(el),H=[{value:"session",label:"üìÖ Sesi√≥n",icon:"üìÖ"},{value:"npc",label:"üë§ NPC",icon:"üë§"},{value:"location",label:"üó∫Ô∏è Ubicaci√≥n",icon:"üó∫Ô∏è"},{value:"plot",label:"üìñ Trama",icon:"üìñ"},{value:"other",label:"üìù Otro",icon:"üìù"}];Xt(async()=>{await ce(),W()}),Jt(()=>{Te&&Te()});async function ce(){try{t(28,I=await at.getCampaign(a))}catch(f){t(9,le=f.message)}}function W(){if(r)try{let f=function(){if(Oe&&Ne){const Ve=[...V,...ge],Qe=Array.from(new Map(Ve.map(Pe=>[Pe.id,Pe])).values());t(1,v=Qe.sort((Pe,je)=>new Date(je.updatedAt).getTime()-new Date(Pe.updatedAt).getTime())),t(8,N=!1)}};t(8,N=!0);let V=[],ge=[],Oe=!1,Ne=!1;const Ae=$t(A,"notes"),Ge=ut(Ae,tt("campaignId","==",a),tt("authorId","==",r.uid),tt("isShared","==",!1)),We=ut(Ae,tt("campaignId","==",a),tt("isShared","==",!0)),ze=dt(Ge,Ve=>{V=Ve.docs.map(Qe=>{var je,Re,Ze,Xe,$e,et;const Pe=Qe.data();return{id:Qe.id,...Pe,createdAt:((Ze=(Re=(je=Pe.createdAt)==null?void 0:je.toDate)==null?void 0:Re.call(je))==null?void 0:Ze.toISOString())||new Date().toISOString(),updatedAt:((et=($e=(Xe=Pe.updatedAt)==null?void 0:Xe.toDate)==null?void 0:$e.call(Xe))==null?void 0:et.toISOString())||new Date().toISOString()}}),Oe=!0,f()},Ve=>{console.error("Error en listener de notas personales:",Ve),t(9,le=Ve.message),t(8,N=!1)}),Fe=dt(We,Ve=>{ge=Ve.docs.map(Qe=>{var je,Re,Ze,Xe,$e,et;const Pe=Qe.data();return{id:Qe.id,...Pe,createdAt:((Ze=(Re=(je=Pe.createdAt)==null?void 0:je.toDate)==null?void 0:Re.call(je))==null?void 0:Ze.toISOString())||new Date().toISOString(),updatedAt:((et=($e=(Xe=Pe.updatedAt)==null?void 0:Xe.toDate)==null?void 0:$e.call(Xe))==null?void 0:et.toISOString())||new Date().toISOString()}}),Ne=!0,f()},Ve=>{console.error("Error en listener de notas compartidas:",Ve),t(9,le=Ve.message),t(8,N=!1)});Te=()=>{ze(),Fe()}}catch(f){t(9,le=f.message),t(8,N=!1)}}function ee(){k(),t(10,$=!0)}function L(f){t(12,K=f),t(5,C={title:f.title,content:f.content,isShared:f.isShared,category:f.category,tags:[...f.tags]}),t(11,O=!0)}function k(){t(5,C={title:"",content:"",isShared:!1,category:"other",tags:[]}),t(13,D=""),Object.keys(_).forEach(f=>{t(27,_[f]=!1,_)}),Object.keys(p).forEach(f=>{t(0,p[f]="",p)})}function Y(){if(!D.trim())return;const f=D.trim().toLowerCase(),V=[...C.tags,f],ge=ot(V);if(!ge.valid){t(0,p.tags=ge.error||"",p),t(27,_.tags=!0,_);return}C.tags.includes(f)||(t(5,C.tags=V,C),t(0,p.tags="",p)),t(13,D="")}function ne(f){t(5,C.tags=C.tags.filter(V=>V!==f),C)}async function S(){if(T())try{await at.createNote(a,C),t(10,$=!1),k()}catch(f){t(9,le=f.message)}}async function ue(){if(!(!K||!T()))try{await at.updateNote(K.id,C),t(11,O=!1),t(12,K=null),k()}catch(f){t(9,le=f.message)}}async function xe(f){if(confirm(`¬øEliminar la nota "${f.title}"?`))try{await at.deleteNote(f.id)}catch(V){t(9,le=V.message)}}function Ee(f){var V;return((V=H.find(ge=>ge.value===f))==null?void 0:V.icon)||"üìù"}function de(f){ct.call(this,s,f)}function te(f){ct.call(this,s,f)}const De=()=>t(9,le="");function M(){F=this.value,t(2,F)}function Me(){ie=st(this),t(3,ie),t(17,H)}function we(){U=st(this),t(4,U)}const me=f=>L(f),w=f=>xe(f),oe=()=>{t(10,$=!1),k()};function B(){C.title=this.value,t(5,C),t(17,H)}const fe=()=>m("title");function He(){C.category=st(this),t(5,C),t(17,H)}function ke(){C.isShared=this.checked,t(5,C),t(17,H)}function P(){C.content=this.value,t(5,C),t(17,H)}const R=()=>m("content");function Be(){D=this.value,t(13,D)}const ye=f=>f.key==="Enter"&&(f.preventDefault(),Y()),ve=f=>ne(f),Ce=()=>{t(10,$=!1),k()},qe=()=>{t(10,$=!1),k()},q=()=>{t(11,O=!1),t(12,K=null),k()};function Se(){C.title=this.value,t(5,C),t(17,H)}const G=()=>m("title");function Q(){C.category=st(this),t(5,C),t(17,H)}function pe(){C.isShared=this.checked,t(5,C),t(17,H)}function _e(){C.content=this.value,t(5,C),t(17,H)}const re=()=>m("content");function E(){D=this.value,t(13,D)}const be=f=>f.key==="Enter"&&(f.preventDefault(),Y()),X=f=>ne(f),he=()=>{t(11,O=!1),t(12,K=null),k()},y=()=>{t(11,O=!1),t(12,K=null),k()};return s.$$.update=()=>{if(s.$$.dirty[0]&134217760&&_.title){const f=ft(C.title);t(0,p.title=f.valid?"":f.error||"",p)}if(s.$$.dirty[0]&134217760&&_.content){const f=ht(C.content);t(0,p.content=f.valid?"":f.error||"",p)}if(s.$$.dirty[0]&134217760&&_.tags){const f=ot(C.tags);t(0,p.tags=f.valid?"":f.error||"",p)}s.$$.dirty[0]&33&&t(15,l=!p.title&&!p.content&&!p.tags&&C.title.trim()),s.$$.dirty[0]&536870912&&(a=h.params.id||""),s.$$.dirty[0]&268435520&&t(14,o=I&&r&&I.dmId===r.uid),s.$$.dirty[0]&30&&t(7,j=v.filter(f=>{if(F){const V=F.toLowerCase(),ge=f.title.toLowerCase().includes(V),Oe=f.content.toLowerCase().includes(V),Ne=f.tags.some(Ae=>Ae.toLowerCase().includes(V));if(!ge&&!Oe&&!Ne)return!1}return!(ie!=="all"&&f.category!==ie||U==="personal"&&f.isShared||U==="shared"&&!f.isShared)}))},[p,v,F,ie,U,C,r,j,N,le,$,O,K,D,o,l,m,H,ee,L,k,Y,ne,S,ue,xe,Ee,_,I,h,de,te,De,M,Me,we,me,w,oe,B,fe,He,ke,P,R,Be,ye,ve,Ce,qe,q,Se,G,Q,pe,_e,re,E,be,X,he,y]}class kl extends Gt{constructor(e){super(),Qt(this,e,hl,fl,Rt,{},null,[-1,-1,-1])}}export{kl as component};
