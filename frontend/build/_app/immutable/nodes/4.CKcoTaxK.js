import{G as Ls,S as Dt,i as wt,s as It,n as Ke,d as f,a as j,u as Ye,V as Ot,r as at,b as s,l as ae,C as kt,c,e as p,f as y,h as J,g as k,j as h,k as D,E as Mt,F as xs,X as Ue,p as S,t as N,v as xe,x as lt,B as Ut,D as Ts,o as $,y as xt,z as Tt,U as Pt,Y as St,O as _t,H as $e,I as Ze,Z as Nt,Q as gt,R as Et,P as yt,q as Vs,J as Bt,K as Ht,T as Xt,m as Yt,A as Ps}from"../chunks/b1l4neni.js";import{e as Je,h as Ss,a as jt}from"../chunks/C6zySN1F.js";import"../chunks/IHki7fMi.js";import{p as Ns}from"../chunks/CAHGdLhf.js";import{t as Ms,u as Bs}from"../chunks/CG6d4oC4.js";import{d as Hs}from"../chunks/B0l-HeGw.js";import{j as Zt,k as Os,l as qs,m as js,n as Fs,o as Ft,h as Us,p as zs,f as Rs,g as Gs}from"../chunks/Dpq2-5VD.js";import{g as Qs,c as Js,q as Ks,w as Ws,o as Xs}from"../chunks/eN7n43qG.js";import{c as Ys}from"../chunks/Bhgkhhu0.js";function nt(l){return Math.floor((l-10)/2)}function it(l){return l>=0?`+${l}`:`${l}`}function Wt(l){return Math.floor((l-1)/4)+2}const zt=[{name:"Acrobatics",ability:"dexterity",label:"Acrobacias"},{name:"Animal Handling",ability:"wisdom",label:"Trato con Animales"},{name:"Arcana",ability:"intelligence",label:"Arcano"},{name:"Athletics",ability:"strength",label:"Atletismo"},{name:"Deception",ability:"charisma",label:"Enga√±o"},{name:"History",ability:"intelligence",label:"Historia"},{name:"Insight",ability:"wisdom",label:"Perspicacia"},{name:"Intimidation",ability:"charisma",label:"Intimidaci√≥n"},{name:"Investigation",ability:"intelligence",label:"Investigaci√≥n"},{name:"Medicine",ability:"wisdom",label:"Medicina"},{name:"Nature",ability:"intelligence",label:"Naturaleza"},{name:"Perception",ability:"wisdom",label:"Percepci√≥n"},{name:"Performance",ability:"charisma",label:"Interpretaci√≥n"},{name:"Persuasion",ability:"charisma",label:"Persuasi√≥n"},{name:"Religion",ability:"intelligence",label:"Religi√≥n"},{name:"Sleight of Hand",ability:"dexterity",label:"Juego de Manos"},{name:"Stealth",ability:"dexterity",label:"Sigilo"},{name:"Survival",ability:"wisdom",label:"Supervivencia"}],Zs="https://dm-events-backend-858373640437.us-central1.run.app/api",Kt=new Map,$s=5*60*1e3;function er(l){const e=Kt.get(l.toLowerCase());return e&&Date.now()-e.timestamp<$s?e.results:(Kt.delete(l.toLowerCase()),null)}function tr(l,e){Kt.set(l.toLowerCase(),{query:l,results:e,timestamp:Date.now()})}async function At(l,e={}){const t=Ls(Ms),a={"Content-Type":"application/json",...e.headers};t&&(a.Authorization=`Bearer ${t}`);const r=await fetch(`${Zs}${l}`,{...e,headers:a});if(!r.ok){const n=await r.json().catch(()=>({error:"Error en la petici√≥n"}));throw new Error(n.error||"Error en la petici√≥n")}return r.json()}const Lt={getInventory:l=>At(`/characters/${l}/inventory`),createItem:(l,e)=>At(`/characters/${l}/items`,{method:"POST",body:JSON.stringify(e)}),updateItem:(l,e)=>At(`/items/${l}`,{method:"PUT",body:JSON.stringify(e)}),deleteItem:l=>At(`/items/${l}`,{method:"DELETE"}),updateCurrency:(l,e)=>At(`/characters/${l}/currency`,{method:"PUT",body:JSON.stringify(e)})};let bt=null;const mt={searchItems:async(l,e)=>{const t=l.trim().toLowerCase(),a=er(t);if(a)return a;bt&&bt.abort(),bt=new AbortController;try{const[r,n,i,o]=await Promise.all([fetch(`https://api.open5e.com/v1/magicitems/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]})),fetch(`https://api.open5e.com/v1/weapons/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]})),fetch(`https://api.open5e.com/v1/armor/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]})),fetch(`https://api.open5e.com/v1/gear/?search=${encodeURIComponent(t)}&limit=20`,{signal:bt.signal}).then(d=>d.json()).catch(()=>({results:[]}))]),m=[...(r.results||[]).map(d=>({...d,source:"magicitems"})),...(n.results||[]).map(d=>({...d,source:"weapons"})),...(i.results||[]).map(d=>({...d,source:"armor"})),...(o.results||[]).map(d=>({...d,source:"gear"}))].filter(d=>d.name.toLowerCase().includes(t)).sort((d,b)=>{const _=d.name.toLowerCase(),E=b.name.toLowerCase(),g=_.startsWith(t),C=E.startsWith(t);return g&&!C?-1:!g&&C?1:_.length-E.length}).slice(0,30),v={count:m.length,next:null,previous:null,results:m};return tr(t,v),v}catch(r){if(r.name==="AbortError")throw r;return console.error("Error searching Open5e:",r),{count:0,next:null,previous:null,results:[]}}},getItem:async(l,e="magicitems")=>{const t=await fetch(`https://api.open5e.com/v1/${e}/${l}/`);if(!t.ok)throw new Error("Error obteniendo item");return t.json()},convertToInventoryItem:l=>{const e=l.name||"",t=$t(l.desc||"",1e3),a=ar(l.cost);let r="other";l.damage_dice||l.damage_type||l.damage?r="weapon":l.armor_class||l.ac_string?r="armor":l.category&&l.category.toLowerCase().includes("shield")?r="shield":lr(e,t)?r="consumable":l.category&&l.category.toLowerCase().includes("tool")?r="tool":l.rarity&&!["common","none"].includes(l.rarity.toLowerCase())&&(r="treasure");const n={name:e,description:t,quantity:1,open5eSlug:l.slug,value:a,type:r,rarity:l.rarity||"common"};return r==="weapon"&&(n.weaponData={weaponType:l.category||"simple",damageDice:l.damage_dice||l.damage||"1d4",damageType:l.damage_type||"bludgeoning",properties:sr(l.properties,l.desc),magicBonus:tl(e)}),(r==="armor"||r==="shield")&&(n.armorData={armorType:l.category||"light",baseAC:rr(l.armor_class||l.ac_string),dexModifier:nr(l),strengthRequirement:l.strength_requirement,stealthDisadvantage:l.stealth_disadvantage||!1,magicBonus:tl(e)}),n},cleanDescription:(l,e=200)=>$t(l,e)};function lr(l,e){const t=l.toLowerCase(),a=e.toLowerCase();return["potion","elixir","oil","scroll","poison","antidote","philter"].some(n=>t.includes(n)||a.includes(n))}function $t(l,e=200){if(!l)return"";const t=document.createElement("div");t.innerHTML=l;let a=t.textContent||t.innerText||"";return a=a.replace(/\s+/g," ").trim(),a.length>e&&(a=a.substring(0,e).trim()+"..."),a}function ar(l){if(typeof l=="number")return l;if(!l)return 0;if(typeof l=="object"){const a=parseFloat(l.quantity||l.amount||0),r=(l.unit||l.currency||"gp").toLowerCase();return el(a,r)}const t=String(l).trim().match(/^(\d+(?:\.\d+)?)\s*([a-z]+)?$/i);if(t){const a=parseFloat(t[1]),r=(t[2]||"gp").toLowerCase();return el(a,r)}return 0}function el(l,e){return l*({cp:.01,sp:.1,ep:.5,gp:1,pp:10}[e]||1)}function sr(l,e){const t={};if(!l)return t;const a=Array.isArray(l)?l.map(i=>typeof i=="string"?i:i.name):[],r=new Set(a.map(i=>i.toLowerCase()));t.light=r.has("light"),t.finesse=r.has("finesse"),t.thrown=r.has("thrown"),t.twoHanded=r.has("two-handed"),t.reach=r.has("reach"),t.loading=r.has("loading"),t.heavy=r.has("heavy"),t.ammunition=r.has("ammunition");const n=a.find(i=>i.toLowerCase().startsWith("versatile"));if(n){const i=n.match(/\(([0-9]+d[0-9]+)\)/);i&&(t.versatile=i[1])}return t}function tl(l){const e=l.match(/\+(\d+)/);return e?parseInt(e[1],10):0}function rr(l){if(typeof l=="number")return l;if(typeof l=="object"&&(l!=null&&l.base))return l.base;if(typeof l=="string"){const e=parseInt(l);if(!isNaN(e))return e}return 10}function nr(l){const e=(l.category||"").toLowerCase();return{"Heavy Armor":"none","Medium Armor":"max2","Light Armor":"full"}[e]||"full"}function ll(l,e,t){const a=l.slice();return a[35]=e[t],a}function al(l,e,t){const a=l.slice();return a[32]=e[t],a}function sl(l){let e,t,a,r,n="‚úï",i,o,u,m,v,d,b,_,E,g="Cancelar",C,w,I;function A(q,F){return q[1]?or:ir}let x=A(l),P=x(l);function B(q,F){return q[1]?ur:cr}let T=B(l),H=T(l);function V(q,F){return q[1]?fr:dr}let L=V(l),M=L(l),O=l[1]&&vl(l);return{c(){e=h("div"),t=h("div"),a=h("div"),r=h("button"),r.textContent=n,i=D(),o=h("h3"),P.c(),u=D(),m=h("p"),H.c(),v=D(),d=h("div"),M.c(),b=D(),_=h("div"),E=h("button"),E.textContent=g,C=D(),O&&O.c(),this.h()},l(q){e=p(q,"DIV",{class:!0});var F=y(e);t=p(F,"DIV",{class:!0});var W=y(t);a=p(W,"DIV",{class:!0});var z=y(a);r=p(z,"BUTTON",{class:!0,"data-svelte-h":!0}),J(r)!=="svelte-drx0cs"&&(r.textContent=n),i=k(z),o=p(z,"H3",{class:!0});var U=y(o);P.l(U),U.forEach(f),u=k(z),m=p(z,"P",{class:!0});var se=y(m);H.l(se),se.forEach(f),z.forEach(f),v=k(W),d=p(W,"DIV",{class:!0});var Q=y(d);M.l(Q),Q.forEach(f),b=k(W),_=p(W,"DIV",{class:!0});var G=y(_);E=p(G,"BUTTON",{class:!0,"data-svelte-h":!0}),J(E)!=="svelte-kn08kh"&&(E.textContent=g),C=k(G),O&&O.l(G),G.forEach(f),W.forEach(f),F.forEach(f),this.h()},h(){c(r,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-3xl font-medieval text-neutral text-center mb-2"),c(m,"class","text-center text-neutral/60 text-sm font-body italic"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(d,"class","flex-1 overflow-y-auto p-6"),c(E,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),c(_,"class","flex justify-center gap-4 p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-4xl max-h-[90vh] relative flex flex-col"),c(e,"class","modal modal-open z-50")},m(q,F){j(q,e,F),s(e,t),s(t,a),s(a,r),s(a,i),s(a,o),P.m(o,null),s(a,u),s(a,m),H.m(m,null),s(t,v),s(t,d),M.m(d,null),s(t,b),s(t,_),s(_,E),s(_,C),O&&O.m(_,null),w||(I=[ae(r,"click",l[13]),ae(E,"click",l[13]),ae(t,"click",kt(l[17])),ae(e,"click",l[13]),ae(e,"keydown",l[29])],w=!0)},p(q,F){x!==(x=A(q))&&(P.d(1),P=x(q),P&&(P.c(),P.m(o,null))),T!==(T=B(q))&&(H.d(1),H=T(q),H&&(H.c(),H.m(m,null))),L===(L=V(q))&&M?M.p(q,F):(M.d(1),M=L(q),M&&(M.c(),M.m(d,null))),q[1]?O?O.p(q,F):(O=vl(q),O.c(),O.m(_,null)):O&&(O.d(1),O=null)},d(q){q&&f(e),P.d(),H.d(),M.d(),O&&O.d(),w=!1,at(I)}}}function ir(l){let e;return{c(){e=N("üîç Buscar Item")},l(t){e=S(t,"üîç Buscar Item")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function or(l){let e;return{c(){e=N("‚ûï Agregar Item")},l(t){e=S(t,"‚ûï Agregar Item")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function cr(l){let e;return{c(){e=N("Busca en la base de datos oficial de D&D 5e")},l(t){e=S(t,"Busca en la base de datos oficial de D&D 5e")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function ur(l){let e;return{c(){e=N("Completa los detalles del item")},l(t){e=S(t,"Completa los detalles del item")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function fr(l){let e,t,a,r,n='<span class="label-text font-medieval text-neutral text-lg">Nombre <span class="text-error">*</span></span>',i,o,u,m,v,d='<span class="label-text font-medieval text-neutral text-lg">Tipo</span>',b,_,E,g,C,w,I='<span class="label-text font-medieval text-neutral">Cantidad</span>',A,x,P,B,T,H='<span class="label-text font-medieval text-neutral">Valor (GP)</span>',V,L,M,O,q,F='<span class="label-text font-medieval text-neutral text-lg">Descripci√≥n</span>',W,z,U,se,Q,G=l[9]&&rl(l),ee=Je(l[15]),te=[];for(let R=0;R<ee.length;R+=1)te[R]=nl(ll(l,ee,R));let K=l[6]&&il(l);return{c(){e=h("div"),G&&G.c(),t=D(),a=h("div"),r=h("label"),r.innerHTML=n,i=D(),o=h("input"),u=D(),m=h("div"),v=h("label"),v.innerHTML=d,b=D(),_=h("select");for(let R=0;R<te.length;R+=1)te[R].c();E=D(),g=h("div"),C=h("div"),w=h("label"),w.innerHTML=I,A=D(),x=h("input"),P=D(),B=h("div"),T=h("label"),T.innerHTML=H,V=D(),L=h("input"),M=D(),O=h("div"),q=h("label"),q.innerHTML=F,W=D(),z=h("textarea"),U=D(),K&&K.c(),this.h()},l(R){e=p(R,"DIV",{class:!0});var Y=y(e);G&&G.l(Y),t=k(Y),a=p(Y,"DIV",{class:!0});var le=y(a);r=p(le,"LABEL",{class:!0,"data-svelte-h":!0}),J(r)!=="svelte-euejpb"&&(r.innerHTML=n),i=k(le),o=p(le,"INPUT",{type:!0,placeholder:!0,class:!0}),le.forEach(f),u=k(Y),m=p(Y,"DIV",{class:!0});var oe=y(m);v=p(oe,"LABEL",{class:!0,"data-svelte-h":!0}),J(v)!=="svelte-6k7s5m"&&(v.innerHTML=d),b=k(oe),_=p(oe,"SELECT",{class:!0});var de=y(_);for(let he=0;he<te.length;he+=1)te[he].l(de);de.forEach(f),oe.forEach(f),E=k(Y),g=p(Y,"DIV",{class:!0});var ye=y(g);C=p(ye,"DIV",{class:!0});var we=y(C);w=p(we,"LABEL",{class:!0,"data-svelte-h":!0}),J(w)!=="svelte-o3y95x"&&(w.innerHTML=I),A=k(we),x=p(we,"INPUT",{type:!0,min:!0,class:!0}),we.forEach(f),P=k(ye),B=p(ye,"DIV",{class:!0});var X=y(B);T=p(X,"LABEL",{class:!0,"data-svelte-h":!0}),J(T)!=="svelte-o9rbfr"&&(T.innerHTML=H),V=k(X),L=p(X,"INPUT",{type:!0,min:!0,step:!0,class:!0}),X.forEach(f),ye.forEach(f),M=k(Y),O=p(Y,"DIV",{class:!0});var ue=y(O);q=p(ue,"LABEL",{class:!0,"data-svelte-h":!0}),J(q)!=="svelte-1igpr5h"&&(q.innerHTML=F),W=k(ue),z=p(ue,"TEXTAREA",{placeholder:!0,class:!0}),y(z).forEach(f),ue.forEach(f),U=k(Y),K&&K.l(Y),Y.forEach(f),this.h()},h(){c(r,"class","label"),c(o,"type","text"),c(o,"placeholder","Ej: Espada Larga +1"),c(o,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(a,"class","form-control"),c(v,"class","label"),c(_,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50"),l[2].type===void 0&&Ts(()=>l[22].call(_)),c(m,"class","form-control"),c(w,"class","label"),c(x,"type","number"),c(x,"min","1"),c(x,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(C,"class","form-control"),c(T,"class","label"),c(L,"type","number"),c(L,"min","0"),c(L,"step","0.01"),c(L,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(B,"class","form-control"),c(g,"class","grid grid-cols-3 gap-4"),c(q,"class","label"),c(z,"placeholder","Descripci√≥n del item..."),c(z,"class","textarea textarea-bordered bg-[#2d241c] text-base-content border-primary/50 h-24"),c(O,"class","form-control"),c(e,"class","space-y-4")},m(R,Y){j(R,e,Y),G&&G.m(e,null),s(e,t),s(e,a),s(a,r),s(a,i),s(a,o),xe(o,l[2].name),s(e,u),s(e,m),s(m,v),s(m,b),s(m,_);for(let le=0;le<te.length;le+=1)te[le]&&te[le].m(_,null);Ut(_,l[2].type,!0),s(e,E),s(e,g),s(g,C),s(C,w),s(C,A),s(C,x),xe(x,l[2].quantity),s(g,P),s(g,B),s(B,T),s(B,V),s(B,L),xe(L,l[2].value),s(e,M),s(e,O),s(O,q),s(O,W),s(O,z),xe(z,l[2].description),s(e,U),K&&K.m(e,null),se||(Q=[ae(o,"input",l[20]),ae(o,"input",l[21]),ae(_,"change",l[22]),ae(x,"input",l[23]),ae(x,"input",l[24]),ae(L,"input",l[25]),ae(L,"input",l[26]),ae(z,"input",l[27]),ae(z,"input",l[28])],se=!0)},p(R,Y){if(R[9]?G?G.p(R,Y):(G=rl(R),G.c(),G.m(e,t)):G&&(G.d(1),G=null),Y[0]&32772&&o.value!==R[2].name&&xe(o,R[2].name),Y[0]&32768){ee=Je(R[15]);let le;for(le=0;le<ee.length;le+=1){const oe=ll(R,ee,le);te[le]?te[le].p(oe,Y):(te[le]=nl(oe),te[le].c(),te[le].m(_,null))}for(;le<te.length;le+=1)te[le].d(1);te.length=ee.length}Y[0]&32772&&Ut(_,R[2].type),Y[0]&32772&&Ue(x.value)!==R[2].quantity&&xe(x,R[2].quantity),Y[0]&32772&&Ue(L.value)!==R[2].value&&xe(L,R[2].value),Y[0]&32772&&xe(z,R[2].description),R[6]?K?K.p(R,Y):(K=il(R),K.c(),K.m(e,null)):K&&(K.d(1),K=null)},d(R){R&&f(e),G&&G.d(),lt(te,R),K&&K.d(),se=!1,at(Q)}}}function dr(l){let e,t,a,r,n,i,o,u,m='<span class="label-text-alt text-neutral/60 italic">üí° Busca armas, armaduras y equipo de aventurero</span>',v,d,b,_,E,g,C="O",w,I,A="‚úèÔ∏è Agregar Item Manualmente",x,P;function B(q,F){return q[7]?hr:pr}let T=B(l),H=T(l),V=l[7]&&!l[5].length&&ol(),L=l[8]&&!l[7]&&cl(),M=l[5].length>0&&ul(l),O=!l[4]&&!l[7]&&l[5].length===0&&ml();return{c(){e=h("div"),t=h("div"),a=h("div"),r=h("input"),n=D(),i=h("div"),H.c(),o=D(),u=h("label"),u.innerHTML=m,v=D(),V&&V.c(),d=D(),L&&L.c(),b=D(),M&&M.c(),_=D(),O&&O.c(),E=D(),g=h("div"),g.textContent=C,w=D(),I=h("button"),I.textContent=A,this.h()},l(q){e=p(q,"DIV",{class:!0});var F=y(e);t=p(F,"DIV",{class:!0});var W=y(t);a=p(W,"DIV",{class:!0});var z=y(a);r=p(z,"INPUT",{type:!0,placeholder:!0,class:!0}),n=k(z),i=p(z,"DIV",{class:!0});var U=y(i);H.l(U),U.forEach(f),z.forEach(f),o=k(W),u=p(W,"LABEL",{class:!0,"data-svelte-h":!0}),J(u)!=="svelte-cpq4bn"&&(u.innerHTML=m),W.forEach(f),v=k(F),V&&V.l(F),d=k(F),L&&L.l(F),b=k(F),M&&M.l(F),_=k(F),O&&O.l(F),E=k(F),g=p(F,"DIV",{class:!0,"data-svelte-h":!0}),J(g)!=="svelte-18dior4"&&(g.textContent=C),w=k(F),I=p(F,"BUTTON",{class:!0,"data-svelte-h":!0}),J(I)!=="svelte-1u4112e"&&(I.textContent=A),F.forEach(f),this.h()},h(){c(r,"type","text"),c(r,"placeholder","Buscar: plate armor, longsword, rope, health potion..."),c(r,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full pr-10"),r.autofocus=!0,c(i,"class","absolute right-3 top-1/2 -translate-y-1/2 text-neutral/50"),c(a,"class","relative"),c(u,"class","label"),c(t,"class","form-control"),c(g,"class","divider text-neutral/50"),c(I,"class","btn btn-outline border-2 border-primary text-primary hover:bg-primary hover:text-white w-full"),c(e,"class","space-y-4")},m(q,F){j(q,e,F),s(e,t),s(t,a),s(a,r),xe(r,l[4]),s(a,n),s(a,i),H.m(i,null),s(t,o),s(t,u),s(e,v),V&&V.m(e,null),s(e,d),L&&L.m(e,null),s(e,b),M&&M.m(e,null),s(e,_),O&&O.m(e,null),s(e,E),s(e,g),s(e,w),s(e,I),r.focus(),x||(P=[ae(r,"input",l[18]),ae(r,"input",l[10]),ae(I,"click",l[14])],x=!0)},p(q,F){F[0]&16&&r.value!==q[4]&&xe(r,q[4]),T!==(T=B(q))&&(H.d(1),H=T(q),H&&(H.c(),H.m(i,null))),q[7]&&!q[5].length?V||(V=ol(),V.c(),V.m(e,d)):V&&(V.d(1),V=null),q[8]&&!q[7]?L||(L=cl(),L.c(),L.m(e,b)):L&&(L.d(1),L=null),q[5].length>0?M?M.p(q,F):(M=ul(q),M.c(),M.m(e,_)):M&&(M.d(1),M=null),!q[4]&&!q[7]&&q[5].length===0?O||(O=ml(),O.c(),O.m(e,E)):O&&(O.d(1),O=null)},d(q){q&&f(e),H.d(),V&&V.d(),L&&L.d(),M&&M.d(),O&&O.d(),x=!1,at(P)}}}function rl(l){let e,t,a;return{c(){e=h("div"),t=h("span"),a=N(l[9]),this.h()},l(r){e=p(r,"DIV",{class:!0});var n=y(e);t=p(n,"SPAN",{});var i=y(t);a=S(i,l[9]),i.forEach(f),n.forEach(f),this.h()},h(){c(e,"class","alert alert-error")},m(r,n){j(r,e,n),s(e,t),s(t,a)},p(r,n){n[0]&512&&$(a,r[9])},d(r){r&&f(e)}}}function nl(l){let e,t=l[35].label+"",a;return{c(){e=h("option"),a=N(t),this.h()},l(r){e=p(r,"OPTION",{});var n=y(e);a=S(n,t),n.forEach(f),this.h()},h(){e.__value=l[35].value,xe(e,e.__value)},m(r,n){j(r,e,n),s(e,a)},p:Ke,d(r){r&&f(e)}}}function il(l){let e,t,a,r,n,i,o,u=l[6].name+"",m,v;return{c(){e=h("div"),t=Tt("svg"),a=Tt("path"),r=D(),n=h("span"),i=N("‚ú® Item basado en "),o=h("strong"),m=N(u),v=N(" de Open5e"),this.h()},l(d){e=p(d,"DIV",{class:!0});var b=y(e);t=xt(b,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var _=y(t);a=xt(_,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(a).forEach(f),_.forEach(f),r=k(b),n=p(b,"SPAN",{class:!0});var E=y(n);i=S(E,"‚ú® Item basado en "),o=p(E,"STRONG",{});var g=y(o);m=S(g,u),g.forEach(f),v=S(E," de Open5e"),E.forEach(f),b.forEach(f),this.h()},h(){c(a,"fill-rule","evenodd"),c(a,"d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"),c(a,"clip-rule","evenodd"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-5 w-5 text-success"),c(t,"viewBox","0 0 20 20"),c(t,"fill","currentColor"),c(n,"class","text-sm"),c(e,"class","alert bg-success/20 border-success/40")},m(d,b){j(d,e,b),s(e,t),s(t,a),s(e,r),s(e,n),s(n,i),s(n,o),s(o,m),s(n,v)},p(d,b){b[0]&64&&u!==(u=d[6].name+"")&&$(m,u)},d(d){d&&f(e)}}}function pr(l){let e;return{c(){e=N("üîç")},l(t){e=S(t,"üîç")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function hr(l){let e;return{c(){e=h("span"),this.h()},l(t){e=p(t,"SPAN",{class:!0}),y(e).forEach(f),this.h()},h(){c(e,"class","loading loading-spinner loading-sm")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function ol(l){let e,t='<span class="loading loading-spinner loading-md text-secondary"></span> <span class="ml-3 text-neutral/70">Buscando items...</span>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1dq7orb"&&(e.innerHTML=t),this.h()},h(){c(e,"class","flex justify-center items-center py-8")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function cl(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-warning" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg> <div><p class="font-bold">No se encontraron resultados</p> <p class="text-xs">Intenta con otro nombre o agrega el item manualmente</p></div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1yuuv3j"&&(e.innerHTML=t),this.h()},h(){c(e,"class","alert bg-warning/20 border-warning/40")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function ul(l){let e,t,a,r=l[5].length+"",n,i,o=l[5].length!==1?"s":"",u,m,v=l[5].length!==1?"s":"",d,b,_,E=Je(l[5]),g=[];for(let C=0;C<E.length;C+=1)g[C]=hl(al(l,E,C));return{c(){e=h("div"),t=h("p"),a=N("üìñ "),n=N(r),i=N(" item"),u=N(o),m=N(" encontrado"),d=N(v),b=D(),_=h("div");for(let C=0;C<g.length;C+=1)g[C].c();this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"P",{class:!0});var I=y(t);a=S(I,"üìñ "),n=S(I,r),i=S(I," item"),u=S(I,o),m=S(I," encontrado"),d=S(I,v),I.forEach(f),b=k(w),_=p(w,"DIV",{class:!0});var A=y(_);for(let x=0;x<g.length;x+=1)g[x].l(A);A.forEach(f),w.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/70"),c(_,"class","grid grid-cols-1 gap-2 max-h-96 overflow-y-auto"),c(e,"class","space-y-2")},m(C,w){j(C,e,w),s(e,t),s(t,a),s(t,n),s(t,i),s(t,u),s(t,m),s(t,d),s(e,b),s(e,_);for(let I=0;I<g.length;I+=1)g[I]&&g[I].m(_,null)},p(C,w){if(w[0]&32&&r!==(r=C[5].length+"")&&$(n,r),w[0]&32&&o!==(o=C[5].length!==1?"s":"")&&$(u,o),w[0]&32&&v!==(v=C[5].length!==1?"s":"")&&$(d,v),w[0]&2208){E=Je(C[5]);let I;for(I=0;I<E.length;I+=1){const A=al(C,E,I);g[I]?g[I].p(A,w):(g[I]=hl(A),g[I].c(),g[I].m(_,null))}for(;I<g.length;I+=1)g[I].d(1);g.length=E.length}},d(C){C&&f(e),lt(g,C)}}}function fl(l){let e,t=l[32].rarity+"",a,r;return{c(){e=h("span"),a=N(t),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=S(i,t),i.forEach(f),this.h()},h(){c(e,"class",r="badge badge-sm "+bl(l[32].rarity)+" ml-2 flex-shrink-0 svelte-efadq")},m(n,i){j(n,e,i),s(e,a)},p(n,i){i[0]&32&&t!==(t=n[32].rarity+"")&&$(a,t),i[0]&32&&r!==(r="badge badge-sm "+bl(n[32].rarity)+" ml-2 flex-shrink-0 svelte-efadq")&&c(e,"class",r)},d(n){n&&f(e)}}}function dl(l){let e,t=Rt(l[32])+"",a;return{c(){e=h("span"),a=N(t),this.h()},l(r){e=p(r,"SPAN",{class:!0});var n=y(e);a=S(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-xs badge-info")},m(r,n){j(r,e,n),s(e,a)},p(r,n){n[0]&32&&t!==(t=Rt(r[32])+"")&&$(a,t)},d(r){r&&f(e)}}}function pl(l){let e,t=l[32].category+"",a;return{c(){e=h("span"),a=N(t),this.h()},l(r){e=p(r,"SPAN",{class:!0});var n=y(e);a=S(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-xs badge-secondary")},m(r,n){j(r,e,n),s(e,a)},p(r,n){n[0]&32&&t!==(t=r[32].category+"")&&$(a,t)},d(r){r&&f(e)}}}function hl(l){let e,t,a,r,n=l[32].name+"",i,o,u,m,v=Rt(l[32]),d,b,_,E=mt.cleanDescription(l[32].desc||"",120)+"",g,C,w,I,A=l[32].rarity&&fl(l),x=v&&dl(l),P=l[32].category&&pl(l);function B(){return l[19](l[32])}return{c(){e=h("button"),t=h("div"),a=h("div"),r=h("span"),i=N(n),o=D(),A&&A.c(),u=D(),m=h("div"),x&&x.c(),d=D(),P&&P.c(),b=D(),_=h("p"),g=N(E),C=D(),this.h()},l(T){e=p(T,"BUTTON",{class:!0});var H=y(e);t=p(H,"DIV",{class:!0});var V=y(t);a=p(V,"DIV",{class:!0});var L=y(a);r=p(L,"SPAN",{class:!0});var M=y(r);i=S(M,n),M.forEach(f),L.forEach(f),o=k(V),A&&A.l(V),V.forEach(f),u=k(H),m=p(H,"DIV",{class:!0});var O=y(m);x&&x.l(O),d=k(O),P&&P.l(O),O.forEach(f),b=k(H),_=p(H,"P",{class:!0});var q=y(_);g=S(q,E),q.forEach(f),C=k(H),H.forEach(f),this.h()},h(){c(r,"class","font-bold text-neutral text-lg block"),c(a,"class","flex-1"),c(t,"class","flex justify-between items-start w-full mb-2"),c(m,"class","flex flex-wrap gap-2 mb-2 w-full"),c(_,"class","text-xs text-neutral/70 line-clamp-2 w-full svelte-efadq"),c(e,"class","btn btn-ghost text-left border border-primary/30 hover:bg-primary/20 flex flex-col items-start w-full p-4 h-auto min-h-[6rem]"),e.disabled=l[7]},m(T,H){j(T,e,H),s(e,t),s(t,a),s(a,r),s(r,i),s(t,o),A&&A.m(t,null),s(e,u),s(e,m),x&&x.m(m,null),s(m,d),P&&P.m(m,null),s(e,b),s(e,_),s(_,g),s(e,C),w||(I=ae(e,"click",B),w=!0)},p(T,H){l=T,H[0]&32&&n!==(n=l[32].name+"")&&$(i,n),l[32].rarity?A?A.p(l,H):(A=fl(l),A.c(),A.m(t,null)):A&&(A.d(1),A=null),H[0]&32&&(v=Rt(l[32])),v?x?x.p(l,H):(x=dl(l),x.c(),x.m(m,d)):x&&(x.d(1),x=null),l[32].category?P?P.p(l,H):(P=pl(l),P.c(),P.m(m,null)):P&&(P.d(1),P=null),H[0]&32&&E!==(E=mt.cleanDescription(l[32].desc||"",120)+"")&&$(g,E),H[0]&128&&(e.disabled=l[7])},d(T){T&&f(e),A&&A.d(),x&&x.d(),P&&P.d(),w=!1,I()}}}function ml(l){let e,t='<div class="text-6xl mb-4">üì¶</div> <p class="text-neutral/70 font-body mb-4">Escribe para buscar items en la base de datos oficial</p> <div class="flex flex-wrap gap-2 justify-center text-xs text-neutral/50"><span class="bg-neutral/10 px-3 py-1 rounded">plate armor</span> <span class="bg-neutral/10 px-3 py-1 rounded">longsword</span> <span class="bg-neutral/10 px-3 py-1 rounded">health potion</span> <span class="bg-neutral/10 px-3 py-1 rounded">rope</span></div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1hxe8a3"&&(e.innerHTML=t),this.h()},h(){c(e,"class","text-center py-12")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function vl(l){let e,t,a="‚ûï",r,n,i,o;return{c(){e=h("button"),t=h("span"),t.textContent=a,r=N(`\r
            Agregar al Inventario`),this.h()},l(u){e=p(u,"BUTTON",{class:!0});var m=y(e);t=p(m,"SPAN",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1vjg05e"&&(t.textContent=a),r=S(m,`\r
            Agregar al Inventario`),m.forEach(f),this.h()},h(){c(t,"class","text-xl"),c(e,"class","btn btn-dnd"),e.disabled=n=!l[2].name.trim()||!!l[9]},m(u,m){j(u,e,m),s(e,t),s(e,r),i||(o=ae(e,"click",l[12]),i=!0)},p(u,m){m[0]&33284&&n!==(n=!u[2].name.trim()||!!u[9])&&(e.disabled=n)},d(u){u&&f(e),i=!1,o()}}}function mr(l){let e,t=l[0]&&sl(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,r){t&&t.m(a,r),j(a,e,r)},p(a,r){a[0]?t?t.p(a,r):(t=sl(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ke,o:Ke,d(a){a&&f(e),t&&t.d(a)}}}const vr=800;function bl(l){return{common:"badge-ghost",uncommon:"badge-success",rare:"badge-primary","very rare":"badge-secondary",legendary:"badge-warning",artifact:"badge-error"}[l==null?void 0:l.toLowerCase()]||"badge-ghost"}function Rt(l){return l.cost?`üí∞ ${l.cost}`:""}function br(l,e,t){let{isOpen:a=!1}=e,{characterId:r=""}=e;const n=Ot();let i="",o=[],u=null,m=!1,v=!1,d=null,b=!1,_={name:"",type:"other",description:"",quantity:1,value:0},E="",g=!1;const C=Hs(async()=>{const Q=i.trim();if(!Q){t(5,o=[]),t(8,v=!1);return}d&&d.abort(),d=new AbortController,t(7,m=!0),t(8,v=!1);try{const G=await mt.searchItems(Q);t(5,o=(G.results||[]).slice(0,20)),t(8,v=o.length===0)}catch(G){if(G.name==="AbortError")return;console.error("Error buscando items:",G),t(5,o=[]),t(8,v=!0)}finally{t(7,m=!1),d=null}},vr);async function w(Q){t(7,m=!0),t(8,v=!1);try{const G=Q.source||"magicitems";let ee=Q;if(Q.source)try{ee=await mt.getItem(Q.slug,G)}catch(K){console.warn("Could not fetch full item, using summary:",K),ee=Q}t(6,u=ee);const te=mt.convertToInventoryItem(ee);t(2,_={name:te.name||ee.name||"",type:te.type||"other",description:mt.cleanDescription(te.description||ee.desc||"",500),quantity:1,value:typeof te.value=="number"?te.value:parseFloat(String(te.value||0))||0}),t(5,o=[]),t(4,i=""),t(1,b=!0)}catch(G){console.error("Error selecting item:",G),t(9,E="Error al cargar el item. Por favor intenta de nuevo.")}finally{t(7,m=!1)}}function I(){if(t(3,g=!0),!_.name.trim()){t(9,E="El nombre no puede estar vac√≠o");return}const Q={name:_.name,type:_.type,description:_.description,quantity:_.quantity,value:_.value},G=Zt(Q);if(!G.valid){t(9,E=G.error||"");return}const ee={...Q,weaponData:u&&_.type==="weapon"?mt.convertToInventoryItem(u).weaponData:void 0,armorData:u&&(_.type==="armor"||_.type==="shield")?mt.convertToInventoryItem(u).armorData:void 0,open5eSlug:u==null?void 0:u.slug};n("add",ee),A()}function A(){d&&(d.abort(),d=null),t(4,i=""),t(5,o=[]),t(6,u=null),t(1,b=!1),t(2,_={name:"",type:"other",description:"",quantity:1,value:0}),t(8,v=!1),t(7,m=!1),t(9,E=""),t(3,g=!1),n("close")}function x(){t(1,b=!0),t(5,o=[]),t(4,i="")}const P=[{value:"weapon",label:"‚öîÔ∏è Arma",icon:"‚öîÔ∏è"},{value:"armor",label:"üõ°Ô∏è Armadura",icon:"üõ°Ô∏è"},{value:"shield",label:"üõ°Ô∏è Escudo",icon:"üõ°Ô∏è"},{value:"tool",label:"üîß Herramienta",icon:"üîß"},{value:"consumable",label:"üß™ Consumible",icon:"üß™"},{value:"treasure",label:"üíé Tesoro",icon:"üíé"},{value:"other",label:"üì¶ Otro",icon:"üì¶"}];function B(Q){Mt.call(this,l,Q)}function T(){i=this.value,t(4,i)}const H=Q=>w(Q);function V(){_.name=this.value,t(2,_),t(15,P)}const L=()=>t(3,g=!0);function M(){_.type=xs(this),t(2,_),t(15,P)}function O(){_.quantity=Ue(this.value),t(2,_),t(15,P)}const q=()=>t(3,g=!0);function F(){_.value=Ue(this.value),t(2,_),t(15,P)}const W=()=>t(3,g=!0);function z(){_.description=this.value,t(2,_),t(15,P)}const U=()=>t(3,g=!0),se=Q=>Q.key==="Escape"&&A();return l.$$set=Q=>{"isOpen"in Q&&t(0,a=Q.isOpen),"characterId"in Q&&t(16,r=Q.characterId)},l.$$.update=()=>{if(l.$$.dirty[0]&14&&g&&b){const Q={name:_.name,type:_.type,description:_.description,quantity:_.quantity,value:_.value},G=Zt(Q);t(9,E=G.valid?"":G.error||"")}},[a,b,_,g,i,o,u,m,v,E,C,w,I,A,x,P,r,B,T,H,V,L,M,O,q,F,W,z,U,se]}class _r extends Dt{constructor(e){super(),wt(this,e,br,mr,It,{isOpen:0,characterId:16},null,[-1,-1])}}function _l(l){let e,t,a,r,n="‚úï",i,o,u,m=Jl(l[1].type)+"",v,d,b,_,E=l[1].name+"",g,C,w,I,A=Kl(l[1].type)+"",x,P,B,T,H,V,L,M,O,q,F,W,z="CANTIDAD",U,se,Q=l[1].quantity+"",G,ee,te,K,R="VALOR TOTAL",Y,le,oe=Gt(l[1].value*l[1].quantity)+"",de,ye,we,X,ue,he="Cerrar",Ce,Fe,Ve=l[1].quantity>1&&gl(l),ke=l[1].value>0&&El(l),ce=l[1].rarity&&yl(l),fe=l[1].description&&Cl(l),ve=l[1].weaponData&&kl(l),Te=l[1].armorData&&Ol(l);return{c(){e=h("div"),t=h("div"),a=h("div"),r=h("button"),r.textContent=n,i=D(),o=h("div"),u=h("div"),v=N(m),d=D(),b=h("div"),_=h("h3"),g=N(E),C=D(),w=h("div"),I=h("span"),x=N(A),P=D(),Ve&&Ve.c(),B=D(),ke&&ke.c(),T=D(),ce&&ce.c(),H=D(),V=h("div"),fe&&fe.c(),L=D(),ve&&ve.c(),M=D(),Te&&Te.c(),O=D(),q=h("div"),F=h("div"),W=h("p"),W.textContent=z,U=D(),se=h("p"),G=N(Q),ee=D(),te=h("div"),K=h("p"),K.textContent=R,Y=D(),le=h("p"),de=N(oe),ye=N(" gp"),we=D(),X=h("div"),ue=h("button"),ue.textContent=he,this.h()},l(me){e=p(me,"DIV",{class:!0});var _e=y(e);t=p(_e,"DIV",{class:!0});var Be=y(t);a=p(Be,"DIV",{class:!0});var He=y(a);r=p(He,"BUTTON",{class:!0,"data-svelte-h":!0}),J(r)!=="svelte-drx0cs"&&(r.textContent=n),i=k(He),o=p(He,"DIV",{class:!0});var Pe=y(o);u=p(Pe,"DIV",{class:!0});var ne=y(u);v=S(ne,m),ne.forEach(f),d=k(Pe),b=p(Pe,"DIV",{class:!0});var Ie=y(b);_=p(Ie,"H3",{class:!0});var ze=y(_);g=S(ze,E),ze.forEach(f),C=k(Ie),w=p(Ie,"DIV",{class:!0});var Ge=y(w);I=p(Ge,"SPAN",{class:!0});var je=y(I);x=S(je,A),je.forEach(f),P=k(Ge),Ve&&Ve.l(Ge),B=k(Ge),ke&&ke.l(Ge),T=k(Ge),ce&&ce.l(Ge),Ge.forEach(f),Ie.forEach(f),Pe.forEach(f),He.forEach(f),H=k(Be),V=p(Be,"DIV",{class:!0});var Ne=y(V);fe&&fe.l(Ne),L=k(Ne),ve&&ve.l(Ne),M=k(Ne),Te&&Te.l(Ne),O=k(Ne),q=p(Ne,"DIV",{class:!0});var Oe=y(q);F=p(Oe,"DIV",{class:!0});var Se=y(F);W=p(Se,"P",{class:!0,"data-svelte-h":!0}),J(W)!=="svelte-1x7xzoi"&&(W.textContent=z),U=k(Se),se=p(Se,"P",{class:!0});var Re=y(se);G=S(Re,Q),Re.forEach(f),Se.forEach(f),ee=k(Oe),te=p(Oe,"DIV",{class:!0});var ge=y(te);K=p(ge,"P",{class:!0,"data-svelte-h":!0}),J(K)!=="svelte-1glp02g"&&(K.textContent=R),Y=k(ge),le=p(ge,"P",{class:!0});var Me=y(le);de=S(Me,oe),ye=S(Me," gp"),Me.forEach(f),ge.forEach(f),Oe.forEach(f),Ne.forEach(f),we=k(Be),X=p(Be,"DIV",{class:!0});var re=y(X);ue=p(re,"BUTTON",{class:!0,"data-svelte-h":!0}),J(ue)!=="svelte-13wbmk8"&&(ue.textContent=he),re.forEach(f),Be.forEach(f),_e.forEach(f),this.h()},h(){c(r,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(u,"class","text-5xl"),c(_,"class","font-bold text-3xl font-medieval text-neutral mb-2"),c(I,"class","badge badge-primary"),c(w,"class","flex flex-wrap gap-2"),c(b,"class","flex-1"),c(o,"class","flex items-start gap-4"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(W,"class","text-xs font-medieval text-neutral/60 mb-1"),c(se,"class","text-2xl font-bold text-neutral"),c(F,"class","bg-neutral/10 p-3 rounded-lg border border-primary/20"),c(K,"class","text-xs font-medieval text-neutral/60 mb-1"),c(le,"class","text-2xl font-bold text-neutral"),c(te,"class","bg-warning/10 p-3 rounded-lg border border-warning/30"),c(q,"class","grid grid-cols-2 gap-3"),c(V,"class","flex-1 overflow-y-auto p-6"),c(ue,"class","btn btn-dnd w-full"),c(X,"class","p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-2xl relative max-h-[90vh] flex flex-col"),c(e,"class","modal modal-open z-50")},m(me,_e){j(me,e,_e),s(e,t),s(t,a),s(a,r),s(a,i),s(a,o),s(o,u),s(u,v),s(o,d),s(o,b),s(b,_),s(_,g),s(b,C),s(b,w),s(w,I),s(I,x),s(w,P),Ve&&Ve.m(w,null),s(w,B),ke&&ke.m(w,null),s(w,T),ce&&ce.m(w,null),s(t,H),s(t,V),fe&&fe.m(V,null),s(V,L),ve&&ve.m(V,null),s(V,M),Te&&Te.m(V,null),s(V,O),s(V,q),s(q,F),s(F,W),s(F,U),s(F,se),s(se,G),s(q,ee),s(q,te),s(te,K),s(te,Y),s(te,le),s(le,de),s(le,ye),s(t,we),s(t,X),s(X,ue),Ce||(Fe=[ae(r,"click",l[2]),ae(ue,"click",l[2]),ae(t,"click",kt(l[4])),ae(e,"click",l[2])],Ce=!0)},p(me,_e){_e&2&&m!==(m=Jl(me[1].type)+"")&&$(v,m),_e&2&&E!==(E=me[1].name+"")&&$(g,E),_e&2&&A!==(A=Kl(me[1].type)+"")&&$(x,A),me[1].quantity>1?Ve?Ve.p(me,_e):(Ve=gl(me),Ve.c(),Ve.m(w,B)):Ve&&(Ve.d(1),Ve=null),me[1].value>0?ke?ke.p(me,_e):(ke=El(me),ke.c(),ke.m(w,T)):ke&&(ke.d(1),ke=null),me[1].rarity?ce?ce.p(me,_e):(ce=yl(me),ce.c(),ce.m(w,null)):ce&&(ce.d(1),ce=null),me[1].description?fe?fe.p(me,_e):(fe=Cl(me),fe.c(),fe.m(V,L)):fe&&(fe.d(1),fe=null),me[1].weaponData?ve?ve.p(me,_e):(ve=kl(me),ve.c(),ve.m(V,M)):ve&&(ve.d(1),ve=null),me[1].armorData?Te?Te.p(me,_e):(Te=Ol(me),Te.c(),Te.m(V,O)):Te&&(Te.d(1),Te=null),_e&2&&Q!==(Q=me[1].quantity+"")&&$(G,Q),_e&2&&oe!==(oe=Gt(me[1].value*me[1].quantity)+"")&&$(de,oe)},d(me){me&&f(e),Ve&&Ve.d(),ke&&ke.d(),ce&&ce.d(),fe&&fe.d(),ve&&ve.d(),Te&&Te.d(),Ce=!1,at(Fe)}}}function gl(l){let e,t,a=l[1].quantity+"",r;return{c(){e=h("span"),t=N("√ó"),r=N(a),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);t=S(i,"√ó"),r=S(i,a),i.forEach(f),this.h()},h(){c(e,"class","badge badge-neutral")},m(n,i){j(n,e,i),s(e,t),s(e,r)},p(n,i){i&2&&a!==(a=n[1].quantity+"")&&$(r,a)},d(n){n&&f(e)}}}function El(l){let e,t,a=Gt(l[1].value)+"",r,n;return{c(){e=h("span"),t=N("üí∞ "),r=N(a),n=N(" gp c/u"),this.h()},l(i){e=p(i,"SPAN",{class:!0});var o=y(e);t=S(o,"üí∞ "),r=S(o,a),n=S(o," gp c/u"),o.forEach(f),this.h()},h(){c(e,"class","badge badge-warning")},m(i,o){j(i,e,o),s(e,t),s(e,r),s(e,n)},p(i,o){o&2&&a!==(a=Gt(i[1].value)+"")&&$(r,a)},d(i){i&&f(e)}}}function yl(l){let e,t=l[1].rarity+"",a;return{c(){e=h("span"),a=N(t),this.h()},l(r){e=p(r,"SPAN",{class:!0});var n=y(e);a=S(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-secondary")},m(r,n){j(r,e,n),s(e,a)},p(r,n){n&2&&t!==(t=r[1].rarity+"")&&$(a,t)},d(r){r&&f(e)}}}function Cl(l){let e,t,a="üìñ Descripci√≥n",r,n,i,o=l[1].description+"",u;return{c(){e=h("div"),t=h("h4"),t.textContent=a,r=D(),n=h("div"),i=h("p"),u=N(o),this.h()},l(m){e=p(m,"DIV",{class:!0});var v=y(e);t=p(v,"H4",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-pm9cqs"&&(t.textContent=a),r=k(v),n=p(v,"DIV",{class:!0});var d=y(n);i=p(d,"P",{class:!0});var b=y(i);u=S(b,o),b.forEach(f),d.forEach(f),v.forEach(f),this.h()},h(){c(t,"class","font-medieval text-lg text-neutral mb-2"),c(i,"class","text-neutral/80 font-body whitespace-pre-wrap"),c(n,"class","bg-neutral/10 p-4 rounded-lg border border-primary/20"),c(e,"class","mb-6")},m(m,v){j(m,e,v),s(e,t),s(e,r),s(e,n),s(n,i),s(i,u)},p(m,v){v&2&&o!==(o=m[1].description+"")&&$(u,o)},d(m){m&&f(e)}}}function kl(l){var se,Q;let e,t,a="‚öîÔ∏è Datos de Arma",r,n,i,o,u="TIPO",m,v,d=l[1].weaponData.weaponType+"",b,_,E,g,C="DA√ëO",w,I,A=l[1].weaponData.damageDice+"",x,P,B,T=l[1].weaponData.damageType+"",H,V,L,M,O,q=l[1].weaponData.properties&&Object.keys(l[1].weaponData.properties).length>0,F=l[1].weaponData.magicBonus&&Dl(l),W=((se=l[1].weaponData.properties)==null?void 0:se.range)&&wl(l),z=((Q=l[1].weaponData.properties)==null?void 0:Q.versatile)&&xl(l),U=q&&Tl(l);return{c(){e=h("div"),t=h("h4"),t.textContent=a,r=D(),n=h("div"),i=h("div"),o=h("p"),o.textContent=u,m=D(),v=h("p"),b=N(d),_=D(),E=h("div"),g=h("p"),g.textContent=C,w=D(),I=h("p"),x=N(A),P=D(),B=h("p"),H=N(T),V=D(),F&&F.c(),L=D(),W&&W.c(),M=D(),z&&z.c(),O=D(),U&&U.c(),this.h()},l(G){e=p(G,"DIV",{class:!0});var ee=y(e);t=p(ee,"H4",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-ng0kxz"&&(t.textContent=a),r=k(ee),n=p(ee,"DIV",{class:!0});var te=y(n);i=p(te,"DIV",{class:!0});var K=y(i);o=p(K,"P",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-bx8juq"&&(o.textContent=u),m=k(K),v=p(K,"P",{class:!0});var R=y(v);b=S(R,d),R.forEach(f),K.forEach(f),_=k(te),E=p(te,"DIV",{class:!0});var Y=y(E);g=p(Y,"P",{class:!0,"data-svelte-h":!0}),J(g)!=="svelte-l3cq1j"&&(g.textContent=C),w=k(Y),I=p(Y,"P",{class:!0});var le=y(I);x=S(le,A),le.forEach(f),P=k(Y),B=p(Y,"P",{class:!0});var oe=y(B);H=S(oe,T),oe.forEach(f),Y.forEach(f),V=k(te),F&&F.l(te),L=k(te),W&&W.l(te),M=k(te),z&&z.l(te),te.forEach(f),O=k(ee),U&&U.l(ee),ee.forEach(f),this.h()},h(){c(t,"class","font-medieval text-lg text-neutral mb-3"),c(o,"class","text-xs font-medieval text-neutral/60 mb-1"),c(v,"class","text-lg font-bold text-neutral capitalize"),c(i,"class","bg-primary/10 p-3 rounded-lg border border-primary/30 col-span-2"),c(g,"class","text-xs font-medieval text-neutral/60 mb-1"),c(I,"class","text-xl font-bold text-neutral"),c(B,"class","text-sm text-neutral/70 capitalize"),c(E,"class","bg-error/10 p-3 rounded-lg border border-error/30"),c(n,"class","grid grid-cols-2 gap-3"),c(e,"class","mb-6")},m(G,ee){j(G,e,ee),s(e,t),s(e,r),s(e,n),s(n,i),s(i,o),s(i,m),s(i,v),s(v,b),s(n,_),s(n,E),s(E,g),s(E,w),s(E,I),s(I,x),s(E,P),s(E,B),s(B,H),s(n,V),F&&F.m(n,null),s(n,L),W&&W.m(n,null),s(n,M),z&&z.m(n,null),s(e,O),U&&U.m(e,null)},p(G,ee){var te,K;ee&2&&d!==(d=G[1].weaponData.weaponType+"")&&$(b,d),ee&2&&A!==(A=G[1].weaponData.damageDice+"")&&$(x,A),ee&2&&T!==(T=G[1].weaponData.damageType+"")&&$(H,T),G[1].weaponData.magicBonus?F?F.p(G,ee):(F=Dl(G),F.c(),F.m(n,L)):F&&(F.d(1),F=null),(te=G[1].weaponData.properties)!=null&&te.range?W?W.p(G,ee):(W=wl(G),W.c(),W.m(n,M)):W&&(W.d(1),W=null),(K=G[1].weaponData.properties)!=null&&K.versatile?z?z.p(G,ee):(z=xl(G),z.c(),z.m(n,null)):z&&(z.d(1),z=null),ee&2&&(q=G[1].weaponData.properties&&Object.keys(G[1].weaponData.properties).length>0),q?U?U.p(G,ee):(U=Tl(G),U.c(),U.m(e,null)):U&&(U.d(1),U=null)},d(G){G&&f(e),F&&F.d(),W&&W.d(),z&&z.d(),U&&U.d()}}}function Dl(l){let e,t,a="BONUS M√ÅGICO",r,n,i,o=l[1].weaponData.magicBonus+"",u,m,v,d="Al ataque y da√±o";return{c(){e=h("div"),t=h("p"),t.textContent=a,r=D(),n=h("p"),i=N("+"),u=N(o),m=D(),v=h("p"),v.textContent=d,this.h()},l(b){e=p(b,"DIV",{class:!0});var _=y(e);t=p(_,"P",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1ygfgxp"&&(t.textContent=a),r=k(_),n=p(_,"P",{class:!0});var E=y(n);i=S(E,"+"),u=S(E,o),E.forEach(f),m=k(_),v=p(_,"P",{class:!0,"data-svelte-h":!0}),J(v)!=="svelte-ot632o"&&(v.textContent=d),_.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-2xl font-bold text-success"),c(v,"class","text-xs text-neutral/60"),c(e,"class","bg-success/10 p-3 rounded-lg border border-success/30")},m(b,_){j(b,e,_),s(e,t),s(e,r),s(e,n),s(n,i),s(n,u),s(e,m),s(e,v)},p(b,_){_&2&&o!==(o=b[1].weaponData.magicBonus+"")&&$(u,o)},d(b){b&&f(e)}}}function wl(l){let e,t,a="üéØ ALCANCE",r,n,i,o=l[1].weaponData.properties.range.normal+"",u,m,v=l[1].weaponData.properties.range.max!==l[1].weaponData.properties.range.normal&&Il(l);return{c(){e=h("div"),t=h("p"),t.textContent=a,r=D(),n=h("p"),i=N("Normal: "),u=N(o),m=N(` pies\r
                    `),v&&v.c(),this.h()},l(d){e=p(d,"DIV",{class:!0});var b=y(e);t=p(b,"P",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-tpmsqg"&&(t.textContent=a),r=k(b),n=p(b,"P",{class:!0});var _=y(n);i=S(_,"Normal: "),u=S(_,o),m=S(_,` pies\r
                    `),v&&v.l(_),_.forEach(f),b.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-lg font-bold text-neutral"),c(e,"class","col-span-2 bg-warning/10 p-3 rounded-lg border border-warning/30")},m(d,b){j(d,e,b),s(e,t),s(e,r),s(e,n),s(n,i),s(n,u),s(n,m),v&&v.m(n,null)},p(d,b){b&2&&o!==(o=d[1].weaponData.properties.range.normal+"")&&$(u,o),d[1].weaponData.properties.range.max!==d[1].weaponData.properties.range.normal?v?v.p(d,b):(v=Il(d),v.c(),v.m(n,null)):v&&(v.d(1),v=null)},d(d){d&&f(e),v&&v.d()}}}function Il(l){let e,t=l[1].weaponData.properties.range.max+"",a,r;return{c(){e=N("‚Ä¢ M√°ximo: "),a=N(t),r=N(" pies")},l(n){e=S(n,"‚Ä¢ M√°ximo: "),a=S(n,t),r=S(n," pies")},m(n,i){j(n,e,i),j(n,a,i),j(n,r,i)},p(n,i){i&2&&t!==(t=n[1].weaponData.properties.range.max+"")&&$(a,t)},d(n){n&&(f(e),f(a),f(r))}}}function xl(l){let e,t,a="ü§≤ VERS√ÅTIL",r,n,i=l[1].weaponData.properties.versatile+"",o,u;return{c(){e=h("div"),t=h("p"),t.textContent=a,r=D(),n=h("p"),o=N(i),u=N(" a dos manos"),this.h()},l(m){e=p(m,"DIV",{class:!0});var v=y(e);t=p(v,"P",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-kn83p2"&&(t.textContent=a),r=k(v),n=p(v,"P",{class:!0});var d=y(n);o=S(d,i),u=S(d," a dos manos"),d.forEach(f),v.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-lg font-bold text-neutral"),c(e,"class","col-span-2 bg-success/10 p-3 rounded-lg border border-success/30")},m(m,v){j(m,e,v),s(e,t),s(e,r),s(e,n),s(n,o),s(n,u)},p(m,v){v&2&&i!==(i=m[1].weaponData.properties.versatile+"")&&$(o,i)},d(m){m&&f(e)}}}function Tl(l){let e,t,a="PROPIEDADES",r,n,i,o,u,m,v,d,b,_,E=l[1].weaponData.properties.light&&Vl(),g=l[1].weaponData.properties.finesse&&Al(),C=l[1].weaponData.properties.thrown&&Ll(),w=l[1].weaponData.properties.twoHanded&&Pl(),I=l[1].weaponData.properties.reach&&Sl(),A=l[1].weaponData.properties.loading&&Nl(),x=l[1].weaponData.properties.heavy&&Ml(),P=l[1].weaponData.properties.ammunition&&Bl(),B=l[1].weaponData.properties.versatile&&Hl();return{c(){e=h("div"),t=h("p"),t.textContent=a,r=D(),n=h("div"),E&&E.c(),i=D(),g&&g.c(),o=D(),C&&C.c(),u=D(),w&&w.c(),m=D(),I&&I.c(),v=D(),A&&A.c(),d=D(),x&&x.c(),b=D(),P&&P.c(),_=D(),B&&B.c(),this.h()},l(T){e=p(T,"DIV",{class:!0});var H=y(e);t=p(H,"P",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1wxxjy9"&&(t.textContent=a),r=k(H),n=p(H,"DIV",{class:!0});var V=y(n);E&&E.l(V),i=k(V),g&&g.l(V),o=k(V),C&&C.l(V),u=k(V),w&&w.l(V),m=k(V),I&&I.l(V),v=k(V),A&&A.l(V),d=k(V),x&&x.l(V),b=k(V),P&&P.l(V),_=k(V),B&&B.l(V),V.forEach(f),H.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-2"),c(n,"class","flex flex-wrap gap-2"),c(e,"class","mt-3")},m(T,H){j(T,e,H),s(e,t),s(e,r),s(e,n),E&&E.m(n,null),s(n,i),g&&g.m(n,null),s(n,o),C&&C.m(n,null),s(n,u),w&&w.m(n,null),s(n,m),I&&I.m(n,null),s(n,v),A&&A.m(n,null),s(n,d),x&&x.m(n,null),s(n,b),P&&P.m(n,null),s(n,_),B&&B.m(n,null)},p(T,H){T[1].weaponData.properties.light?E||(E=Vl(),E.c(),E.m(n,i)):E&&(E.d(1),E=null),T[1].weaponData.properties.finesse?g||(g=Al(),g.c(),g.m(n,o)):g&&(g.d(1),g=null),T[1].weaponData.properties.thrown?C||(C=Ll(),C.c(),C.m(n,u)):C&&(C.d(1),C=null),T[1].weaponData.properties.twoHanded?w||(w=Pl(),w.c(),w.m(n,m)):w&&(w.d(1),w=null),T[1].weaponData.properties.reach?I||(I=Sl(),I.c(),I.m(n,v)):I&&(I.d(1),I=null),T[1].weaponData.properties.loading?A||(A=Nl(),A.c(),A.m(n,d)):A&&(A.d(1),A=null),T[1].weaponData.properties.heavy?x||(x=Ml(),x.c(),x.m(n,b)):x&&(x.d(1),x=null),T[1].weaponData.properties.ammunition?P||(P=Bl(),P.c(),P.m(n,_)):P&&(P.d(1),P=null),T[1].weaponData.properties.versatile?B||(B=Hl(),B.c(),B.m(n,null)):B&&(B.d(1),B=null)},d(T){T&&f(e),E&&E.d(),g&&g.d(),C&&C.d(),w&&w.d(),I&&I.d(),A&&A.d(),x&&x.d(),P&&P.d(),B&&B.d()}}}function Vl(l){let e,t="Ligera";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1y27iqk"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-info")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function Al(l){let e,t="Fineza";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-8ktt1o"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-success")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function Ll(l){let e,t="Arrojadiza";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-5ritif"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-warning")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function Pl(l){let e,t="Dos manos";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-ka14v0"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-error")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function Sl(l){let e,t="Alcance";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-uliad1"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-primary")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function Nl(l){let e,t="Recarga";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-11q0pb2"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-ghost")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function Ml(l){let e,t="Pesada";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1p78jor"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-neutral")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function Bl(l){let e,t="Munici√≥n";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-ohlcsu"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-accent")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function Hl(l){let e,t="Vers√°til";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1w0goua"&&(e.textContent=t),this.h()},h(){c(e,"class","badge badge-sm badge-secondary")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function Ol(l){let e,t,a="üõ°Ô∏è Datos de Armadura",r,n,i,o,u="TIPO",m,v,d=l[1].armorData.armorType+"",b,_,E,g,C="CLASE DE ARMADURA",w,I,A,x,P,B;function T(F,W){return F[1].armorData.armorType==="Shield"?Er:gr}let H=T(l),V=H(l),L=l[1].armorData.magicBonus&&ql(l),M=l[1].armorData&&jl(l),O=l[1].armorData.strengthRequirement&&l[1].armorData.strengthRequirement>0&&Gl(l),q=l[1].armorData.stealthDisadvantage&&Ql();return{c(){e=h("div"),t=h("h4"),t.textContent=a,r=D(),n=h("div"),i=h("div"),o=h("p"),o.textContent=u,m=D(),v=h("p"),b=N(d),_=D(),E=h("div"),g=h("p"),g.textContent=C,w=D(),I=h("p"),V.c(),A=D(),L&&L.c(),x=D(),M&&M.c(),P=D(),O&&O.c(),B=D(),q&&q.c(),this.h()},l(F){e=p(F,"DIV",{class:!0});var W=y(e);t=p(W,"H4",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-115vair"&&(t.textContent=a),r=k(W),n=p(W,"DIV",{class:!0});var z=y(n);i=p(z,"DIV",{class:!0});var U=y(i);o=p(U,"P",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-bx8juq"&&(o.textContent=u),m=k(U),v=p(U,"P",{class:!0});var se=y(v);b=S(se,d),se.forEach(f),U.forEach(f),_=k(z),E=p(z,"DIV",{class:!0});var Q=y(E);g=p(Q,"P",{class:!0,"data-svelte-h":!0}),J(g)!=="svelte-1skf8w4"&&(g.textContent=C),w=k(Q),I=p(Q,"P",{class:!0});var G=y(I);V.l(G),A=k(G),L&&L.l(G),G.forEach(f),Q.forEach(f),x=k(z),M&&M.l(z),P=k(z),O&&O.l(z),B=k(z),q&&q.l(z),z.forEach(f),W.forEach(f),this.h()},h(){c(t,"class","font-medieval text-lg text-neutral mb-3"),c(o,"class","text-xs font-medieval text-neutral/60 mb-1"),c(v,"class","text-lg font-bold text-neutral capitalize"),c(i,"class","bg-primary/10 p-3 rounded-lg border border-primary/30 col-span-2"),c(g,"class","text-xs font-medieval text-neutral/60 mb-1"),c(I,"class","text-2xl font-bold text-neutral"),c(E,"class","bg-info/10 p-3 rounded-lg border border-info/30"),c(n,"class","grid grid-cols-2 gap-3"),c(e,"class","mb-6")},m(F,W){j(F,e,W),s(e,t),s(e,r),s(e,n),s(n,i),s(i,o),s(i,m),s(i,v),s(v,b),s(n,_),s(n,E),s(E,g),s(E,w),s(E,I),V.m(I,null),s(I,A),L&&L.m(I,null),s(n,x),M&&M.m(n,null),s(n,P),O&&O.m(n,null),s(n,B),q&&q.m(n,null)},p(F,W){W&2&&d!==(d=F[1].armorData.armorType+"")&&$(b,d),H===(H=T(F))&&V?V.p(F,W):(V.d(1),V=H(F),V&&(V.c(),V.m(I,A))),F[1].armorData.magicBonus?L?L.p(F,W):(L=ql(F),L.c(),L.m(I,null)):L&&(L.d(1),L=null),F[1].armorData?M?M.p(F,W):(M=jl(F),M.c(),M.m(n,P)):M&&(M.d(1),M=null),F[1].armorData.strengthRequirement&&F[1].armorData.strengthRequirement>0?O?O.p(F,W):(O=Gl(F),O.c(),O.m(n,B)):O&&(O.d(1),O=null),F[1].armorData.stealthDisadvantage?q||(q=Ql(),q.c(),q.m(n,null)):q&&(q.d(1),q=null)},d(F){F&&f(e),V.d(),L&&L.d(),M&&M.d(),O&&O.d(),q&&q.d()}}}function gr(l){let e=l[1].armorData.baseAC+"",t;return{c(){t=N(e)},l(a){t=S(a,e)},m(a,r){j(a,t,r)},p(a,r){r&2&&e!==(e=a[1].armorData.baseAC+"")&&$(t,e)},d(a){a&&f(t)}}}function Er(l){let e,t="2",a;return{c(){e=N("+"),a=N(t)},l(r){e=S(r,"+"),a=S(r,t)},m(r,n){j(r,e,n),j(r,a,n)},p:Ke,d(r){r&&(f(e),f(a))}}}function ql(l){let e,t,a=l[1].armorData.magicBonus+"",r;return{c(){e=h("span"),t=N("+"),r=N(a),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);t=S(i,"+"),r=S(i,a),i.forEach(f),this.h()},h(){c(e,"class","text-success")},m(n,i){j(n,e,i),s(e,t),s(e,r)},p(n,i){i&2&&a!==(a=n[1].armorData.magicBonus+"")&&$(r,a)},d(n){n&&f(e)}}}function jl(l){let e,t,a="MODIFICADOR DES",r,n,i,o,u,m=l[1].armorData.armorType==="Light Armor"&&Fl(),v=l[1].armorData.armorType==="Medium Armor"&&Ul(),d=l[1].armorData.armorType==="Heavy Armor"&&zl(),b=l[1].armorData.armorType==="Shield"&&Rl();return{c(){e=h("div"),t=h("p"),t.textContent=a,r=D(),n=h("p"),m&&m.c(),i=D(),v&&v.c(),o=D(),d&&d.c(),u=D(),b&&b.c(),this.h()},l(_){e=p(_,"DIV",{class:!0});var E=y(e);t=p(E,"P",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1nnjn91"&&(t.textContent=a),r=k(E),n=p(E,"P",{class:!0});var g=y(n);m&&m.l(g),i=k(g),v&&v.l(g),o=k(g),d&&d.l(g),u=k(g),b&&b.l(g),g.forEach(f),E.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-lg font-bold text-neutral"),c(e,"class","bg-success/10 p-3 rounded-lg border border-success/30")},m(_,E){j(_,e,E),s(e,t),s(e,r),s(e,n),m&&m.m(n,null),s(n,i),v&&v.m(n,null),s(n,o),d&&d.m(n,null),s(n,u),b&&b.m(n,null)},p(_,E){_[1].armorData.armorType==="Light Armor"?m||(m=Fl(),m.c(),m.m(n,i)):m&&(m.d(1),m=null),_[1].armorData.armorType==="Medium Armor"?v||(v=Ul(),v.c(),v.m(n,o)):v&&(v.d(1),v=null),_[1].armorData.armorType==="Heavy Armor"?d||(d=zl(),d.c(),d.m(n,u)):d&&(d.d(1),d=null),_[1].armorData.armorType==="Shield"?b||(b=Rl(),b.c(),b.m(n,null)):b&&(b.d(1),b=null)},d(_){_&&f(e),m&&m.d(),v&&v.d(),d&&d.d(),b&&b.d()}}}function Fl(l){let e;return{c(){e=N("Completo")},l(t){e=S(t,"Completo")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Ul(l){let e;return{c(){e=N("M√°ximo +2")},l(t){e=S(t,"M√°ximo +2")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function zl(l){let e;return{c(){e=N("Sin modificador")},l(t){e=S(t,"Sin modificador")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Rl(l){let e;return{c(){e=N("Sin modificador")},l(t){e=S(t,"Sin modificador")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Gl(l){let e,t,a="REQ. FUERZA",r,n,i=l[1].armorData.strengthRequirement+"",o,u,m,v="Requerido para uso completo";return{c(){e=h("div"),t=h("p"),t.textContent=a,r=D(),n=h("p"),o=N(i),u=D(),m=h("p"),m.textContent=v,this.h()},l(d){e=p(d,"DIV",{class:!0});var b=y(e);t=p(b,"P",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-xatstb"&&(t.textContent=a),r=k(b),n=p(b,"P",{class:!0});var _=y(n);o=S(_,i),_.forEach(f),u=k(b),m=p(b,"P",{class:!0,"data-svelte-h":!0}),J(m)!=="svelte-1rmeg3m"&&(m.textContent=v),b.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-1"),c(n,"class","text-2xl font-bold text-neutral"),c(m,"class","text-xs text-neutral/60"),c(e,"class","bg-warning/10 p-3 rounded-lg border border-warning/30")},m(d,b){j(d,e,b),s(e,t),s(e,r),s(e,n),s(n,o),s(e,u),s(e,m)},p(d,b){b&2&&i!==(i=d[1].armorData.strengthRequirement+"")&&$(o,i)},d(d){d&&f(e)}}}function Ql(l){let e,t='<p class="text-center"><span class="text-2xl">‚ö†Ô∏è</span> <span class="font-medieval text-neutral ml-2">Desventaja en Sigilo</span></p>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1bgu9r2"&&(e.innerHTML=t),this.h()},h(){c(e,"class","col-span-2 bg-error/10 p-3 rounded-lg border border-error/30")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function yr(l){let e,t=l[0]&&l[1]&&_l(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,r){t&&t.m(a,r),j(a,e,r)},p(a,[r]){a[0]&&a[1]?t?t.p(a,r):(t=_l(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ke,o:Ke,d(a){a&&f(e),t&&t.d(a)}}}function Gt(l){return l%1===0?l.toString():l.toFixed(2)}function Jl(l){return{weapon:"‚öîÔ∏è",armor:"üõ°Ô∏è",shield:"üõ°Ô∏è",tool:"üîß",consumable:"üß™",treasure:"üíé",other:"üì¶"}[l]||"üì¶"}function Kl(l){return{weapon:"Arma",armor:"Armadura",shield:"Escudo",tool:"Herramienta",consumable:"Consumible",treasure:"Tesoro",other:"Otro"}[l]||"Item"}function Cr(l,e,t){let{isOpen:a=!1}=e,{item:r=null}=e,{character:n=null}=e;const i=Ot();function o(){i("close")}function u(m){Mt.call(this,l,m)}return l.$$set=m=>{"isOpen"in m&&t(0,a=m.isOpen),"item"in m&&t(1,r=m.item),"character"in m&&t(3,n=m.character)},[a,r,o,n,u]}class kr extends Dt{constructor(e){super(),wt(this,e,Cr,yr,It,{isOpen:0,item:1,character:3})}}function Dr(l){let e,t,a,r="üö´",n,i,o="Acceso Denegado",u,m,v="Solo el due√±o del personaje puede modificar items.",d,b,_="Entendido",E,g;return{c(){e=h("div"),t=h("div"),a=h("div"),a.textContent=r,n=D(),i=h("h3"),i.textContent=o,u=D(),m=h("p"),m.textContent=v,d=D(),b=h("button"),b.textContent=_,this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);a=p(I,"DIV",{class:!0,"data-svelte-h":!0}),J(a)!=="svelte-13ghcez"&&(a.textContent=r),n=k(I),i=p(I,"H3",{class:!0,"data-svelte-h":!0}),J(i)!=="svelte-13fk1x3"&&(i.textContent=o),u=k(I),m=p(I,"P",{class:!0,"data-svelte-h":!0}),J(m)!=="svelte-1va22cv"&&(m.textContent=v),d=k(I),b=p(I,"BUTTON",{class:!0,"data-svelte-h":!0}),J(b)!=="svelte-1fvcsye"&&(b.textContent=_),I.forEach(f),w.forEach(f),this.h()},h(){c(a,"class","text-6xl mb-4"),c(i,"class","text-2xl font-medieval text-neutral mb-3"),c(m,"class","text-neutral/70 font-body mb-6"),c(b,"class","btn btn-dnd"),c(t,"class","card-parchment border-4 border-error w-11/12 max-w-md text-center p-8"),c(e,"class","modal modal-open z-50")},m(C,w){j(C,e,w),s(e,t),s(t,a),s(t,n),s(t,i),s(t,u),s(t,m),s(t,d),s(t,b),E||(g=[ae(b,"click",l[10]),ae(e,"click",l[10])],E=!0)},p:Ke,d(C){C&&f(e),E=!1,at(g)}}}function wr(l){let e,t,a,r,n="‚úï",i,o,u="‚úèÔ∏è Modificar Item",m,v,d="Edita los detalles de tu objeto",b,_,E,g,C='<span class="label-text font-medieval text-neutral text-lg">Nombre <span class="text-error">*</span></span>',w,I,A,x,P,B,T,H,V='<span class="label-text font-medieval text-neutral">Cantidad</span>',L,M,O,q,F,W,z,U,se,Q,G,ee,te,K,R,Y,le='<span class="label-text font-medieval text-neutral">Valor (gp)</span>',oe,de,ye,we,X,ue,he,Ce,Fe='<span class="label-text font-medieval text-neutral text-lg">Descripci√≥n</span>',Ve,ke,ce,fe,ve,Te,me,_e,Be,He="Cancelar",Pe,ne,Ie,ze="üíæ",Ge,je=l[6]?"Guardar Cambios":"Sin Cambios",Ne,Oe,Se,Re,ge=l[4].name&&l[5].name&&Wl(l);function Me(pe,qe){return pe[4].quantity&&pe[5].quantity?xr:Ir}let re=Me(l),Ae=re(l);function Z(pe,qe){return pe[4].value&&pe[5].value?Pr:Lr}let be=Z(l),Le=be(l),ie=l[3].quantity>1&&Xl(l);function De(pe,qe){return pe[4].description&&pe[5].description?Nr:Sr}let Ee=De(l),Qe=Ee(l),Xe=(l[1].weaponData||l[1].armorData)&&Yl(l),We=(l[1].weaponData||l[1].armorData)&&ea(l);return{c(){e=h("div"),t=h("div"),a=h("div"),r=h("button"),r.textContent=n,i=D(),o=h("h3"),o.textContent=u,m=D(),v=h("p"),v.textContent=d,b=D(),_=h("div"),E=h("div"),g=h("label"),g.innerHTML=C,w=D(),I=h("input"),x=D(),ge&&ge.c(),P=D(),B=h("div"),T=h("div"),H=h("label"),H.innerHTML=V,L=D(),M=h("div"),O=h("button"),q=N("‚ûñ"),W=D(),z=h("input"),se=D(),Q=h("button"),G=N("‚ûï"),te=D(),Ae.c(),K=D(),R=h("div"),Y=h("label"),Y.innerHTML=le,oe=D(),de=h("input"),we=D(),Le.c(),X=D(),ie&&ie.c(),ue=D(),he=h("div"),Ce=h("label"),Ce.innerHTML=Fe,Ve=D(),ke=h("textarea"),fe=D(),Qe.c(),ve=D(),Xe&&Xe.c(),Te=D(),We&&We.c(),me=D(),_e=h("div"),Be=h("button"),Be.textContent=He,Pe=D(),ne=h("button"),Ie=h("span"),Ie.textContent=ze,Ge=D(),Ne=N(je),this.h()},l(pe){e=p(pe,"DIV",{class:!0});var qe=y(e);t=p(qe,"DIV",{class:!0});var et=y(t);a=p(et,"DIV",{class:!0});var st=y(a);r=p(st,"BUTTON",{class:!0,"data-svelte-h":!0}),J(r)!=="svelte-drx0cs"&&(r.textContent=n),i=k(st),o=p(st,"H3",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-xx3jjx"&&(o.textContent=u),m=k(st),v=p(st,"P",{class:!0,"data-svelte-h":!0}),J(v)!=="svelte-d9zk7o"&&(v.textContent=d),st.forEach(f),b=k(et),_=p(et,"DIV",{class:!0});var tt=y(_);E=p(tt,"DIV",{class:!0});var ut=y(E);g=p(ut,"LABEL",{class:!0,"data-svelte-h":!0}),J(g)!=="svelte-1dje1j3"&&(g.innerHTML=C),w=k(ut),I=p(ut,"INPUT",{type:!0,placeholder:!0,class:!0}),x=k(ut),ge&&ge.l(ut),ut.forEach(f),P=k(tt),B=p(tt,"DIV",{class:!0});var pt=y(B);T=p(pt,"DIV",{class:!0});var ft=y(T);H=p(ft,"LABEL",{class:!0,"data-svelte-h":!0}),J(H)!=="svelte-1x30kpx"&&(H.innerHTML=V),L=k(ft),M=p(ft,"DIV",{class:!0});var dt=y(M);O=p(dt,"BUTTON",{type:!0,class:!0});var Vt=y(O);q=S(Vt,"‚ûñ"),Vt.forEach(f),W=k(dt),z=p(dt,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),se=k(dt),Q=p(dt,"BUTTON",{type:!0,class:!0});var vt=y(Q);G=S(vt,"‚ûï"),vt.forEach(f),dt.forEach(f),te=k(ft),Ae.l(ft),ft.forEach(f),K=k(pt),R=p(pt,"DIV",{class:!0});var ht=y(R);Y=p(ht,"LABEL",{class:!0,"data-svelte-h":!0}),J(Y)!=="svelte-julzfr"&&(Y.innerHTML=le),oe=k(ht),de=p(ht,"INPUT",{type:!0,min:!0,step:!0,class:!0}),we=k(ht),Le.l(ht),ht.forEach(f),pt.forEach(f),X=k(tt),ie&&ie.l(tt),ue=k(tt),he=p(tt,"DIV",{class:!0});var ot=y(he);Ce=p(ot,"LABEL",{class:!0,"data-svelte-h":!0}),J(Ce)!=="svelte-7selh1"&&(Ce.innerHTML=Fe),Ve=k(ot),ke=p(ot,"TEXTAREA",{placeholder:!0,class:!0}),y(ke).forEach(f),fe=k(ot),Qe.l(ot),ot.forEach(f),ve=k(tt),Xe&&Xe.l(tt),Te=k(tt),We&&We.l(tt),tt.forEach(f),me=k(et),_e=p(et,"DIV",{class:!0});var ct=y(_e);Be=p(ct,"BUTTON",{class:!0,"data-svelte-h":!0}),J(Be)!=="svelte-kn08kh"&&(Be.textContent=He),Pe=k(ct),ne=p(ct,"BUTTON",{class:!0});var qt=y(ne);Ie=p(qt,"SPAN",{class:!0,"data-svelte-h":!0}),J(Ie)!=="svelte-fwlof0"&&(Ie.textContent=ze),Ge=k(qt),Ne=S(qt,je),qt.forEach(f),ct.forEach(f),et.forEach(f),qe.forEach(f),this.h()},h(){c(r,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-3xl font-medieval text-neutral text-center"),c(v,"class","text-center text-neutral/60 font-body italic mt-2"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(g,"class","label"),c(I,"type","text"),c(I,"placeholder","Nombre del item"),c(I,"class",A="input input-bordered bg-[#2d241c] text-base-content "+(l[4].name&&l[5].name?"border-error border-2":"border-primary/50")),I.required=!0,c(E,"class","form-control"),c(H,"class","label"),c(O,"type","button"),c(O,"class","btn btn-outline join-item flex-shrink-0"),O.disabled=F=l[3].quantity<=0,c(z,"type","number"),c(z,"min","0"),c(z,"max","999"),c(z,"step","1"),c(z,"class",U="input input-bordered bg-[#2d241c] text-base-content "+(l[4].quantity&&l[5].quantity?"border-error border-2":"border-primary/50")+" join-item text-center flex-1 w-full"),c(Q,"type","button"),c(Q,"class","btn btn-outline join-item flex-shrink-0"),Q.disabled=ee=l[3].quantity>=999,c(M,"class","join w-full"),c(T,"class","form-control"),c(Y,"class","label"),c(de,"type","number"),c(de,"min","0"),c(de,"step","0.01"),c(de,"class",ye="input input-bordered bg-[#2d241c] text-base-content "+(l[4].value&&l[5].value?"border-error border-2":"border-primary/50")),c(R,"class","form-control"),c(B,"class","grid grid-cols-2 gap-4"),c(Ce,"class","label"),c(ke,"placeholder","Descripci√≥n del item..."),c(ke,"class",ce="textarea textarea-bordered bg-[#2d241c] text-base-content "+(l[4].description&&l[5].description?"border-error border-2":"border-primary/50")+" h-32 resize-none"),c(he,"class","form-control"),c(_,"class","flex-1 overflow-y-auto p-6 space-y-4"),c(Be,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),c(Ie,"class","text-xl"),c(ne,"class","btn btn-dnd"),ne.disabled=Oe=!l[7]||!l[6],c(_e,"class","flex justify-center gap-4 p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-2xl relative max-h-[90vh] flex flex-col"),c(e,"class","modal modal-open z-50")},m(pe,qe){j(pe,e,qe),s(e,t),s(t,a),s(a,r),s(a,i),s(a,o),s(a,m),s(a,v),s(t,b),s(t,_),s(_,E),s(E,g),s(E,w),s(E,I),xe(I,l[3].name),s(E,x),ge&&ge.m(E,null),s(_,P),s(_,B),s(B,T),s(T,H),s(T,L),s(T,M),s(M,O),s(O,q),s(M,W),s(M,z),xe(z,l[3].quantity),s(M,se),s(M,Q),s(Q,G),s(T,te),Ae.m(T,null),s(B,K),s(B,R),s(R,Y),s(R,oe),s(R,de),xe(de,l[3].value),s(R,we),Le.m(R,null),s(_,X),ie&&ie.m(_,null),s(_,ue),s(_,he),s(he,Ce),s(he,Ve),s(he,ke),xe(ke,l[3].description),s(he,fe),Qe.m(he,null),s(_,ve),Xe&&Xe.m(_,null),s(_,Te),We&&We.m(_,null),s(t,me),s(t,_e),s(_e,Be),s(_e,Pe),s(_e,ne),s(ne,Ie),s(ne,Ge),s(ne,Ne),Se||(Re=[ae(r,"click",l[10]),ae(I,"input",l[17]),ae(I,"input",l[18]),ae(I,"blur",l[19]),ae(O,"click",l[12]),ae(z,"input",l[20]),ae(z,"input",l[21]),ae(z,"blur",l[22]),ae(z,"change",l[13]),ae(Q,"click",l[11]),ae(de,"input",l[23]),ae(de,"input",l[24]),ae(de,"blur",l[25]),ae(ke,"input",l[26]),ae(ke,"blur",l[27]),ae(Be,"click",l[10]),ae(ne,"click",l[9]),ae(t,"click",kt(l[16])),ae(e,"click",l[10])],Se=!0)},p(pe,qe){qe[0]&48&&A!==(A="input input-bordered bg-[#2d241c] text-base-content "+(pe[4].name&&pe[5].name?"border-error border-2":"border-primary/50"))&&c(I,"class",A),qe[0]&8&&I.value!==pe[3].name&&xe(I,pe[3].name),pe[4].name&&pe[5].name?ge?ge.p(pe,qe):(ge=Wl(pe),ge.c(),ge.m(E,null)):ge&&(ge.d(1),ge=null),qe[0]&8&&F!==(F=pe[3].quantity<=0)&&(O.disabled=F),qe[0]&48&&U!==(U="input input-bordered bg-[#2d241c] text-base-content "+(pe[4].quantity&&pe[5].quantity?"border-error border-2":"border-primary/50")+" join-item text-center flex-1 w-full")&&c(z,"class",U),qe[0]&8&&Ue(z.value)!==pe[3].quantity&&xe(z,pe[3].quantity),qe[0]&8&&ee!==(ee=pe[3].quantity>=999)&&(Q.disabled=ee),re===(re=Me(pe))&&Ae?Ae.p(pe,qe):(Ae.d(1),Ae=re(pe),Ae&&(Ae.c(),Ae.m(T,null))),qe[0]&48&&ye!==(ye="input input-bordered bg-[#2d241c] text-base-content "+(pe[4].value&&pe[5].value?"border-error border-2":"border-primary/50"))&&c(de,"class",ye),qe[0]&8&&Ue(de.value)!==pe[3].value&&xe(de,pe[3].value),be===(be=Z(pe))&&Le?Le.p(pe,qe):(Le.d(1),Le=be(pe),Le&&(Le.c(),Le.m(R,null))),pe[3].quantity>1?ie?ie.p(pe,qe):(ie=Xl(pe),ie.c(),ie.m(_,ue)):ie&&(ie.d(1),ie=null),qe[0]&48&&ce!==(ce="textarea textarea-bordered bg-[#2d241c] text-base-content "+(pe[4].description&&pe[5].description?"border-error border-2":"border-primary/50")+" h-32 resize-none")&&c(ke,"class",ce),qe[0]&8&&xe(ke,pe[3].description),Ee===(Ee=De(pe))&&Qe?Qe.p(pe,qe):(Qe.d(1),Qe=Ee(pe),Qe&&(Qe.c(),Qe.m(he,null))),pe[1].weaponData||pe[1].armorData?Xe?Xe.p(pe,qe):(Xe=Yl(pe),Xe.c(),Xe.m(_,Te)):Xe&&(Xe.d(1),Xe=null),pe[1].weaponData||pe[1].armorData?We?We.p(pe,qe):(We=ea(pe),We.c(),We.m(_,null)):We&&(We.d(1),We=null),qe[0]&64&&je!==(je=pe[6]?"Guardar Cambios":"Sin Cambios")&&$(Ne,je),qe[0]&192&&Oe!==(Oe=!pe[7]||!pe[6])&&(ne.disabled=Oe)},d(pe){pe&&f(e),ge&&ge.d(),Ae.d(),Le.d(),ie&&ie.d(),Qe.d(),Xe&&Xe.d(),We&&We.d(),Se=!1,at(Re)}}}function Wl(l){let e,t,a,r=l[4].name+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&16&&r!==(r=i[4].name+"")&&$(n,r)},d(i){i&&f(e)}}}function Ir(l){let e,t;function a(i,o){return i[3].quantity===0?Ar:i[3].quantity>99?Vr:Tr}let r=a(l),n=r(l);return{c(){e=h("label"),t=h("span"),n.c(),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);n.l(u),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-neutral/60 italic text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),n.m(t,null)},p(i,o){r!==(r=a(i))&&(n.d(1),n=r(i),n&&(n.c(),n.m(t,null)))},d(i){i&&f(e),n.d()}}}function xr(l){let e,t,a,r=l[4].quantity+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&16&&r!==(r=i[4].quantity+"")&&$(n,r)},d(i){i&&f(e)}}}function Tr(l){let e;return{c(){e=N("Cantidad disponible")},l(t){e=S(t,"Cantidad disponible")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Vr(l){let e;return{c(){e=N("üì¶ Gran cantidad de items")},l(t){e=S(t,"üì¶ Gran cantidad de items")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Ar(l){let e;return{c(){e=N("‚ö†Ô∏è Si llegas a 0, el item se eliminar√°")},l(t){e=S(t,"‚ö†Ô∏è Si llegas a 0, el item se eliminar√°")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Lr(l){let e,t='<span class="label-text-alt text-neutral/60 italic text-xs">Precio por unidad</span>';return{c(){e=h("label"),e.innerHTML=t,this.h()},l(a){e=p(a,"LABEL",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1gshcwu"&&(e.innerHTML=t),this.h()},h(){c(e,"class","label")},m(a,r){j(a,e,r)},p:Ke,d(a){a&&f(e)}}}function Pr(l){let e,t,a,r=l[4].value+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&16&&r!==(r=i[4].value+"")&&$(n,r)},d(i){i&&f(e)}}}function Xl(l){let e,t,a,r="üí∞ Valor Total:",n,i,o=(l[3].value*l[3].quantity).toFixed(2)+"",u,m;return{c(){e=h("div"),t=h("div"),a=h("span"),a.textContent=r,n=D(),i=h("span"),u=N(o),m=N(" gp"),this.h()},l(v){e=p(v,"DIV",{class:!0});var d=y(e);t=p(d,"DIV",{class:!0});var b=y(t);a=p(b,"SPAN",{class:!0,"data-svelte-h":!0}),J(a)!=="svelte-1tcs01g"&&(a.textContent=r),n=k(b),i=p(b,"SPAN",{class:!0});var _=y(i);u=S(_,o),m=S(_," gp"),_.forEach(f),b.forEach(f),d.forEach(f),this.h()},h(){c(a,"class","font-medieval text-neutral"),c(i,"class","text-2xl font-bold text-neutral"),c(t,"class","flex justify-between items-center"),c(e,"class","bg-warning/10 p-3 rounded-lg border border-warning/30")},m(v,d){j(v,e,d),s(e,t),s(t,a),s(t,n),s(t,i),s(i,u),s(i,m)},p(v,d){d[0]&8&&o!==(o=(v[3].value*v[3].quantity).toFixed(2)+"")&&$(u,o)},d(v){v&&f(e)}}}function Sr(l){let e,t='<span class="label-text-alt text-neutral/60 italic text-xs">Informaci√≥n adicional sobre el item</span>';return{c(){e=h("label"),e.innerHTML=t,this.h()},l(a){e=p(a,"LABEL",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1unjb8"&&(e.innerHTML=t),this.h()},h(){c(e,"class","label")},m(a,r){j(a,e,r)},p:Ke,d(a){a&&f(e)}}}function Nr(l){let e,t,a,r=l[4].description+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&16&&r!==(r=i[4].description+"")&&$(n,r)},d(i){i&&f(e)}}}function Yl(l){let e,t="‚ö° Bonus M√°gicos",a,r,n,i=l[1].weaponData&&Zl(l),o=l[1].armorData&&$l(l);return{c(){e=h("div"),e.textContent=t,a=D(),i&&i.c(),r=D(),o&&o.c(),n=Ye(),this.h()},l(u){e=p(u,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-19r1se0"&&(e.textContent=t),a=k(u),i&&i.l(u),r=k(u),o&&o.l(u),n=Ye(),this.h()},h(){c(e,"class","divider text-neutral/50")},m(u,m){j(u,e,m),j(u,a,m),i&&i.m(u,m),j(u,r,m),o&&o.m(u,m),j(u,n,m)},p(u,m){u[1].weaponData?i?i.p(u,m):(i=Zl(u),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null),u[1].armorData?o?o.p(u,m):(o=$l(u),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(u){u&&(f(e),f(a),f(r),f(n)),i&&i.d(u),o&&o.d(u)}}}function Zl(l){let e,t,a='<span class="label-text font-medieval text-neutral">‚öîÔ∏è Bonus de Ataque/Da√±o</span>',r,n,i,o,u='<span class="label-text-alt text-neutral/60 italic text-xs">+0 a +5 (t√≠pico para armas m√°gicas)</span>',m,v;return{c(){e=h("div"),t=h("label"),t.innerHTML=a,r=D(),n=h("input"),i=D(),o=h("label"),o.innerHTML=u,this.h()},l(d){e=p(d,"DIV",{class:!0});var b=y(e);t=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1i1mik1"&&(t.innerHTML=a),r=k(b),n=p(b,"INPUT",{type:!0,min:!0,max:!0,class:!0}),i=k(b),o=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-yrmf50"&&(o.innerHTML=u),b.forEach(f),this.h()},h(){c(t,"class","label"),c(n,"type","number"),c(n,"min","0"),c(n,"max","5"),c(n,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-24"),c(o,"class","label"),c(e,"class","form-control")},m(d,b){j(d,e,b),s(e,t),s(e,r),s(e,n),xe(n,l[3].weaponMagicBonus),s(e,i),s(e,o),m||(v=ae(n,"input",l[28]),m=!0)},p(d,b){b[0]&8&&Ue(n.value)!==d[3].weaponMagicBonus&&xe(n,d[3].weaponMagicBonus)},d(d){d&&f(e),m=!1,v()}}}function $l(l){let e,t,a='<span class="label-text font-medieval text-neutral">üõ°Ô∏è Bonus de AC</span>',r,n,i,o,u='<span class="label-text-alt text-neutral/60 italic text-xs">+0 a +3 (t√≠pico para armaduras m√°gicas)</span>',m,v;return{c(){e=h("div"),t=h("label"),t.innerHTML=a,r=D(),n=h("input"),i=D(),o=h("label"),o.innerHTML=u,this.h()},l(d){e=p(d,"DIV",{class:!0});var b=y(e);t=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-h7myuy"&&(t.innerHTML=a),r=k(b),n=p(b,"INPUT",{type:!0,min:!0,max:!0,class:!0}),i=k(b),o=p(b,"LABEL",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-62w0n8"&&(o.innerHTML=u),b.forEach(f),this.h()},h(){c(t,"class","label"),c(n,"type","number"),c(n,"min","0"),c(n,"max","3"),c(n,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-24"),c(o,"class","label"),c(e,"class","form-control")},m(d,b){j(d,e,b),s(e,t),s(e,r),s(e,n),xe(n,l[3].armorMagicBonus),s(e,i),s(e,o),m||(v=ae(n,"input",l[29]),m=!0)},p(d,b){b[0]&8&&Ue(n.value)!==d[3].armorMagicBonus&&xe(n,d[3].armorMagicBonus)},d(d){d&&f(e),m=!1,v()}}}function ea(l){let e,t="üìä Estad√≠sticas Base",a,r,n,i=l[1].weaponData&&ta(l),o=l[1].armorData&&la(l);return{c(){e=h("div"),e.textContent=t,a=D(),i&&i.c(),r=D(),o&&o.c(),n=Ye(),this.h()},l(u){e=p(u,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1waewyq"&&(e.textContent=t),a=k(u),i&&i.l(u),r=k(u),o&&o.l(u),n=Ye(),this.h()},h(){c(e,"class","divider text-neutral/50")},m(u,m){j(u,e,m),j(u,a,m),i&&i.m(u,m),j(u,r,m),o&&o.m(u,m),j(u,n,m)},p(u,m){u[1].weaponData?i?i.p(u,m):(i=ta(u),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null),u[1].armorData?o?o.p(u,m):(o=la(u),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(u){u&&(f(e),f(a),f(r),f(n)),i&&i.d(u),o&&o.d(u)}}}function ta(l){let e,t,a="‚öîÔ∏è Datos de Arma",r,n,i,o,u="Da√±o Base:",m,v,d=l[1].weaponData.damageDice+"",b,_,E=l[1].weaponData.damageType+"",g,C,w,I,A="Tipo:",x,P,B=l[1].weaponData.weaponType.replace("_"," ")+"",T,H,V,L="* El da√±o base y tipo no son editables";return{c(){e=h("div"),t=h("p"),t.textContent=a,r=D(),n=h("div"),i=h("div"),o=h("span"),o.textContent=u,m=D(),v=h("span"),b=N(d),_=D(),g=N(E),C=D(),w=h("div"),I=h("span"),I.textContent=A,x=D(),P=h("span"),T=N(B),H=D(),V=h("p"),V.textContent=L,this.h()},l(M){e=p(M,"DIV",{class:!0});var O=y(e);t=p(O,"P",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-jconqs"&&(t.textContent=a),r=k(O),n=p(O,"DIV",{class:!0});var q=y(n);i=p(q,"DIV",{});var F=y(i);o=p(F,"SPAN",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-1daq6lz"&&(o.textContent=u),m=k(F),v=p(F,"SPAN",{class:!0});var W=y(v);b=S(W,d),_=k(W),g=S(W,E),W.forEach(f),F.forEach(f),C=k(q),w=p(q,"DIV",{});var z=y(w);I=p(z,"SPAN",{class:!0,"data-svelte-h":!0}),J(I)!=="svelte-hs3lz9"&&(I.textContent=A),x=k(z),P=p(z,"SPAN",{class:!0});var U=y(P);T=S(U,B),U.forEach(f),z.forEach(f),q.forEach(f),H=k(O),V=p(O,"P",{class:!0,"data-svelte-h":!0}),J(V)!=="svelte-1sqtuh2"&&(V.textContent=L),O.forEach(f),this.h()},h(){c(t,"class","font-medieval text-neutral font-bold mb-2"),c(o,"class","text-neutral/60"),c(v,"class","font-bold ml-2"),c(I,"class","text-neutral/60"),c(P,"class","font-bold ml-2 capitalize"),c(n,"class","grid grid-cols-2 gap-2 text-sm"),c(V,"class","text-xs text-neutral/60 italic mt-2"),c(e,"class","bg-error/10 p-4 rounded-lg border border-error/30")},m(M,O){j(M,e,O),s(e,t),s(e,r),s(e,n),s(n,i),s(i,o),s(i,m),s(i,v),s(v,b),s(v,_),s(v,g),s(n,C),s(n,w),s(w,I),s(w,x),s(w,P),s(P,T),s(e,H),s(e,V)},p(M,O){O[0]&2&&d!==(d=M[1].weaponData.damageDice+"")&&$(b,d),O[0]&2&&E!==(E=M[1].weaponData.damageType+"")&&$(g,E),O[0]&2&&B!==(B=M[1].weaponData.weaponType.replace("_"," ")+"")&&$(T,B)},d(M){M&&f(e)}}}function la(l){let e,t,a="üõ°Ô∏è Datos de Armadura",r,n,i,o,u="AC Base:",m,v,d=l[1].armorData.baseAC+"",b,_,E,g,C="Tipo:",w,I,A=l[1].armorData.armorType+"",x,P,B,T="* La AC base y tipo no son editables";return{c(){e=h("div"),t=h("p"),t.textContent=a,r=D(),n=h("div"),i=h("div"),o=h("span"),o.textContent=u,m=D(),v=h("span"),b=N(d),_=D(),E=h("div"),g=h("span"),g.textContent=C,w=D(),I=h("span"),x=N(A),P=D(),B=h("p"),B.textContent=T,this.h()},l(H){e=p(H,"DIV",{class:!0});var V=y(e);t=p(V,"P",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1pyu6rc"&&(t.textContent=a),r=k(V),n=p(V,"DIV",{class:!0});var L=y(n);i=p(L,"DIV",{});var M=y(i);o=p(M,"SPAN",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-dcift0"&&(o.textContent=u),m=k(M),v=p(M,"SPAN",{class:!0});var O=y(v);b=S(O,d),O.forEach(f),M.forEach(f),_=k(L),E=p(L,"DIV",{});var q=y(E);g=p(q,"SPAN",{class:!0,"data-svelte-h":!0}),J(g)!=="svelte-hs3lz9"&&(g.textContent=C),w=k(q),I=p(q,"SPAN",{class:!0});var F=y(I);x=S(F,A),F.forEach(f),q.forEach(f),L.forEach(f),P=k(V),B=p(V,"P",{class:!0,"data-svelte-h":!0}),J(B)!=="svelte-1kkotj1"&&(B.textContent=T),V.forEach(f),this.h()},h(){c(t,"class","font-medieval text-neutral font-bold mb-2"),c(o,"class","text-neutral/60"),c(v,"class","font-bold ml-2"),c(g,"class","text-neutral/60"),c(I,"class","font-bold ml-2 capitalize"),c(n,"class","grid grid-cols-2 gap-2 text-sm"),c(B,"class","text-xs text-neutral/60 italic mt-2"),c(e,"class","bg-info/10 p-4 rounded-lg border border-info/30")},m(H,V){j(H,e,V),s(e,t),s(e,r),s(e,n),s(n,i),s(i,o),s(i,m),s(i,v),s(v,b),s(n,_),s(n,E),s(E,g),s(E,w),s(E,I),s(I,x),s(e,P),s(e,B)},p(H,V){V[0]&2&&d!==(d=H[1].armorData.baseAC+"")&&$(b,d),V[0]&2&&A!==(A=H[1].armorData.armorType+"")&&$(x,A)},d(H){H&&f(e)}}}function Mr(l){let e;function t(n,i){if(n[0]&&n[1]&&n[2])return wr;if(n[0]&&n[1]&&!n[2])return Dr}let a=t(l),r=a&&a(l);return{c(){r&&r.c(),e=Ye()},l(n){r&&r.l(n),e=Ye()},m(n,i){r&&r.m(n,i),j(n,e,i)},p(n,i){a===(a=t(n))&&r?r.p(n,i):(r&&r.d(1),r=a&&a(n),r&&(r.c(),r.m(e.parentNode,e)))},i:Ke,o:Ke,d(n){n&&f(e),r&&r.d(n)}}}function Br(l,e,t){let{isOpen:a=!1}=e,{item:r=null}=e,{isOwner:n=!1}=e;const i=Ot();let o={name:"",description:"",quantity:1,value:0,weaponMagicBonus:0,armorMagicBonus:0},u={name:"",quantity:"",value:"",description:""},m={name:!1,quantity:!1,value:!1,description:!1},v=!1,d=!1,b=!1,_=null;function E(Q){t(5,m[Q]=!0,m)}function g(){if(!n||(Object.keys(m).forEach(G=>{t(5,m[G]=!0,m)}),!d))return;if(!v){C();return}const Q={};o.name!==(r==null?void 0:r.name)&&(Q.name=o.name),o.description!==((r==null?void 0:r.description)||"")&&(Q.description=o.description),o.quantity!==(r==null?void 0:r.quantity)&&(Q.quantity=o.quantity),o.value!==(r==null?void 0:r.value)&&(Q.value=o.value),r!=null&&r.weaponData&&o.weaponMagicBonus!==(r.weaponData.magicBonus||0)&&(Q.weaponData={...r.weaponData,magicBonus:o.weaponMagicBonus}),r!=null&&r.armorData&&o.armorMagicBonus!==(r.armorData.magicBonus||0)&&(Q.armorData={...r.armorData,magicBonus:o.armorMagicBonus}),i("update",Q),C()}function C(){w(),t(14,b=!1),t(15,_=null),i("close")}function w(){Object.keys(m).forEach(Q=>{t(5,m[Q]=!1,m)}),Object.keys(u).forEach(Q=>{t(4,u[Q]="",u)})}function I(){o.quantity<999&&(t(3,o.quantity++,o),t(5,m.quantity=!0,m))}function A(){o.quantity>0&&(t(3,o.quantity--,o),t(5,m.quantity=!0,m))}function x(){o.quantity===0&&r&&r.quantity>0&&(confirm("‚ö†Ô∏è Si la cantidad llega a 0, el item se eliminar√°. ¬øContinuar?")||t(3,o.quantity=1,o))}function P(Q){Mt.call(this,l,Q)}function B(){o.name=this.value,t(3,o),t(1,r),t(0,a),t(14,b),t(15,_)}const T=()=>t(5,m.name=!0,m),H=()=>E("name");function V(){o.quantity=Ue(this.value),t(3,o),t(1,r),t(0,a),t(14,b),t(15,_)}const L=()=>t(5,m.quantity=!0,m),M=()=>{E("quantity"),x()};function O(){o.value=Ue(this.value),t(3,o),t(1,r),t(0,a),t(14,b),t(15,_)}const q=()=>t(5,m.value=!0,m),F=()=>E("value");function W(){o.description=this.value,t(3,o),t(1,r),t(0,a),t(14,b),t(15,_)}const z=()=>E("description");function U(){o.weaponMagicBonus=Ue(this.value),t(3,o),t(1,r),t(0,a),t(14,b),t(15,_)}function se(){o.armorMagicBonus=Ue(this.value),t(3,o),t(1,r),t(0,a),t(14,b),t(15,_)}return l.$$set=Q=>{"isOpen"in Q&&t(0,a=Q.isOpen),"item"in Q&&t(1,r=Q.item),"isOwner"in Q&&t(2,n=Q.isOwner)},l.$$.update=()=>{var Q,G;if(l.$$.dirty[0]&49155&&r&&a&&(!b||_!==r.id)&&(t(3,o={name:r.name,description:r.description||"",quantity:r.quantity,value:r.value,weaponMagicBonus:((Q=r.weaponData)==null?void 0:Q.magicBonus)||0,armorMagicBonus:((G=r.armorData)==null?void 0:G.magicBonus)||0}),w(),t(14,b=!0),t(15,_=r.id)),l.$$.dirty[0]&1&&(a||(t(14,b=!1),t(15,_=null))),l.$$.dirty[0]&40&&m.name&&o.name!==void 0){const ee=Os(o.name);t(4,u.name=ee.valid?"":ee.error||"",u)}if(l.$$.dirty[0]&40&&m.quantity&&o.quantity!==void 0){const ee=qs(o.quantity);t(4,u.quantity=ee.valid?"":ee.error||"",u)}if(l.$$.dirty[0]&40&&m.value&&o.value!==void 0){const ee=js(o.value);t(4,u.value=ee.valid?"":ee.error||"",u)}if(l.$$.dirty[0]&40&&m.description&&o.description!==void 0){const ee=Fs(o.description);t(4,u.description=ee.valid?"":ee.error||"",u)}if(l.$$.dirty[0]&16394)if(r&&b){const ee=o.name!==r.name,te=o.description!==(r.description||""),K=Number(o.quantity)!==Number(r.quantity),R=Number(o.value)!==Number(r.value);let Y=!1;r.weaponData&&(Y=Number(o.weaponMagicBonus)!==Number(r.weaponData.magicBonus||0));let le=!1;r.armorData&&(le=Number(o.armorMagicBonus)!==Number(r.armorData.magicBonus||0)),t(6,v=ee||te||K||R||Y||le)}else t(6,v=!1);l.$$.dirty[0]&24&&t(7,d=!u.name&&!u.quantity&&!u.value&&!u.description&&o.name.trim().length>0)},[a,r,n,o,u,m,v,d,E,g,C,I,A,x,b,_,P,B,T,H,V,L,M,O,q,F,W,z,U,se]}class Hr extends Dt{constructor(e){super(),wt(this,e,Br,Mr,It,{isOpen:0,item:1,isOwner:2},null,[-1,-1])}}function aa(l,e,t){const a=l.slice();a[76]=e[t];const r=a[10][a[76]];a[77]=r;const n=a[32](a[76]);a[78]=n;const i=a[33](a[76]);a[79]=i;const o=a[7][a[76]]||0;return a[80]=o,a}function sa(l,e,t){const a=l.slice();return a[83]=e[t],a}function Or(l,e,t){const a=l.slice();return a[73]=e[t],a}function ra(l){let e,t,a,r,n,i,o,u,m="‚úï",v,d;return{c(){e=h("div"),t=Tt("svg"),a=Tt("path"),r=D(),n=h("span"),i=N(l[12]),o=D(),u=h("button"),u.textContent=m,this.h()},l(b){e=p(b,"DIV",{class:!0});var _=y(e);t=xt(_,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var E=y(t);a=xt(E,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(a).forEach(f),E.forEach(f),r=k(_),n=p(_,"SPAN",{});var g=y(n);i=S(g,l[12]),g.forEach(f),o=k(_),u=p(_,"BUTTON",{class:!0,"data-svelte-h":!0}),J(u)!=="svelte-4f72mu"&&(u.textContent=m),_.forEach(f),this.h()},h(){c(a,"fill-rule","evenodd"),c(a,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"),c(a,"clip-rule","evenodd"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-5 w-5"),c(t,"viewBox","0 0 20 20"),c(t,"fill","currentColor"),c(u,"class","btn btn-sm btn-ghost"),c(e,"class","alert alert-error")},m(b,_){j(b,e,_),s(e,t),s(t,a),s(e,r),s(e,n),s(n,i),s(e,o),s(e,u),v||(d=ae(u,"click",l[39]),v=!0)},p(b,_){_[0]&4096&&$(i,b[12])},d(b){b&&f(e),v=!1,d()}}}function qr(l){let e,t,a,r,n,i="üí∞",o,u,m,v="MONEDAS",d,b,_,E,g,C,w,I,A,x,P="üì¶",B,T,H,V="ITEMS",L,M,O,q,F,W,z=l[2].items.length+"",U,se,Q,G,ee,te="üíé",K,R,Y,le="VALOR",oe,de,ye=rt(l[2].totalValue)+"",we,X,ue,he,Ce,Fe,Ve,ke=l[2].items.length>0&&na(l),ce=l[2].currency.platinum>0&&ca(l),fe=l[2].currency.gold>0&&ua(l),ve=l[2].currency.silver>0&&fa(l),Te=l[2].currency.copper>0&&da(l),me=l[2].currency.platinum===0&&l[2].currency.gold===0&&l[2].currency.silver===0&&l[2].currency.copper===0&&pa(),_e=l[1]&&ha(l);function Be(ne,Ie){return ne[2].items.length===0?zr:Ur}let He=Be(l),Pe=He(l);return{c(){ke&&ke.c(),e=D(),t=h("div"),a=h("div"),r=h("button"),n=h("div"),n.textContent=i,o=D(),u=h("div"),m=h("p"),m.textContent=v,d=D(),b=h("div"),ce&&ce.c(),_=D(),fe&&fe.c(),E=D(),ve&&ve.c(),g=D(),Te&&Te.c(),C=D(),me&&me.c(),I=D(),A=h("div"),x=h("div"),x.textContent=P,B=D(),T=h("div"),H=h("p"),H.textContent=V,L=D(),M=h("p"),O=N(l[20]),q=N(" items"),F=D(),W=h("p"),U=N(z),se=N(" tipos"),Q=D(),G=h("div"),ee=h("div"),ee.textContent=te,K=D(),R=h("div"),Y=h("p"),Y.textContent=le,oe=D(),de=h("p"),we=N(ye),X=N(" gp"),ue=D(),_e&&_e.c(),he=D(),Pe.c(),Ce=Ye(),this.h()},l(ne){ke&&ke.l(ne),e=k(ne),t=p(ne,"DIV",{class:!0});var Ie=y(t);a=p(Ie,"DIV",{class:!0});var ze=y(a);r=p(ze,"BUTTON",{class:!0});var Ge=y(r);n=p(Ge,"DIV",{class:!0,"data-svelte-h":!0}),J(n)!=="svelte-1vd21yd"&&(n.textContent=i),o=k(Ge),u=p(Ge,"DIV",{class:!0});var je=y(u);m=p(je,"P",{class:!0,"data-svelte-h":!0}),J(m)!=="svelte-xkj9ha"&&(m.textContent=v),d=k(je),b=p(je,"DIV",{class:!0});var Ne=y(b);ce&&ce.l(Ne),_=k(Ne),fe&&fe.l(Ne),E=k(Ne),ve&&ve.l(Ne),g=k(Ne),Te&&Te.l(Ne),C=k(Ne),me&&me.l(Ne),Ne.forEach(f),je.forEach(f),Ge.forEach(f),I=k(ze),A=p(ze,"DIV",{class:!0});var Oe=y(A);x=p(Oe,"DIV",{class:!0,"data-svelte-h":!0}),J(x)!=="svelte-nk72pb"&&(x.textContent=P),B=k(Oe),T=p(Oe,"DIV",{});var Se=y(T);H=p(Se,"P",{class:!0,"data-svelte-h":!0}),J(H)!=="svelte-kwvj0d"&&(H.textContent=V),L=k(Se),M=p(Se,"P",{class:!0});var Re=y(M);O=S(Re,l[20]),q=S(Re," items"),Re.forEach(f),F=k(Se),W=p(Se,"P",{class:!0});var ge=y(W);U=S(ge,z),se=S(ge," tipos"),ge.forEach(f),Se.forEach(f),Oe.forEach(f),Q=k(ze),G=p(ze,"DIV",{class:!0});var Me=y(G);ee=p(Me,"DIV",{class:!0,"data-svelte-h":!0}),J(ee)!=="svelte-ucifnb"&&(ee.textContent=te),K=k(Me),R=p(Me,"DIV",{});var re=y(R);Y=p(re,"P",{class:!0,"data-svelte-h":!0}),J(Y)!=="svelte-1g54e5b"&&(Y.textContent=le),oe=k(re),de=p(re,"P",{class:!0});var Ae=y(de);we=S(Ae,ye),X=S(Ae," gp"),Ae.forEach(f),re.forEach(f),Me.forEach(f),ue=k(ze),_e&&_e.l(ze),ze.forEach(f),Ie.forEach(f),he=k(ne),Pe.l(ne),Ce=Ye(),this.h()},h(){c(n,"class","text-3xl"),c(m,"class","text-xs font-medieval text-neutral/60"),c(b,"class","flex gap-2 text-sm font-bold flex-wrap"),c(u,"class","text-left"),c(r,"class","flex items-center gap-3 hover:bg-primary/10 p-2 rounded-lg transition-colors flex-1 min-w-[200px]"),r.disabled=w=!l[1],c(x,"class","text-3xl"),c(H,"class","text-xs font-medieval text-neutral/60"),c(M,"class","text-sm font-bold"),c(W,"class","text-xs text-neutral/60"),c(A,"class","flex items-center gap-3 flex-1 min-w-[150px]"),c(ee,"class","text-3xl"),c(Y,"class","text-xs font-medieval text-neutral/60"),c(de,"class","text-sm font-bold"),c(G,"class","flex items-center gap-3 flex-1 min-w-[150px]"),c(a,"class","flex flex-wrap justify-between items-center gap-4"),c(t,"class","bg-gradient-to-r from-primary/10 to-accent/10 p-4 rounded-lg border-2 border-primary/30")},m(ne,Ie){ke&&ke.m(ne,Ie),j(ne,e,Ie),j(ne,t,Ie),s(t,a),s(a,r),s(r,n),s(r,o),s(r,u),s(u,m),s(u,d),s(u,b),ce&&ce.m(b,null),s(b,_),fe&&fe.m(b,null),s(b,E),ve&&ve.m(b,null),s(b,g),Te&&Te.m(b,null),s(b,C),me&&me.m(b,null),s(a,I),s(a,A),s(A,x),s(A,B),s(A,T),s(T,H),s(T,L),s(T,M),s(M,O),s(M,q),s(T,F),s(T,W),s(W,U),s(W,se),s(a,Q),s(a,G),s(G,ee),s(G,K),s(G,R),s(R,Y),s(R,oe),s(R,de),s(de,we),s(de,X),s(a,ue),_e&&_e.m(a,null),j(ne,he,Ie),Pe.m(ne,Ie),j(ne,Ce,Ie),Fe||(Ve=ae(r,"click",l[44]),Fe=!0)},p(ne,Ie){ne[2].items.length>0?ke?ke.p(ne,Ie):(ke=na(ne),ke.c(),ke.m(e.parentNode,e)):ke&&(ke.d(1),ke=null),ne[2].currency.platinum>0?ce?ce.p(ne,Ie):(ce=ca(ne),ce.c(),ce.m(b,_)):ce&&(ce.d(1),ce=null),ne[2].currency.gold>0?fe?fe.p(ne,Ie):(fe=ua(ne),fe.c(),fe.m(b,E)):fe&&(fe.d(1),fe=null),ne[2].currency.silver>0?ve?ve.p(ne,Ie):(ve=fa(ne),ve.c(),ve.m(b,g)):ve&&(ve.d(1),ve=null),ne[2].currency.copper>0?Te?Te.p(ne,Ie):(Te=da(ne),Te.c(),Te.m(b,C)):Te&&(Te.d(1),Te=null),ne[2].currency.platinum===0&&ne[2].currency.gold===0&&ne[2].currency.silver===0&&ne[2].currency.copper===0?me||(me=pa(),me.c(),me.m(b,null)):me&&(me.d(1),me=null),Ie[0]&2&&w!==(w=!ne[1])&&(r.disabled=w),Ie[0]&1048576&&$(O,ne[20]),Ie[0]&4&&z!==(z=ne[2].items.length+"")&&$(U,z),Ie[0]&4&&ye!==(ye=rt(ne[2].totalValue)+"")&&$(we,ye),ne[1]?_e?_e.p(ne,Ie):(_e=ha(ne),_e.c(),_e.m(a,null)):_e&&(_e.d(1),_e=null),He===(He=Be(ne))&&Pe?Pe.p(ne,Ie):(Pe.d(1),Pe=He(ne),Pe&&(Pe.c(),Pe.m(Ce.parentNode,Ce)))},d(ne){ne&&(f(e),f(t),f(he),f(Ce)),ke&&ke.d(ne),ce&&ce.d(),fe&&fe.d(),ve&&ve.d(),Te&&Te.d(),me&&me.d(),_e&&_e.d(),Pe.d(ne),Fe=!1,Ve()}}}function jr(l){let e,t,a="‚ö†Ô∏è",r,n,i="Error al Cargar",o,u,m="No se pudo cargar el inventario",v,d,b="üîÑ Reintentar",_,E;return{c(){e=h("div"),t=h("div"),t.textContent=a,r=D(),n=h("h3"),n.textContent=i,o=D(),u=h("p"),u.textContent=m,v=D(),d=h("button"),d.textContent=b,this.h()},l(g){e=p(g,"DIV",{class:!0});var C=y(e);t=p(C,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-173t1pq"&&(t.textContent=a),r=k(C),n=p(C,"H3",{class:!0,"data-svelte-h":!0}),J(n)!=="svelte-1vg6w0"&&(n.textContent=i),o=k(C),u=p(C,"P",{class:!0,"data-svelte-h":!0}),J(u)!=="svelte-6u3xlx"&&(u.textContent=m),v=k(C),d=p(C,"BUTTON",{class:!0,"data-svelte-h":!0}),J(d)!=="svelte-uz9fxp"&&(d.textContent=b),C.forEach(f),this.h()},h(){c(t,"class","text-4xl mb-4"),c(n,"class","text-xl font-medieval text-neutral mb-2"),c(u,"class","text-neutral/70 mb-4"),c(d,"class","btn btn-primary btn-sm"),c(e,"class","card-parchment p-8 text-center")},m(g,C){j(g,e,C),s(e,t),s(e,r),s(e,n),s(e,o),s(e,u),s(e,v),s(e,d),_||(E=ae(d,"click",l[40]),_=!0)},p:Ke,d(g){g&&f(e),_=!1,E()}}}function Fr(l){let e,t,a,r,n=Je(Array(4)),i=[];for(let o=0;o<n.length;o+=1)i[o]=Xr(Or(l,n,o));return{c(){e=h("div"),t=h("div"),a=D(),r=h("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=p(o,"DIV",{class:!0});var u=y(e);t=p(u,"DIV",{class:!0}),y(t).forEach(f),a=k(u),r=p(u,"DIV",{class:!0});var m=y(r);for(let v=0;v<i.length;v+=1)i[v].l(m);m.forEach(f),u.forEach(f),this.h()},h(){c(t,"class","skeleton h-32 w-full"),c(r,"class","grid grid-cols-1 md:grid-cols-2 gap-3"),c(e,"class","space-y-4")},m(o,u){j(o,e,u),s(e,t),s(e,a),s(e,r);for(let m=0;m<i.length;m+=1)i[m]&&i[m].m(r,null)},p:Ke,d(o){o&&f(e),lt(i,o)}}}function na(l){let e,t,a,r,n,i,o,u,m=l[3]&&ia(l),v=l[3]&&oa(l);return{c(){e=h("div"),t=h("div"),a=h("div"),r=h("input"),n=D(),m&&m.c(),i=D(),v&&v.c(),this.h()},l(d){e=p(d,"DIV",{class:!0});var b=y(e);t=p(b,"DIV",{class:!0});var _=y(t);a=p(_,"DIV",{class:!0});var E=y(a);r=p(E,"INPUT",{type:!0,placeholder:!0,class:!0}),n=k(E),m&&m.l(E),E.forEach(f),i=k(_),v&&v.l(_),_.forEach(f),b.forEach(f),this.h()},h(){c(r,"type","text"),c(r,"placeholder","üîç Buscar en tu inventario..."),c(r,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-full pr-10"),c(a,"class","relative"),c(t,"class","form-control"),c(e,"class","mb-4")},m(d,b){j(d,e,b),s(e,t),s(t,a),s(a,r),xe(r,l[3]),s(a,n),m&&m.m(a,null),s(t,i),v&&v.m(t,null),o||(u=ae(r,"input",l[41]),o=!0)},p(d,b){b[0]&8&&r.value!==d[3]&&xe(r,d[3]),d[3]?m?m.p(d,b):(m=ia(d),m.c(),m.m(a,null)):m&&(m.d(1),m=null),d[3]?v?v.p(d,b):(v=oa(d),v.c(),v.m(t,null)):v&&(v.d(1),v=null)},d(d){d&&f(e),m&&m.d(),v&&v.d(),o=!1,u()}}}function ia(l){let e,t="‚úï",a,r;return{c(){e=h("button"),e.textContent=t,this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-15211rw"&&(e.textContent=t),this.h()},h(){c(e,"class","btn btn-ghost btn-sm btn-circle absolute right-2 top-1/2 -translate-y-1/2")},m(n,i){j(n,e,i),a||(r=ae(e,"click",l[42]),a=!0)},p:Ke,d(n){n&&f(e),a=!1,r()}}}function oa(l){let e,t,a,r=l[2].items.filter(l[43]).length+"",n,i;return{c(){e=h("label"),t=h("span"),a=N("‚úì "),n=N(r),i=N(" items encontrados"),this.h()},l(o){e=p(o,"LABEL",{class:!0});var u=y(e);t=p(u,"SPAN",{class:!0});var m=y(t);a=S(m,"‚úì "),n=S(m,r),i=S(m," items encontrados"),m.forEach(f),u.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-success"),c(e,"class","label")},m(o,u){j(o,e,u),s(e,t),s(t,a),s(t,n),s(t,i)},p(o,u){u[0]&12&&r!==(r=o[2].items.filter(o[43]).length+"")&&$(n,r)},d(o){o&&f(e)}}}function ca(l){let e,t=l[2].currency.platinum+"",a,r;return{c(){e=h("span"),a=N(t),r=N("pp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=S(i,t),r=S(i,"pp"),i.forEach(f),this.h()},h(){c(e,"class","text-primary")},m(n,i){j(n,e,i),s(e,a),s(e,r)},p(n,i){i[0]&4&&t!==(t=n[2].currency.platinum+"")&&$(a,t)},d(n){n&&f(e)}}}function ua(l){let e,t=l[2].currency.gold+"",a,r;return{c(){e=h("span"),a=N(t),r=N("gp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=S(i,t),r=S(i,"gp"),i.forEach(f),this.h()},h(){c(e,"class","text-warning")},m(n,i){j(n,e,i),s(e,a),s(e,r)},p(n,i){i[0]&4&&t!==(t=n[2].currency.gold+"")&&$(a,t)},d(n){n&&f(e)}}}function fa(l){let e,t=l[2].currency.silver+"",a,r;return{c(){e=h("span"),a=N(t),r=N("sp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=S(i,t),r=S(i,"sp"),i.forEach(f),this.h()},h(){c(e,"class","text-info")},m(n,i){j(n,e,i),s(e,a),s(e,r)},p(n,i){i[0]&4&&t!==(t=n[2].currency.silver+"")&&$(a,t)},d(n){n&&f(e)}}}function da(l){let e,t=l[2].currency.copper+"",a,r;return{c(){e=h("span"),a=N(t),r=N("cp"),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=S(i,t),r=S(i,"cp"),i.forEach(f),this.h()},h(){c(e,"class","text-error")},m(n,i){j(n,e,i),s(e,a),s(e,r)},p(n,i){i[0]&4&&t!==(t=n[2].currency.copper+"")&&$(a,t)},d(n){n&&f(e)}}}function pa(l){let e,t="0 gp";return{c(){e=h("span"),e.textContent=t,this.h()},l(a){e=p(a,"SPAN",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1tcucg9"&&(e.textContent=t),this.h()},h(){c(e,"class","text-neutral/50")},m(a,r){j(a,e,r)},d(a){a&&f(e)}}}function ha(l){let e,t='<span class="text-xl">‚ûï</span> <span class="hidden sm:inline">Agregar</span>',a,r;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-4tu0nu"&&(e.innerHTML=t),this.h()},h(){c(e,"class","btn btn-success gap-2")},m(n,i){j(n,e,i),a||(r=ae(e,"click",l[45]),a=!0)},p:Ke,d(n){n&&f(e),a=!1,r()}}}function Ur(l){let e,t=Je(l[21]),a=[];for(let r=0;r<t.length;r+=1)a[r]=xa(aa(l,t,r));return{c(){e=h("div");for(let r=0;r<a.length;r+=1)a[r].c();this.h()},l(r){e=p(r,"DIV",{class:!0});var n=y(e);for(let i=0;i<a.length;i+=1)a[i].l(n);n.forEach(f),this.h()},h(){c(e,"class","space-y-4")},m(r,n){j(r,e,n);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null)},p(r,n){if(n[0]&1210066050|n[1]&15){t=Je(r[21]);let i;for(i=0;i<t.length;i+=1){const o=aa(r,t,i);a[i]?a[i].p(o,n):(a[i]=xa(o),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=t.length}},d(r){r&&f(e),lt(a,r)}}}function zr(l){let e,t,a="üéí",r,n,i="Inventario Vac√≠o",o,u,m;function v(E,g){return E[1]?Wr:Kr}let d=v(l),b=d(l),_=l[1]&&Ta(l);return{c(){e=h("div"),t=h("div"),t.textContent=a,r=D(),n=h("h3"),n.textContent=i,o=D(),u=h("p"),b.c(),m=D(),_&&_.c(),this.h()},l(E){e=p(E,"DIV",{class:!0});var g=y(e);t=p(g,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-1bcp5wx"&&(t.textContent=a),r=k(g),n=p(g,"H3",{class:!0,"data-svelte-h":!0}),J(n)!=="svelte-1uno1fu"&&(n.textContent=i),o=k(g),u=p(g,"P",{class:!0});var C=y(u);b.l(C),C.forEach(f),m=k(g),_&&_.l(g),g.forEach(f),this.h()},h(){c(t,"class","text-6xl mb-4"),c(n,"class","text-2xl font-medieval text-neutral mb-2"),c(u,"class","text-neutral/70 font-body mb-4"),c(e,"class","card-parchment p-12 text-center")},m(E,g){j(E,e,g),s(e,t),s(e,r),s(e,n),s(e,o),s(e,u),b.m(u,null),s(e,m),_&&_.m(e,null)},p(E,g){d!==(d=v(E))&&(b.d(1),b=d(E),b&&(b.c(),b.m(u,null))),E[1]?_?_.p(E,g):(_=Ta(E),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},d(E){E&&f(e),b.d(),_&&_.d()}}}function ma(l){let e,t,a,r,n,i,o=l[80]+1+"",u,m,v=l[79]+"",d,b,_,E,g,C,w;function I(){return l[47](l[76])}function A(){return l[48](l[76])}return{c(){e=h("div"),t=h("button"),a=N("‚óÄ"),n=D(),i=h("span"),u=N(o),m=N(" / "),d=N(v),b=D(),_=h("button"),E=N("‚ñ∂"),this.h()},l(x){e=p(x,"DIV",{class:!0});var P=y(e);t=p(P,"BUTTON",{class:!0});var B=y(t);a=S(B,"‚óÄ"),B.forEach(f),n=k(P),i=p(P,"SPAN",{class:!0});var T=y(i);u=S(T,o),m=S(T," / "),d=S(T,v),T.forEach(f),b=k(P),_=p(P,"BUTTON",{class:!0});var H=y(_);E=S(H,"‚ñ∂"),H.forEach(f),P.forEach(f),this.h()},h(){c(t,"class","btn btn-xs btn-circle btn-ghost"),t.disabled=r=l[80]===0,c(i,"class","text-xs"),c(_,"class","btn btn-xs btn-circle btn-ghost"),_.disabled=g=l[80]>=l[79]-1,c(e,"class","flex items-center gap-2")},m(x,P){j(x,e,P),s(e,t),s(t,a),s(e,n),s(e,i),s(i,u),s(i,m),s(i,d),s(e,b),s(e,_),s(_,E),C||(w=[ae(t,"click",I),ae(_,"click",A)],C=!0)},p(x,P){l=x,P[0]&2097280&&r!==(r=l[80]===0)&&(t.disabled=r),P[0]&2097280&&o!==(o=l[80]+1+"")&&$(u,o),P[0]&2097152&&v!==(v=l[79]+"")&&$(d,v),P[0]&2097280&&g!==(g=l[80]>=l[79]-1)&&(_.disabled=g)},d(x){x&&f(e),C=!1,at(w)}}}function va(l){let e,t,a=l[83].quantity+"",r;return{c(){e=h("span"),t=N("√ó"),r=N(a),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);t=S(i,"√ó"),r=S(i,a),i.forEach(f),this.h()},h(){c(e,"class","badge badge-sm badge-neutral")},m(n,i){j(n,e,i),s(e,t),s(e,r)},p(n,i){i[0]&2097152&&a!==(a=n[83].quantity+"")&&$(r,a)},d(n){n&&f(e)}}}function ba(l){let e,t,a=rt(l[83].value*l[83].quantity)+"",r,n;return{c(){e=h("span"),t=N("üí∞ "),r=N(a),n=N(" gp"),this.h()},l(i){e=p(i,"SPAN",{class:!0});var o=y(e);t=S(o,"üí∞ "),r=S(o,a),n=S(o," gp"),o.forEach(f),this.h()},h(){c(e,"class","badge badge-ghost badge-xs")},m(i,o){j(i,e,o),s(e,t),s(e,r),s(e,n)},p(i,o){o[0]&2097152&&a!==(a=rt(i[83].value*i[83].quantity)+"")&&$(r,a)},d(i){i&&f(e)}}}function _a(l){let e,t=qa(l[83].rarity)+"",a,r;return{c(){e=h("span"),a=N(t),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);a=S(i,t),i.forEach(f),this.h()},h(){c(e,"class",r="badge badge-xs "+Oa(l[83].rarity))},m(n,i){j(n,e,i),s(e,a)},p(n,i){i[0]&2097152&&t!==(t=qa(n[83].rarity)+"")&&$(a,t),i[0]&2097152&&r!==(r="badge badge-xs "+Oa(n[83].rarity))&&c(e,"class",r)},d(n){n&&f(e)}}}function ga(l){let e,t,a=l[83].weaponData.damageDice+"",r,n,i,o=l[83].weaponData.properties.versatile&&Ea(l),u=l[83].weaponData.damageType&&ya(l),m=l[83].weaponData.magicBonus&&l[83].weaponData.magicBonus>0&&Ca(l);return{c(){e=h("span"),t=N("‚öîÔ∏è "),r=N(a),o&&o.c(),n=D(),u&&u.c(),i=D(),m&&m.c(),this.h()},l(v){e=p(v,"SPAN",{class:!0});var d=y(e);t=S(d,"‚öîÔ∏è "),r=S(d,a),o&&o.l(d),n=k(d),u&&u.l(d),i=k(d),m&&m.l(d),d.forEach(f),this.h()},h(){c(e,"class","badge badge-error badge-xs")},m(v,d){j(v,e,d),s(e,t),s(e,r),o&&o.m(e,null),s(e,n),u&&u.m(e,null),s(e,i),m&&m.m(e,null)},p(v,d){d[0]&2097152&&a!==(a=v[83].weaponData.damageDice+"")&&$(r,a),v[83].weaponData.properties.versatile?o?o.p(v,d):(o=Ea(v),o.c(),o.m(e,n)):o&&(o.d(1),o=null),v[83].weaponData.damageType?u?u.p(v,d):(u=ya(v),u.c(),u.m(e,i)):u&&(u.d(1),u=null),v[83].weaponData.magicBonus&&v[83].weaponData.magicBonus>0?m?m.p(v,d):(m=Ca(v),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(v){v&&f(e),o&&o.d(),u&&u.d(),m&&m.d()}}}function Ea(l){let e,t=l[83].weaponData.properties.versatile+"",a;return{c(){e=N("/"),a=N(t)},l(r){e=S(r,"/"),a=S(r,t)},m(r,n){j(r,e,n),j(r,a,n)},p(r,n){n[0]&2097152&&t!==(t=r[83].weaponData.properties.versatile+"")&&$(a,t)},d(r){r&&(f(e),f(a))}}}function ya(l){let e=l[83].weaponData.damageType+"",t;return{c(){t=N(e)},l(a){t=S(a,e)},m(a,r){j(a,t,r)},p(a,r){r[0]&2097152&&e!==(e=a[83].weaponData.damageType+"")&&$(t,e)},d(a){a&&f(t)}}}function Ca(l){let e,t=l[83].weaponData.magicBonus+"",a;return{c(){e=N("+"),a=N(t)},l(r){e=S(r,"+"),a=S(r,t)},m(r,n){j(r,e,n),j(r,a,n)},p(r,n){n[0]&2097152&&t!==(t=r[83].weaponData.magicBonus+"")&&$(a,t)},d(r){r&&(f(e),f(a))}}}function ka(l){let e;function t(n,i){return n[83].armorData.armorType==="Shield"?Gr:Rr}let a=t(l),r=a(l);return{c(){e=h("span"),r.c(),this.h()},l(n){e=p(n,"SPAN",{class:!0});var i=y(e);r.l(i),i.forEach(f),this.h()},h(){c(e,"class","badge badge-info badge-xs")},m(n,i){j(n,e,i),r.m(e,null)},p(n,i){a===(a=t(n))&&r?r.p(n,i):(r.d(1),r=a(n),r&&(r.c(),r.m(e,null)))},d(n){n&&f(e),r.d()}}}function Rr(l){let e,t=l[83].armorData.baseAC+"",a,r=l[83].armorData.magicBonus?`+${l[83].armorData.magicBonus}`:"",n;return{c(){e=N("AC "),a=N(t),n=N(r)},l(i){e=S(i,"AC "),a=S(i,t),n=S(i,r)},m(i,o){j(i,e,o),j(i,a,o),j(i,n,o)},p(i,o){o[0]&2097152&&t!==(t=i[83].armorData.baseAC+"")&&$(a,t),o[0]&2097152&&r!==(r=i[83].armorData.magicBonus?`+${i[83].armorData.magicBonus}`:"")&&$(n,r)},d(i){i&&(f(e),f(a),f(n))}}}function Gr(l){let e,t=(l[83].armorData.baseAC||2)+"",a,r=l[83].armorData.magicBonus?`+${l[83].armorData.magicBonus}`:"",n,i;return{c(){e=N("+"),a=N(t),n=N(r),i=N(" AC")},l(o){e=S(o,"+"),a=S(o,t),n=S(o,r),i=S(o," AC")},m(o,u){j(o,e,u),j(o,a,u),j(o,n,u),j(o,i,u)},p(o,u){u[0]&2097152&&t!==(t=(o[83].armorData.baseAC||2)+"")&&$(a,t),u[0]&2097152&&r!==(r=o[83].armorData.magicBonus?`+${o[83].armorData.magicBonus}`:"")&&$(n,r)},d(o){o&&(f(e),f(a),f(n),f(i))}}}function Da(l){let e,t,a;function r(o,u){return o[13]===o[83].id?Jr:Qr}let n=r(l),i=n(l);return{c(){e=h("div"),i.c(),this.h()},l(o){e=p(o,"DIV",{class:!0});var u=y(e);i.l(u),u.forEach(f),this.h()},h(){c(e,"class","dropdown dropdown-end flex-shrink-0")},m(o,u){j(o,e,u),i.m(e,null),t||(a=ae(e,"click",kt(l[38])),t=!0)},p(o,u){n===(n=r(o))&&i?i.p(o,u):(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},d(o){o&&f(e),i.d(),t=!1,a()}}}function Qr(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',a,r,n,i,o="‚úèÔ∏è Modificar",u,m,v,d="üóëÔ∏è Eliminar",b,_;function E(){return l[49](l[83])}function g(){return l[50](l[83])}return{c(){e=h("label"),e.innerHTML=t,a=D(),r=h("ul"),n=h("li"),i=h("a"),i.textContent=o,u=D(),m=h("li"),v=h("a"),v.textContent=d,this.h()},l(C){e=p(C,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1k5uepk"&&(e.innerHTML=t),a=k(C),r=p(C,"UL",{tabindex:!0,class:!0});var w=y(r);n=p(w,"LI",{});var I=y(n);i=p(I,"A",{class:!0,"data-svelte-h":!0}),J(i)!=="svelte-jpzwe"&&(i.textContent=o),I.forEach(f),u=k(w),m=p(w,"LI",{});var A=y(m);v=p(A,"A",{class:!0,"data-svelte-h":!0}),J(v)!=="svelte-1312pp7"&&(v.textContent=d),A.forEach(f),w.forEach(f),this.h()},h(){c(e,"tabindex","0"),c(e,"class","btn btn-ghost btn-xs btn-circle"),c(i,"class","text-secondary"),c(v,"class","text-error"),c(r,"tabindex","0"),c(r,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-48 border-2 border-secondary text-xs")},m(C,w){j(C,e,w),j(C,a,w),j(C,r,w),s(r,n),s(n,i),s(r,u),s(r,m),s(m,v),b||(_=[ae(i,"click",kt(E)),ae(v,"click",kt(g))],b=!0)},p(C,w){l=C},d(C){C&&(f(e),f(a),f(r)),b=!1,at(_)}}}function Jr(l){let e,t='<span class="loading loading-spinner loading-xs"></span>';return{c(){e=h("button"),e.innerHTML=t,this.h()},l(a){e=p(a,"BUTTON",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-vc12vo"&&(e.innerHTML=t),this.h()},h(){c(e,"class","btn btn-ghost btn-xs btn-circle"),e.disabled=!0},m(a,r){j(a,e,r)},p:Ke,d(a){a&&f(e)}}}function wa(l){let e,t=l[83].description+"",a;return{c(){e=h("p"),a=N(t),this.h()},l(r){e=p(r,"P",{class:!0});var n=y(e);a=S(n,t),n.forEach(f),this.h()},h(){c(e,"class","text-xs text-neutral/70 line-clamp-2 mt-1")},m(r,n){j(r,e,n),s(e,a)},p(r,n){n[0]&2097152&&t!==(t=r[83].description+"")&&$(a,t)},d(r){r&&f(e)}}}function Ia(l){let e,t,a,r,n=l[83].name+"",i,o,u,m,v,d,b,_,E,g,C,w,I,A=l[83].quantity>1&&va(l),x=l[83].value>0&&ba(l),P=l[83].rarity&&_a(l),B=l[83].weaponData&&ga(l),T=l[83].armorData&&ka(l),H=l[1]&&Da(l),V=l[83].description&&wa(l);function L(){return l[51](l[83])}return{c(){e=h("div"),t=h("div"),a=h("div"),r=h("h4"),i=N(n),o=D(),A&&A.c(),u=D(),m=h("div"),x&&x.c(),v=D(),P&&P.c(),d=D(),B&&B.c(),b=D(),T&&T.c(),_=D(),H&&H.c(),E=D(),V&&V.c(),g=D(),this.h()},l(M){e=p(M,"DIV",{class:!0});var O=y(e);t=p(O,"DIV",{class:!0});var q=y(t);a=p(q,"DIV",{class:!0});var F=y(a);r=p(F,"H4",{class:!0});var W=y(r);i=S(W,n),o=k(W),A&&A.l(W),W.forEach(f),u=k(F),m=p(F,"DIV",{class:!0});var z=y(m);x&&x.l(z),v=k(z),P&&P.l(z),d=k(z),B&&B.l(z),b=k(z),T&&T.l(z),z.forEach(f),F.forEach(f),_=k(q),H&&H.l(q),q.forEach(f),E=k(O),V&&V.l(O),g=k(O),O.forEach(f),this.h()},h(){c(r,"class","font-medieval font-bold text-neutral truncate flex items-center gap-2"),c(m,"class","flex flex-wrap gap-1 mt-1"),c(a,"class","flex-1 min-w-0"),c(t,"class","flex items-start justify-between gap-2 mb-2"),c(e,"class",C="bg-gradient-to-br from-primary/5 to-accent/5 p-3 rounded-lg border-2 "+(l[13]===l[83].id?"opacity-50":"")+" transition-all hover:shadow-md cursor-pointer")},m(M,O){j(M,e,O),s(e,t),s(t,a),s(a,r),s(r,i),s(r,o),A&&A.m(r,null),s(a,u),s(a,m),x&&x.m(m,null),s(m,v),P&&P.m(m,null),s(m,d),B&&B.m(m,null),s(m,b),T&&T.m(m,null),s(t,_),H&&H.m(t,null),s(e,E),V&&V.m(e,null),s(e,g),w||(I=ae(e,"click",L),w=!0)},p(M,O){l=M,O[0]&2097152&&n!==(n=l[83].name+"")&&$(i,n),l[83].quantity>1?A?A.p(l,O):(A=va(l),A.c(),A.m(r,null)):A&&(A.d(1),A=null),l[83].value>0?x?x.p(l,O):(x=ba(l),x.c(),x.m(m,v)):x&&(x.d(1),x=null),l[83].rarity?P?P.p(l,O):(P=_a(l),P.c(),P.m(m,d)):P&&(P.d(1),P=null),l[83].weaponData?B?B.p(l,O):(B=ga(l),B.c(),B.m(m,b)):B&&(B.d(1),B=null),l[83].armorData?T?T.p(l,O):(T=ka(l),T.c(),T.m(m,null)):T&&(T.d(1),T=null),l[1]?H?H.p(l,O):(H=Da(l),H.c(),H.m(t,null)):H&&(H.d(1),H=null),l[83].description?V?V.p(l,O):(V=wa(l),V.c(),V.m(e,g)):V&&(V.d(1),V=null),O[0]&2105344&&C!==(C="bg-gradient-to-br from-primary/5 to-accent/5 p-3 rounded-lg border-2 "+(l[13]===l[83].id?"opacity-50":"")+" transition-all hover:shadow-md cursor-pointer")&&c(e,"class",C)},d(M){M&&f(e),A&&A.d(),x&&x.d(),P&&P.d(),B&&B.d(),T&&T.d(),H&&H.d(),V&&V.d(),w=!1,I()}}}function xa(l){let e,t,a,r,n,i=Ba(l[76])+"",o,u,m,v=Ha(l[76])+"",d,b,_,E=l[77].length+"",g,C,w,I=l[77].reduce(ja,0)+"",A,x,P,B,T,H,V=l[79]>1&&ma(l),L=Je(l[78]),M=[];for(let O=0;O<L.length;O+=1)M[O]=Ia(sa(l,L,O));return{c(){e=h("div"),t=h("div"),a=h("div"),r=h("div"),n=h("span"),o=N(i),u=D(),m=h("h3"),d=N(v),b=D(),_=h("span"),g=N(E),C=D(),w=h("span"),A=N(I),x=N(" items"),P=D(),V&&V.c(),B=D(),T=h("div");for(let O=0;O<M.length;O+=1)M[O].c();H=D(),this.h()},l(O){e=p(O,"DIV",{class:!0});var q=y(e);t=p(q,"DIV",{class:!0});var F=y(t);a=p(F,"DIV",{class:!0});var W=y(a);r=p(W,"DIV",{class:!0});var z=y(r);n=p(z,"SPAN",{class:!0});var U=y(n);o=S(U,i),U.forEach(f),u=k(z),m=p(z,"H3",{class:!0});var se=y(m);d=S(se,v),se.forEach(f),b=k(z),_=p(z,"SPAN",{class:!0});var Q=y(_);g=S(Q,E),Q.forEach(f),C=k(z),w=p(z,"SPAN",{class:!0});var G=y(w);A=S(G,I),x=S(G," items"),G.forEach(f),z.forEach(f),P=k(W),V&&V.l(W),W.forEach(f),B=k(F),T=p(F,"DIV",{class:!0});var ee=y(T);for(let te=0;te<M.length;te+=1)M[te].l(ee);ee.forEach(f),F.forEach(f),H=k(q),q.forEach(f),this.h()},h(){c(n,"class","text-2xl"),c(m,"class","text-xl font-medieval text-neutral"),c(_,"class","badge badge-secondary badge-sm"),c(w,"class","badge badge-ghost badge-sm"),c(r,"class","flex items-center gap-2 flex-1"),c(a,"class","flex items-center justify-between mb-3"),c(T,"class","grid grid-cols-1 md:grid-cols-2 gap-3"),c(t,"class","card-body p-4"),c(e,"class","card-parchment")},m(O,q){j(O,e,q),s(e,t),s(t,a),s(a,r),s(r,n),s(n,o),s(r,u),s(r,m),s(m,d),s(r,b),s(r,_),s(_,g),s(r,C),s(r,w),s(w,A),s(w,x),s(a,P),V&&V.m(a,null),s(t,B),s(t,T);for(let F=0;F<M.length;F+=1)M[F]&&M[F].m(T,null);s(e,H)},p(O,q){if(q[0]&2097152&&i!==(i=Ba(O[76])+"")&&$(o,i),q[0]&2097152&&v!==(v=Ha(O[76])+"")&&$(d,v),q[0]&2098176&&E!==(E=O[77].length+"")&&$(g,E),q[0]&2098176&&I!==(I=O[77].reduce(ja,0)+"")&&$(A,I),O[79]>1?V?V.p(O,q):(V=ma(O),V.c(),V.m(a,null)):V&&(V.d(1),V=null),q[0]&1210064898|q[1]&3){L=Je(O[78]);let F;for(F=0;F<L.length;F+=1){const W=sa(O,L,F);M[F]?M[F].p(W,q):(M[F]=Ia(W),M[F].c(),M[F].m(T,null))}for(;F<M.length;F+=1)M[F].d(1);M.length=L.length}},d(O){O&&f(e),V&&V.d(),lt(M,O)}}}function Kr(l){let e;return{c(){e=N("Este personaje no tiene items a√∫n")},l(t){e=S(t,"Este personaje no tiene items a√∫n")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Wr(l){let e;return{c(){e=N("Agrega tu primer item para comenzar")},l(t){e=S(t,"Agrega tu primer item para comenzar")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function Ta(l){let e,t=`<span class="text-xl">‚ûï</span>
            Agregar Primer Item`,a,r;return{c(){e=h("button"),e.innerHTML=t,this.h()},l(n){e=p(n,"BUTTON",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-1gd3ivp"&&(e.innerHTML=t),this.h()},h(){c(e,"class","btn btn-primary")},m(n,i){j(n,e,i),a||(r=ae(e,"click",l[46]),a=!0)},p:Ke,d(n){n&&f(e),a=!1,r()}}}function Xr(l){let e;return{c(){e=h("div"),this.h()},l(t){e=p(t,"DIV",{class:!0}),y(e).forEach(f),this.h()},h(){c(e,"class","skeleton h-24 w-full")},m(t,a){j(t,e,a)},p:Ke,d(t){t&&f(e)}}}function Va(l){let e,t,a,r="‚úï",n,i,o,u="üí∞ Gestionar Monedas",m,v,d,b,_=l[19]?"Ocultar":"Mostrar",E,g,C,w,I,A,x,P='<span class="label-text font-medieval text-neutral">Platino (pp)</span> <span class="label-text-alt text-neutral/60">10 gp c/u</span>',B,T,H,V,L,M,O,q='<span class="label-text font-medieval text-neutral">Oro (gp)</span>',F,W,z,U,se,Q,G,ee='<span class="label-text font-medieval text-neutral">Plata (sp)</span> <span class="label-text-alt text-neutral/60">0.1 gp c/u</span>',te,K,R,Y,le,oe,de,ye='<span class="label-text font-medieval text-neutral">Cobre (cp)</span> <span class="label-text-alt text-neutral/60">0.01 gp c/u</span>',we,X,ue,he,Ce,Fe,Ve,ke="Valor Total en Oro (gp):",ce,fe,ve=rt(l[4].platinum*10+l[4].gold+l[4].silver*.1+l[4].copper*.01)+"",Te,me,_e,Be,He,Pe="Cancelar",ne,Ie,ze,Ge,je,Ne,Oe=l[19]&&Aa(l),Se=l[5].platinum&&l[6].platinum&&Pa(l),Re=l[5].gold&&l[6].gold&&Sa(l),ge=l[5].silver&&l[6].silver&&Na(l),Me=l[5].copper&&l[6].copper&&Ma(l);return{c(){e=h("div"),t=h("div"),a=h("button"),a.textContent=r,n=D(),i=h("div"),o=h("h3"),o.textContent=u,m=D(),v=h("div"),d=h("button"),b=N("üîÑ "),E=N(_),g=N(" Calculadora de Conversi√≥n"),C=D(),Oe&&Oe.c(),w=D(),I=h("div"),A=h("div"),x=h("label"),x.innerHTML=P,B=D(),T=h("input"),V=D(),Se&&Se.c(),L=D(),M=h("div"),O=h("label"),O.innerHTML=q,F=D(),W=h("input"),U=D(),Re&&Re.c(),se=D(),Q=h("div"),G=h("label"),G.innerHTML=ee,te=D(),K=h("input"),Y=D(),ge&&ge.c(),le=D(),oe=h("div"),de=h("label"),de.innerHTML=ye,we=D(),X=h("input"),he=D(),Me&&Me.c(),Ce=D(),Fe=h("div"),Ve=h("p"),Ve.textContent=ke,ce=D(),fe=h("p"),Te=N(ve),me=N(" gp"),_e=D(),Be=h("div"),He=h("button"),He.textContent=Pe,ne=D(),Ie=h("button"),ze=N("üí∞ Actualizar Monedas"),this.h()},l(re){e=p(re,"DIV",{class:!0});var Ae=y(e);t=p(Ae,"DIV",{class:!0});var Z=y(t);a=p(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),J(a)!=="svelte-1bq4q6z"&&(a.textContent=r),n=k(Z),i=p(Z,"DIV",{class:!0});var be=y(i);o=p(be,"H3",{class:!0,"data-svelte-h":!0}),J(o)!=="svelte-1bizsdp"&&(o.textContent=u),m=k(be),v=p(be,"DIV",{class:!0});var Le=y(v);d=p(Le,"BUTTON",{class:!0});var ie=y(d);b=S(ie,"üîÑ "),E=S(ie,_),g=S(ie," Calculadora de Conversi√≥n"),ie.forEach(f),Le.forEach(f),C=k(be),Oe&&Oe.l(be),w=k(be),I=p(be,"DIV",{class:!0});var De=y(I);A=p(De,"DIV",{class:!0});var Ee=y(A);x=p(Ee,"LABEL",{class:!0,"data-svelte-h":!0}),J(x)!=="svelte-yyxksc"&&(x.innerHTML=P),B=k(Ee),T=p(Ee,"INPUT",{type:!0,min:!0,class:!0}),V=k(Ee),Se&&Se.l(Ee),Ee.forEach(f),L=k(De),M=p(De,"DIV",{class:!0});var Qe=y(M);O=p(Qe,"LABEL",{class:!0,"data-svelte-h":!0}),J(O)!=="svelte-1hnm55z"&&(O.innerHTML=q),F=k(Qe),W=p(Qe,"INPUT",{type:!0,min:!0,class:!0}),U=k(Qe),Re&&Re.l(Qe),Qe.forEach(f),se=k(De),Q=p(De,"DIV",{class:!0});var Xe=y(Q);G=p(Xe,"LABEL",{class:!0,"data-svelte-h":!0}),J(G)!=="svelte-auuhws"&&(G.innerHTML=ee),te=k(Xe),K=p(Xe,"INPUT",{type:!0,min:!0,class:!0}),Y=k(Xe),ge&&ge.l(Xe),Xe.forEach(f),le=k(De),oe=p(De,"DIV",{class:!0});var We=y(oe);de=p(We,"LABEL",{class:!0,"data-svelte-h":!0}),J(de)!=="svelte-glv807"&&(de.innerHTML=ye),we=k(We),X=p(We,"INPUT",{type:!0,min:!0,class:!0}),he=k(We),Me&&Me.l(We),We.forEach(f),De.forEach(f),Ce=k(be),Fe=p(be,"DIV",{class:!0});var pe=y(Fe);Ve=p(pe,"P",{class:!0,"data-svelte-h":!0}),J(Ve)!=="svelte-13m8np5"&&(Ve.textContent=ke),ce=k(pe),fe=p(pe,"P",{class:!0});var qe=y(fe);Te=S(qe,ve),me=S(qe," gp"),qe.forEach(f),pe.forEach(f),_e=k(be),Be=p(be,"DIV",{class:!0});var et=y(Be);He=p(et,"BUTTON",{class:!0,"data-svelte-h":!0}),J(He)!=="svelte-e287bb"&&(He.textContent=Pe),ne=k(et),Ie=p(et,"BUTTON",{class:!0});var st=y(Ie);ze=S(st,"üí∞ Actualizar Monedas"),st.forEach(f),et.forEach(f),be.forEach(f),Z.forEach(f),Ae.forEach(f),this.h()},h(){c(a,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-2xl font-medieval text-neutral text-center mb-4"),c(d,"class","btn btn-sm btn-outline w-full"),c(v,"class","mb-4"),c(x,"class","label"),c(T,"type","number"),c(T,"min","0"),c(T,"class",H="input input-bordered bg-[#2d241c] text-base-content "+(l[5].platinum&&l[6].platinum?"border-error border-2":"border-primary/50")),c(A,"class","form-control"),c(O,"class","label"),c(W,"type","number"),c(W,"min","0"),c(W,"class",z="input input-bordered bg-[#2d241c] text-base-content "+(l[5].gold&&l[6].gold?"border-error border-2":"border-primary/50")),c(M,"class","form-control"),c(G,"class","label"),c(K,"type","number"),c(K,"min","0"),c(K,"class",R="input input-bordered bg-[#2d241c] text-base-content "+(l[5].silver&&l[6].silver?"border-error border-2":"border-primary/50")),c(Q,"class","form-control"),c(de,"class","label"),c(X,"type","number"),c(X,"min","0"),c(X,"class",ue="input input-bordered bg-[#2d241c] text-base-content "+(l[5].copper&&l[6].copper?"border-error border-2":"border-primary/50")),c(oe,"class","form-control"),c(I,"class","space-y-3"),c(Ve,"class","text-xs font-medieval mb-1"),c(fe,"class","text-lg font-bold text-success"),c(Fe,"class","bg-success/10 p-3 rounded-lg border border-success/30 mt-3"),c(He,"class","btn btn-ghost"),c(Ie,"class","btn btn-primary"),Ie.disabled=Ge=!l[22],c(Be,"class","card-actions justify-end mt-4"),c(i,"class","card-body"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-2xl relative"),c(e,"class","modal modal-open z-50")},m(re,Ae){j(re,e,Ae),s(e,t),s(t,a),s(t,n),s(t,i),s(i,o),s(i,m),s(i,v),s(v,d),s(d,b),s(d,E),s(d,g),s(i,C),Oe&&Oe.m(i,null),s(i,w),s(i,I),s(I,A),s(A,x),s(A,B),s(A,T),xe(T,l[4].platinum),s(A,V),Se&&Se.m(A,null),s(I,L),s(I,M),s(M,O),s(M,F),s(M,W),xe(W,l[4].gold),s(M,U),Re&&Re.m(M,null),s(I,se),s(I,Q),s(Q,G),s(Q,te),s(Q,K),xe(K,l[4].silver),s(Q,Y),ge&&ge.m(Q,null),s(I,le),s(I,oe),s(oe,de),s(oe,we),s(oe,X),xe(X,l[4].copper),s(oe,he),Me&&Me.m(oe,null),s(i,Ce),s(i,Fe),s(Fe,Ve),s(Fe,ce),s(Fe,fe),s(fe,Te),s(fe,me),s(i,_e),s(i,Be),s(Be,He),s(Be,ne),s(Be,Ie),s(Ie,ze),je||(Ne=[ae(a,"click",l[58]),ae(d,"click",l[59]),ae(T,"input",l[62]),ae(T,"blur",l[63]),ae(W,"input",l[64]),ae(W,"blur",l[65]),ae(K,"input",l[66]),ae(K,"blur",l[67]),ae(X,"input",l[68]),ae(X,"blur",l[69]),ae(He,"click",l[70]),ae(Ie,"click",l[28]),ae(t,"click",kt(l[37])),ae(e,"click",l[71])],je=!0)},p(re,Ae){Ae[0]&524288&&_!==(_=re[19]?"Ocultar":"Mostrar")&&$(E,_),re[19]?Oe?Oe.p(re,Ae):(Oe=Aa(re),Oe.c(),Oe.m(i,w)):Oe&&(Oe.d(1),Oe=null),Ae[0]&96&&H!==(H="input input-bordered bg-[#2d241c] text-base-content "+(re[5].platinum&&re[6].platinum?"border-error border-2":"border-primary/50"))&&c(T,"class",H),Ae[0]&16&&Ue(T.value)!==re[4].platinum&&xe(T,re[4].platinum),re[5].platinum&&re[6].platinum?Se?Se.p(re,Ae):(Se=Pa(re),Se.c(),Se.m(A,null)):Se&&(Se.d(1),Se=null),Ae[0]&96&&z!==(z="input input-bordered bg-[#2d241c] text-base-content "+(re[5].gold&&re[6].gold?"border-error border-2":"border-primary/50"))&&c(W,"class",z),Ae[0]&16&&Ue(W.value)!==re[4].gold&&xe(W,re[4].gold),re[5].gold&&re[6].gold?Re?Re.p(re,Ae):(Re=Sa(re),Re.c(),Re.m(M,null)):Re&&(Re.d(1),Re=null),Ae[0]&96&&R!==(R="input input-bordered bg-[#2d241c] text-base-content "+(re[5].silver&&re[6].silver?"border-error border-2":"border-primary/50"))&&c(K,"class",R),Ae[0]&16&&Ue(K.value)!==re[4].silver&&xe(K,re[4].silver),re[5].silver&&re[6].silver?ge?ge.p(re,Ae):(ge=Na(re),ge.c(),ge.m(Q,null)):ge&&(ge.d(1),ge=null),Ae[0]&96&&ue!==(ue="input input-bordered bg-[#2d241c] text-base-content "+(re[5].copper&&re[6].copper?"border-error border-2":"border-primary/50"))&&c(X,"class",ue),Ae[0]&16&&Ue(X.value)!==re[4].copper&&xe(X,re[4].copper),re[5].copper&&re[6].copper?Me?Me.p(re,Ae):(Me=Ma(re),Me.c(),Me.m(oe,null)):Me&&(Me.d(1),Me=null),Ae[0]&16&&ve!==(ve=rt(re[4].platinum*10+re[4].gold+re[4].silver*.1+re[4].copper*.01)+"")&&$(Te,ve),Ae[0]&4194304&&Ge!==(Ge=!re[22])&&(Ie.disabled=Ge)},d(re){re&&f(e),Oe&&Oe.d(),Se&&Se.d(),Re&&Re.d(),ge&&ge.d(),Me&&Me.d(),je=!1,at(Ne)}}}function Aa(l){let e,t,a="Calculadora de Monedas",r,n,i,o,u,m,v="Cobre (cp)",d,b="Plata (sp)",_,E="Oro (gp)",g,C="Platino (pp)",w,I,A,x=l[8]>0&&La(l);return{c(){e=h("div"),t=h("p"),t.textContent=a,r=D(),n=h("div"),i=h("input"),o=D(),u=h("select"),m=h("option"),m.textContent=v,d=h("option"),d.textContent=b,_=h("option"),_.textContent=E,g=h("option"),g.textContent=C,w=D(),x&&x.c(),this.h()},l(P){e=p(P,"DIV",{class:!0});var B=y(e);t=p(B,"P",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-xg16f"&&(t.textContent=a),r=k(B),n=p(B,"DIV",{class:!0});var T=y(n);i=p(T,"INPUT",{type:!0,placeholder:!0,class:!0}),o=k(T),u=p(T,"SELECT",{class:!0});var H=y(u);m=p(H,"OPTION",{"data-svelte-h":!0}),J(m)!=="svelte-ep68vs"&&(m.textContent=v),d=p(H,"OPTION",{"data-svelte-h":!0}),J(d)!=="svelte-t2zfkx"&&(d.textContent=b),_=p(H,"OPTION",{"data-svelte-h":!0}),J(_)!=="svelte-gdqh7j"&&(_.textContent=E),g=p(H,"OPTION",{"data-svelte-h":!0}),J(g)!=="svelte-fp2d4o"&&(g.textContent=C),H.forEach(f),T.forEach(f),w=k(B),x&&x.l(B),B.forEach(f),this.h()},h(){c(t,"class","font-medieval text-sm mb-2"),c(i,"type","number"),c(i,"placeholder","Cantidad"),c(i,"class","input input-sm input-bordered bg-[#2d241c]"),m.__value="cp",xe(m,m.__value),d.__value="sp",xe(d,d.__value),_.__value="gp",xe(_,_.__value),g.__value="pp",xe(g,g.__value),c(u,"class","select select-sm select-bordered bg-[#2d241c]"),l[9]===void 0&&Ts(()=>l[61].call(u)),c(n,"class","grid grid-cols-2 gap-2"),c(e,"class","bg-info/10 p-4 rounded-lg border border-info/30 mb-4")},m(P,B){j(P,e,B),s(e,t),s(e,r),s(e,n),s(n,i),xe(i,l[8]),s(n,o),s(n,u),s(u,m),s(u,d),s(u,_),s(u,g),Ut(u,l[9],!0),s(e,w),x&&x.m(e,null),I||(A=[ae(i,"input",l[60]),ae(u,"change",l[61])],I=!0)},p(P,B){B[0]&256&&Ue(i.value)!==P[8]&&xe(i,P[8]),B[0]&512&&Ut(u,P[9]),P[8]>0?x?x.p(P,B):(x=La(P),x.c(),x.m(e,null)):x&&(x.d(1),x=null)},d(P){P&&f(e),x&&x.d(),I=!1,at(A)}}}function La(l){let e,t,a,r,n,i,o,u,m,v,d=rt(l[23].cp)+"",b,_,E,g,C,w=rt(l[23].sp)+"",I,A,x,P,B,T=rt(l[23].gp)+"",H,V,L,M,O,q=rt(l[23].pp)+"",F,W;return{c(){e=h("div"),t=h("p"),a=h("strong"),r=N(l[8]),n=D(),i=N(l[9]),o=N(" equivale a:"),u=D(),m=h("p"),v=N("ü•â "),b=N(d),_=N(" cp"),E=D(),g=h("p"),C=N("ü•à "),I=N(w),A=N(" sp"),x=D(),P=h("p"),B=N("ü•á "),H=N(T),V=N(" gp"),L=D(),M=h("p"),O=N("üíé "),F=N(q),W=N(" pp"),this.h()},l(z){e=p(z,"DIV",{class:!0});var U=y(e);t=p(U,"P",{});var se=y(t);a=p(se,"STRONG",{});var Q=y(a);r=S(Q,l[8]),n=k(Q),i=S(Q,l[9]),Q.forEach(f),o=S(se," equivale a:"),se.forEach(f),u=k(U),m=p(U,"P",{});var G=y(m);v=S(G,"ü•â "),b=S(G,d),_=S(G," cp"),G.forEach(f),E=k(U),g=p(U,"P",{});var ee=y(g);C=S(ee,"ü•à "),I=S(ee,w),A=S(ee," sp"),ee.forEach(f),x=k(U),P=p(U,"P",{});var te=y(P);B=S(te,"ü•á "),H=S(te,T),V=S(te," gp"),te.forEach(f),L=k(U),M=p(U,"P",{});var K=y(M);O=S(K,"üíé "),F=S(K,q),W=S(K," pp"),K.forEach(f),U.forEach(f),this.h()},h(){c(e,"class","mt-3 text-xs space-y-1")},m(z,U){j(z,e,U),s(e,t),s(t,a),s(a,r),s(a,n),s(a,i),s(t,o),s(e,u),s(e,m),s(m,v),s(m,b),s(m,_),s(e,E),s(e,g),s(g,C),s(g,I),s(g,A),s(e,x),s(e,P),s(P,B),s(P,H),s(P,V),s(e,L),s(e,M),s(M,O),s(M,F),s(M,W)},p(z,U){U[0]&256&&$(r,z[8]),U[0]&512&&$(i,z[9]),U[0]&8388608&&d!==(d=rt(z[23].cp)+"")&&$(b,d),U[0]&8388608&&w!==(w=rt(z[23].sp)+"")&&$(I,w),U[0]&8388608&&T!==(T=rt(z[23].gp)+"")&&$(H,T),U[0]&8388608&&q!==(q=rt(z[23].pp)+"")&&$(F,q)},d(z){z&&f(e)}}}function Pa(l){let e,t,a,r=l[5].platinum+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&32&&r!==(r=i[5].platinum+"")&&$(n,r)},d(i){i&&f(e)}}}function Sa(l){let e,t,a,r=l[5].gold+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&32&&r!==(r=i[5].gold+"")&&$(n,r)},d(i){i&&f(e)}}}function Na(l){let e,t,a,r=l[5].silver+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&32&&r!==(r=i[5].silver+"")&&$(n,r)},d(i){i&&f(e)}}}function Ma(l){let e,t,a,r=l[5].copper+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error text-xs"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&32&&r!==(r=i[5].copper+"")&&$(n,r)},d(i){i&&f(e)}}}function Yr(l){let e,t,a,r,n,i,o,u,m,v,d,b,_,E,g=l[12]&&ra(l);function C(L,M){return L[11]?Fr:L[2]?qr:jr}let w=C(l),I=w(l);function A(L){l[52](L)}let x={characterId:l[0]};l[14]!==void 0&&(x.isOpen=l[14]),r=new _r({props:x}),Pt.push(()=>St(r,"isOpen",A)),r.$on("add",l[25]),r.$on("close",l[53]);function P(L){l[54](L)}let B={item:l[18]};l[16]!==void 0&&(B.isOpen=l[16]),o=new kr({props:B}),Pt.push(()=>St(o,"isOpen",P)),o.$on("close",l[55]);function T(L){l[56](L)}let H={item:l[18],isOwner:l[1]};l[17]!==void 0&&(H.isOpen=l[17]),v=new Hr({props:H}),Pt.push(()=>St(v,"isOpen",T)),v.$on("update",l[26]),v.$on("close",l[57]);let V=l[15]&&l[2]&&Va(l);return{c(){e=h("div"),g&&g.c(),t=D(),I.c(),a=D(),yt(r.$$.fragment),i=D(),yt(o.$$.fragment),m=D(),yt(v.$$.fragment),b=D(),V&&V.c(),_=Ye(),this.h()},l(L){e=p(L,"DIV",{class:!0});var M=y(e);g&&g.l(M),t=k(M),I.l(M),M.forEach(f),a=k(L),Et(r.$$.fragment,L),i=k(L),Et(o.$$.fragment,L),m=k(L),Et(v.$$.fragment,L),b=k(L),V&&V.l(L),_=Ye(),this.h()},h(){c(e,"class","space-y-4")},m(L,M){j(L,e,M),g&&g.m(e,null),s(e,t),I.m(e,null),j(L,a,M),gt(r,L,M),j(L,i,M),gt(o,L,M),j(L,m,M),gt(v,L,M),j(L,b,M),V&&V.m(L,M),j(L,_,M),E=!0},p(L,M){L[12]?g?g.p(L,M):(g=ra(L),g.c(),g.m(e,t)):g&&(g.d(1),g=null),w===(w=C(L))&&I?I.p(L,M):(I.d(1),I=w(L),I&&(I.c(),I.m(e,null)));const O={};M[0]&1&&(O.characterId=L[0]),!n&&M[0]&16384&&(n=!0,O.isOpen=L[14],Nt(()=>n=!1)),r.$set(O);const q={};M[0]&262144&&(q.item=L[18]),!u&&M[0]&65536&&(u=!0,q.isOpen=L[16],Nt(()=>u=!1)),o.$set(q);const F={};M[0]&262144&&(F.item=L[18]),M[0]&2&&(F.isOwner=L[1]),!d&&M[0]&131072&&(d=!0,F.isOpen=L[17],Nt(()=>d=!1)),v.$set(F),L[15]&&L[2]?V?V.p(L,M):(V=Va(L),V.c(),V.m(_.parentNode,_)):V&&(V.d(1),V=null)},i(L){E||(Ze(r.$$.fragment,L),Ze(o.$$.fragment,L),Ze(v.$$.fragment,L),E=!0)},o(L){$e(r.$$.fragment,L),$e(o.$$.fragment,L),$e(v.$$.fragment,L),E=!1},d(L){L&&(f(e),f(a),f(i),f(m),f(b),f(_)),g&&g.d(),I.d(),_t(r,L),_t(o,L),_t(v,L),V&&V.d(L)}}}const Zr=5e3,Jt=20;function Ba(l){return{weapon:"‚öîÔ∏è",armor:"üõ°Ô∏è",shield:"üõ°Ô∏è",tool:"üîß",consumable:"üß™",treasure:"üíé",other:"üì¶"}[l]||"üì¶"}function rt(l){return l%1===0?l.toString():l.toFixed(2)}function Ha(l){return{weapon:"Armas",armor:"Armaduras",shield:"Escudos",tool:"Herramientas",consumable:"Consumibles",treasure:"Tesoros",other:"Otros"}[l]||"Items"}function Oa(l){return l&&{common:"badge-ghost",uncommon:"badge-success",rare:"badge-primary","very rare":"badge-secondary",legendary:"badge-warning",artifact:"badge-error"}[l.toLowerCase()]||"badge-ghost"}function qa(l){return l?l.charAt(0).toUpperCase()+l.slice(1):"Com√∫n"}function $r(l,e){if(!l||l<=0)return{cp:0,sp:0,gp:0,pp:0};let t=0;switch(e){case"cp":t=l;break;case"sp":t=l*10;break;case"gp":t=l*100;break;case"pp":t=l*1e3;break}return{cp:t,sp:t/10,gp:t/100,pp:t/1e3}}const ja=(l,e)=>l+e.quantity;function en(l,e,t){let a,r,n,i,o,u,{characterId:m}=e,{isOwner:v=!1}=e,d=null,b=!0,_="",E=null,g="",C=0,w=!1,I=!1,A=!1,x=!1,P=null,B={copper:0,silver:0,gold:0,platinum:0},T={copper:"",silver:"",gold:"",platinum:""},H={copper:!1,silver:!1,gold:!1,platinum:!1},V=(()=>{if(typeof window>"u")return{};const Z=sessionStorage.getItem(`inventory-pages-${m}`);return Z?JSON.parse(Z):{}})(),L=!1,M=0,O="gp";Vs(async()=>{await q()});async function q(Z=!1){const be=Date.now();if(!(!Z&&d&&be-C<Zr))try{t(11,b=!0),t(12,_=""),t(2,d=await Lt.getInventory(m)),C=be,d&&t(4,B={...d.currency})}catch(Le){t(12,_=Le.message||"Error cargando inventario"),console.error("Error loading inventory:",Le)}finally{t(11,b=!1)}}async function F(Z){try{t(12,_=""),await Lt.createItem(m,Z.detail),await q(!0),t(14,w=!1)}catch(be){t(12,_=be.message||"Error agregando item"),console.error("Error adding item:",be)}}async function W(Z){if(P)try{t(12,_=""),t(13,E=P.id);const be=Z.detail;await Lt.updateItem(P.id,be),await q(!0),t(17,x=!1),t(18,P=null)}catch(be){t(12,_=be.message||"Error actualizando item"),console.error("Error updating item:",be)}finally{t(13,E=null)}}async function z(Z){if(confirm(`¬øEliminar ${Z.name}${Z.quantity>1?` (√ó${Z.quantity})`:""}?`))try{t(13,E=Z.id),t(12,_=""),await Lt.deleteItem(Z.id),await q(!0)}catch(be){t(12,_=be.message||"Error eliminando item"),console.error("Error deleting item:",be)}finally{t(13,E=null)}}async function U(){if(Object.keys(H).forEach(Z=>{t(6,H[Z]=!0,H)}),!!a)try{t(12,_=""),await Lt.updateCurrency(m,B),await q(!0),t(15,I=!1),se()}catch(Z){t(12,_=Z.message||"Error actualizando monedas"),console.error("Error updating currency:",Z)}}function se(){Object.keys(H).forEach(Z=>{t(6,H[Z]=!1,H)}),Object.keys(T).forEach(Z=>{t(5,T[Z]="",T)})}function Q(Z){t(18,P=Z),t(16,A=!0)}function G(Z){t(18,P=Z),t(17,x=!0)}function ee(Z){const be=i[Z]||[],ie=(V[Z]||0)*Jt,De=ie+Jt;return be.slice(ie,De)}function te(Z){const be=i[Z]||[];return Math.ceil(be.length/Jt)}function K(Z,be){const Le=te(Z),De=(V[Z]||0)+be;De>=0&&De<Le&&t(7,V={...V,[Z]:De})}function R(Z){t(6,H[Z]=!0,H)}function Y(Z){Mt.call(this,l,Z)}function le(Z){Mt.call(this,l,Z)}const oe=()=>t(12,_=""),de=()=>q(!0);function ye(){g=this.value,t(3,g)}const we=()=>t(3,g=""),X=Z=>Z.name.toLowerCase().includes(g.toLowerCase())||Z.description&&Z.description.toLowerCase().includes(g.toLowerCase()),ue=()=>t(15,I=!0),he=()=>t(14,w=!0),Ce=()=>t(14,w=!0),Fe=Z=>K(Z,-1),Ve=Z=>K(Z,1),ke=Z=>G(Z),ce=Z=>z(Z),fe=Z=>Q(Z);function ve(Z){w=Z,t(14,w)}const Te=()=>t(14,w=!1);function me(Z){A=Z,t(16,A)}const _e=()=>{t(16,A=!1),t(18,P=null)};function Be(Z){x=Z,t(17,x)}const He=()=>{t(17,x=!1),t(18,P=null)},Pe=()=>{t(15,I=!1),se()},ne=()=>t(19,L=!L);function Ie(){M=Ue(this.value),t(8,M)}function ze(){O=xs(this),t(9,O)}function Ge(){B.platinum=Ue(this.value),t(4,B)}const je=()=>R("platinum");function Ne(){B.gold=Ue(this.value),t(4,B)}const Oe=()=>R("gold");function Se(){B.silver=Ue(this.value),t(4,B)}const Re=()=>R("silver");function ge(){B.copper=Ue(this.value),t(4,B)}const Me=()=>R("copper"),re=()=>{t(15,I=!1),se()},Ae=()=>{t(15,I=!1),se()};return l.$$set=Z=>{"characterId"in Z&&t(0,m=Z.characterId),"isOwner"in Z&&t(1,v=Z.isOwner)},l.$$.update=()=>{if(l.$$.dirty[0]&136&&g&&Object.keys(V).forEach(Z=>{t(7,V[Z]=0,V)}),l.$$.dirty[0]&129&&typeof window<"u"&&sessionStorage.setItem(`inventory-pages-${m}`,JSON.stringify(V)),l.$$.dirty[0]&80&&H.copper){const Z=Ft(B.copper);t(5,T.copper=Z.valid?"":Z.error||"",T)}if(l.$$.dirty[0]&80&&H.silver){const Z=Ft(B.silver);t(5,T.silver=Z.valid?"":Z.error||"",T)}if(l.$$.dirty[0]&80&&H.gold){const Z=Ft(B.gold);t(5,T.gold=Z.valid?"":Z.error||"",T)}if(l.$$.dirty[0]&80&&H.platinum){const Z=Ft(B.platinum);t(5,T.platinum=Z.valid?"":Z.error||"",T)}l.$$.dirty[0]&32&&t(22,a=!T.copper&&!T.silver&&!T.gold&&!T.platinum),l.$$.dirty[0]&768&&t(23,r=$r(M,O)),l.$$.dirty[0]&4&&t(10,n=(d==null?void 0:d.items.reduce((Z,be)=>(Z[be.type]||(Z[be.type]=[]),Z[be.type].push(be),Z),{}))||{}),l.$$.dirty[0]&1032&&t(36,i=(()=>{if(!g.trim())return n;const Z=g.toLowerCase(),be={};return Object.keys(n).forEach(Le=>{const ie=n[Le].filter(De=>{var Ee,Qe;return De.name.toLowerCase().includes(Z)||De.description&&De.description.toLowerCase().includes(Z)||((Ee=De.weaponData)==null?void 0:Ee.weaponType.toLowerCase().includes(Z))||((Qe=De.armorData)==null?void 0:Qe.armorType.toLowerCase().includes(Z))||De.rarity&&De.rarity.toLowerCase().includes(Z)});ie.length>0&&(be[Le]=ie)}),be})()),l.$$.dirty[1]&32&&t(21,o=Object.keys(i).sort()),l.$$.dirty[0]&4&&t(20,u=(d==null?void 0:d.items.reduce((Z,be)=>Z+be.quantity,0))||0)},[m,v,d,g,B,T,H,V,M,O,n,b,_,E,w,I,A,x,P,L,u,o,a,r,q,F,W,z,U,se,Q,G,ee,te,K,R,i,Y,le,oe,de,ye,we,X,ue,he,Ce,Fe,Ve,ke,ce,fe,ve,Te,me,_e,Be,He,Pe,ne,Ie,ze,Ge,je,Ne,Oe,Se,Re,ge,Me,re,Ae]}class tn extends Dt{constructor(e){super(),wt(this,e,en,Yr,It,{characterId:0,isOwner:1},null,[-1,-1,-1])}}function Fa(l,e,t){const a=l.slice();return a[22]=e[t],a}function Ua(l,e,t){const a=l.slice();return a[22]=e[t],a}function za(l,e,t){const a=l.slice();return a[27]=e[t],a}function Ra(l,e,t){const a=l.slice();return a[27]=e[t],a}function Ga(l,e,t){const a=l.slice();return a[32]=e[t],a}function Qa(l){let e,t,a,r='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',n,i,o,u,m="‚úèÔ∏è Editar",v,d,b,_="üóëÔ∏è Eliminar",E,g;return{c(){e=h("div"),t=h("div"),a=h("label"),a.innerHTML=r,n=D(),i=h("ul"),o=h("li"),u=h("a"),u.textContent=m,v=D(),d=h("li"),b=h("a"),b.textContent=_,this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);a=p(I,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),J(a)!=="svelte-peoic3"&&(a.innerHTML=r),n=k(I),i=p(I,"UL",{tabindex:!0,class:!0});var A=y(i);o=p(A,"LI",{});var x=y(o);u=p(x,"A",{class:!0,"data-svelte-h":!0}),J(u)!=="svelte-wsazpu"&&(u.textContent=m),x.forEach(f),v=k(A),d=p(A,"LI",{});var P=y(d);b=p(P,"A",{class:!0,"data-svelte-h":!0}),J(b)!=="svelte-14pabf4"&&(b.textContent=_),P.forEach(f),A.forEach(f),I.forEach(f),w.forEach(f),this.h()},h(){c(a,"tabindex","0"),c(a,"class","btn btn-ghost btn-sm btn-circle"),c(u,"class","text-secondary"),c(b,"class","text-error"),c(i,"tabindex","0"),c(i,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-52 border-2 border-secondary"),c(t,"class","dropdown dropdown-end"),c(e,"class","flex gap-2 flex-shrink-0")},m(C,w){j(C,e,w),s(e,t),s(t,a),s(t,n),s(t,i),s(i,o),s(o,u),s(i,v),s(i,d),s(d,b),E||(g=[ae(u,"click",l[13]),ae(b,"click",l[14])],E=!0)},p:Ke,d(C){C&&f(e),E=!1,at(g)}}}function ln(l){let e,t;return e=new tn({props:{characterId:l[0].id,isOwner:l[1]}}),{c(){yt(e.$$.fragment)},l(a){Et(e.$$.fragment,a)},m(a,r){gt(e,a,r),t=!0},p(a,r){const n={};r[0]&1&&(n.characterId=a[0].id),r[0]&2&&(n.isOwner=a[1]),e.$set(n)},i(a){t||(Ze(e.$$.fragment,a),t=!0)},o(a){$e(e.$$.fragment,a),t=!1},d(a){_t(e,a)}}}function an(l){let e,t,a,r,n="CA",i,o,u=l[0].armorClass+"",m,v,d,b,_="INIT",E,g,C,w=l[0].initiative+"",I,A,x,P,B="VELOCIDAD",T,H,V=l[0].speed+"",L,M,O,q,F,W="NIVEL",z,U,se=l[0].level+"",Q,G,ee,te,K,R="PUNTOS DE VIDA",Y,le,oe=l[0].currentHp+"",de,ye,we=l[0].maxHp+"",X,ue,he,Ce,Fe,Ve,ke,ce,fe,ve,Te="üí™ Puntuaciones de Habilidad",me,_e,Be,He,Pe,ne="üõ°Ô∏è Tiradas de Salvaci√≥n",Ie,ze,Ge,je,Ne,Oe="üéØ Habilidades",Se,Re,ge=l[9]&&Ja(l),Me=Je(l[8]),re=[];for(let ie=0;ie<Me.length;ie+=1)re[ie]=Wa(Ra(l,Me,ie));let Ae=Je(l[7]),Z=[];for(let ie=0;ie<Ae.length;ie+=1)Z[ie]=Xa(za(l,Ae,ie));let be=l[6].length>0&&Ya(l),Le=l[5].length>0&&es(l);return{c(){e=h("div"),t=h("div"),a=h("div"),r=h("p"),r.textContent=n,i=D(),o=h("p"),m=N(u),v=D(),d=h("div"),b=h("p"),b.textContent=_,E=D(),g=h("p"),C=N("+"),I=N(w),A=D(),x=h("div"),P=h("p"),P.textContent=B,T=D(),H=h("p"),L=N(V),M=N("'"),O=D(),q=h("div"),F=h("p"),F.textContent=W,z=D(),U=h("p"),Q=N(se),G=D(),ee=h("div"),te=h("div"),K=h("span"),K.textContent=R,Y=D(),le=h("span"),de=N(oe),ye=N("/"),X=N(we),ue=D(),he=h("progress"),ke=D(),ge&&ge.c(),ce=D(),fe=h("div"),ve=h("h4"),ve.textContent=Te,me=D(),_e=h("div");for(let ie=0;ie<re.length;ie+=1)re[ie].c();Be=D(),He=h("div"),Pe=h("h4"),Pe.textContent=ne,Ie=D(),ze=h("div");for(let ie=0;ie<Z.length;ie+=1)Z[ie].c();Ge=D(),je=h("div"),Ne=h("h4"),Ne.textContent=Oe,Se=D(),be&&be.c(),Re=D(),Le&&Le.c(),this.h()},l(ie){e=p(ie,"DIV",{class:!0});var De=y(e);t=p(De,"DIV",{class:!0});var Ee=y(t);a=p(Ee,"DIV",{class:!0});var Qe=y(a);r=p(Qe,"P",{class:!0,"data-svelte-h":!0}),J(r)!=="svelte-wol06o"&&(r.textContent=n),i=k(Qe),o=p(Qe,"P",{class:!0});var Xe=y(o);m=S(Xe,u),Xe.forEach(f),Qe.forEach(f),v=k(Ee),d=p(Ee,"DIV",{class:!0});var We=y(d);b=p(We,"P",{class:!0,"data-svelte-h":!0}),J(b)!=="svelte-kbusj2"&&(b.textContent=_),E=k(We),g=p(We,"P",{class:!0});var pe=y(g);C=S(pe,"+"),I=S(pe,w),pe.forEach(f),We.forEach(f),A=k(Ee),x=p(Ee,"DIV",{class:!0});var qe=y(x);P=p(qe,"P",{class:!0,"data-svelte-h":!0}),J(P)!=="svelte-gdgr"&&(P.textContent=B),T=k(qe),H=p(qe,"P",{class:!0});var et=y(H);L=S(et,V),M=S(et,"'"),et.forEach(f),qe.forEach(f),O=k(Ee),q=p(Ee,"DIV",{class:!0});var st=y(q);F=p(st,"P",{class:!0,"data-svelte-h":!0}),J(F)!=="svelte-16dg4q8"&&(F.textContent=W),z=k(st),U=p(st,"P",{class:!0});var tt=y(U);Q=S(tt,se),tt.forEach(f),st.forEach(f),Ee.forEach(f),G=k(De),ee=p(De,"DIV",{class:!0});var ut=y(ee);te=p(ut,"DIV",{class:!0});var pt=y(te);K=p(pt,"SPAN",{class:!0,"data-svelte-h":!0}),J(K)!=="svelte-13cywkd"&&(K.textContent=R),Y=k(pt),le=p(pt,"SPAN",{class:!0});var ft=y(le);de=S(ft,oe),ye=S(ft,"/"),X=S(ft,we),ft.forEach(f),pt.forEach(f),ue=k(ut),he=p(ut,"PROGRESS",{class:!0,max:!0}),y(he).forEach(f),ut.forEach(f),ke=k(De),ge&&ge.l(De),ce=k(De),fe=p(De,"DIV",{});var dt=y(fe);ve=p(dt,"H4",{class:!0,"data-svelte-h":!0}),J(ve)!=="svelte-1279vkd"&&(ve.textContent=Te),me=k(dt),_e=p(dt,"DIV",{class:!0});var Vt=y(_e);for(let ct=0;ct<re.length;ct+=1)re[ct].l(Vt);Vt.forEach(f),dt.forEach(f),Be=k(De),He=p(De,"DIV",{});var vt=y(He);Pe=p(vt,"H4",{class:!0,"data-svelte-h":!0}),J(Pe)!=="svelte-14g2qgt"&&(Pe.textContent=ne),Ie=k(vt),ze=p(vt,"DIV",{class:!0});var ht=y(ze);for(let ct=0;ct<Z.length;ct+=1)Z[ct].l(ht);ht.forEach(f),vt.forEach(f),Ge=k(De),je=p(De,"DIV",{});var ot=y(je);Ne=p(ot,"H4",{class:!0,"data-svelte-h":!0}),J(Ne)!=="svelte-12uabm0"&&(Ne.textContent=Oe),Se=k(ot),be&&be.l(ot),Re=k(ot),Le&&Le.l(ot),ot.forEach(f),De.forEach(f),this.h()},h(){c(r,"class","text-xs font-medieval text-neutral/60 mb-1"),c(o,"class","text-2xl font-bold text-neutral"),c(a,"class","bg-gradient-to-br from-info/20 to-success/20 p-3 rounded-lg border border-info/30 text-center"),c(b,"class","text-xs font-medieval text-neutral/60 mb-1"),c(g,"class","text-2xl font-bold text-neutral"),c(d,"class","bg-gradient-to-br from-warning/20 to-error/20 p-3 rounded-lg border border-warning/30 text-center"),c(P,"class","text-xs font-medieval text-neutral/60 mb-1"),c(H,"class","text-2xl font-bold text-neutral"),c(x,"class","bg-gradient-to-br from-success/20 to-primary/20 p-3 rounded-lg border border-success/30 text-center"),c(F,"class","text-xs font-medieval text-neutral/60 mb-1"),c(U,"class","text-2xl font-bold text-neutral"),c(q,"class","bg-gradient-to-br from-primary/20 to-accent/20 p-3 rounded-lg border border-primary/30 text-center"),c(t,"class","grid grid-cols-2 sm:grid-cols-4 gap-3"),c(K,"class","font-medieval text-neutral/70 text-sm"),c(le,"class","font-bold text-neutral"),c(te,"class","flex justify-between items-center mb-2"),c(he,"class",Ce=`progress w-full h-4 progress-${l[10]}`),he.value=Fe=l[0].currentHp,c(he,"max",Ve=l[0].maxHp),c(ee,"class","bg-gradient-to-r from-success/10 to-error/10 p-3 rounded-lg border border-success/30"),c(ve,"class","font-medieval text-lg text-neutral mb-3 flex items-center gap-2"),c(_e,"class","grid grid-cols-3 md:grid-cols-6 gap-3"),c(Pe,"class","font-medieval text-lg text-neutral mb-3 flex items-center gap-2"),c(ze,"class","grid grid-cols-2 md:grid-cols-3 gap-2"),c(Ne,"class","font-medieval text-lg text-neutral mb-3 flex items-center gap-2"),c(e,"class","space-y-4")},m(ie,De){j(ie,e,De),s(e,t),s(t,a),s(a,r),s(a,i),s(a,o),s(o,m),s(t,v),s(t,d),s(d,b),s(d,E),s(d,g),s(g,C),s(g,I),s(t,A),s(t,x),s(x,P),s(x,T),s(x,H),s(H,L),s(H,M),s(t,O),s(t,q),s(q,F),s(q,z),s(q,U),s(U,Q),s(e,G),s(e,ee),s(ee,te),s(te,K),s(te,Y),s(te,le),s(le,de),s(le,ye),s(le,X),s(ee,ue),s(ee,he),s(e,ke),ge&&ge.m(e,null),s(e,ce),s(e,fe),s(fe,ve),s(fe,me),s(fe,_e);for(let Ee=0;Ee<re.length;Ee+=1)re[Ee]&&re[Ee].m(_e,null);s(e,Be),s(e,He),s(He,Pe),s(He,Ie),s(He,ze);for(let Ee=0;Ee<Z.length;Ee+=1)Z[Ee]&&Z[Ee].m(ze,null);s(e,Ge),s(e,je),s(je,Ne),s(je,Se),be&&be.m(je,null),s(je,Re),Le&&Le.m(je,null)},p(ie,De){if(De[0]&1&&u!==(u=ie[0].armorClass+"")&&$(m,u),De[0]&1&&w!==(w=ie[0].initiative+"")&&$(I,w),De[0]&1&&V!==(V=ie[0].speed+"")&&$(L,V),De[0]&1&&se!==(se=ie[0].level+"")&&$(Q,se),De[0]&1&&oe!==(oe=ie[0].currentHp+"")&&$(de,oe),De[0]&1&&we!==(we=ie[0].maxHp+"")&&$(X,we),De[0]&1024&&Ce!==(Ce=`progress w-full h-4 progress-${ie[10]}`)&&c(he,"class",Ce),De[0]&1&&Fe!==(Fe=ie[0].currentHp)&&(he.value=Fe),De[0]&1&&Ve!==(Ve=ie[0].maxHp)&&c(he,"max",Ve),ie[9]?ge?ge.p(ie,De):(ge=Ja(ie),ge.c(),ge.m(e,ce)):ge&&(ge.d(1),ge=null),De[0]&2321){Me=Je(ie[8]);let Ee;for(Ee=0;Ee<Me.length;Ee+=1){const Qe=Ra(ie,Me,Ee);re[Ee]?re[Ee].p(Qe,De):(re[Ee]=Wa(Qe),re[Ee].c(),re[Ee].m(_e,null))}for(;Ee<re.length;Ee+=1)re[Ee].d(1);re.length=Me.length}if(De[0]&69761){Ae=Je(ie[7]);let Ee;for(Ee=0;Ee<Ae.length;Ee+=1){const Qe=za(ie,Ae,Ee);Z[Ee]?Z[Ee].p(Qe,De):(Z[Ee]=Xa(Qe),Z[Ee].c(),Z[Ee].m(ze,null))}for(;Ee<Z.length;Ee+=1)Z[Ee].d(1);Z.length=Ae.length}ie[6].length>0?be?be.p(ie,De):(be=Ya(ie),be.c(),be.m(je,Re)):be&&(be.d(1),be=null),ie[5].length>0?Le?Le.p(ie,De):(Le=es(ie),Le.c(),Le.m(je,null)):Le&&(Le.d(1),Le=null)},i:Ke,o:Ke,d(ie){ie&&f(e),ge&&ge.d(),lt(re,ie),lt(Z,ie),be&&be.d(),Le&&Le.d()}}}function Ja(l){let e,t,a="‚ö†Ô∏è CONDICIONES ACTIVAS",r,n,i=Je(l[0].conditions),o=[];for(let u=0;u<i.length;u+=1)o[u]=Ka(Ga(l,i,u));return{c(){e=h("div"),t=h("p"),t.textContent=a,r=D(),n=h("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=p(u,"DIV",{class:!0});var m=y(e);t=p(m,"P",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-zymfnd"&&(t.textContent=a),r=k(m),n=p(m,"DIV",{class:!0});var v=y(n);for(let d=0;d<o.length;d+=1)o[d].l(v);v.forEach(f),m.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-2"),c(n,"class","flex flex-wrap gap-1"),c(e,"class","bg-warning/10 p-3 rounded-lg border border-warning/30")},m(u,m){j(u,e,m),s(e,t),s(e,r),s(e,n);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(n,null)},p(u,m){if(m[0]&1){i=Je(u[0].conditions);let v;for(v=0;v<i.length;v+=1){const d=Ga(u,i,v);o[v]?o[v].p(d,m):(o[v]=Ka(d),o[v].c(),o[v].m(n,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=i.length}},d(u){u&&f(e),lt(o,u)}}}function Ka(l){let e,t=l[32]+"",a;return{c(){e=h("div"),a=N(t),this.h()},l(r){e=p(r,"DIV",{class:!0});var n=y(e);a=S(n,t),n.forEach(f),this.h()},h(){c(e,"class","badge badge-warning badge-sm")},m(r,n){j(r,e,n),s(e,a)},p(r,n){n[0]&1&&t!==(t=r[32]+"")&&$(a,t)},d(r){r&&f(e)}}}function Wa(l){let e,t,a=l[11][l[27]]+"",r,n,i,o=it(l[4][l[27]])+"",u,m,v,d,b=l[0].abilityScores[l[27]]+"",_,E,g;return{c(){e=h("div"),t=h("div"),r=N(a),n=D(),i=h("div"),u=N(o),m=D(),v=h("div"),d=N("("),_=N(b),E=N(")"),g=D(),this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);r=S(I,a),I.forEach(f),n=k(w),i=p(w,"DIV",{class:!0});var A=y(i);u=S(A,o),A.forEach(f),m=k(w),v=p(w,"DIV",{class:!0});var x=y(v);d=S(x,"("),_=S(x,b),E=S(x,")"),x.forEach(f),g=k(w),w.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/70 mb-1"),c(i,"class","text-3xl font-bold text-neutral mb-1"),c(v,"class","text-sm text-neutral/60"),c(e,"class","bg-gradient-to-br from-primary/10 to-accent/10 p-3 rounded-lg border-2 border-primary/30 text-center")},m(C,w){j(C,e,w),s(e,t),s(t,r),s(e,n),s(e,i),s(i,u),s(e,m),s(e,v),s(v,d),s(v,_),s(v,E),s(e,g)},p(C,w){w[0]&256&&a!==(a=C[11][C[27]]+"")&&$(r,a),w[0]&272&&o!==(o=it(C[4][C[27]])+"")&&$(u,o),w[0]&257&&b!==(b=C[0].abilityScores[C[27]]+"")&&$(_,b)},d(C){C&&f(e)}}}function Xa(l){let e,t,a,r,n,i,o=l[12][l[27]]+"",u,m,v,d=it(l[16](l[27]))+"",b,_,E;return{c(){e=h("div"),t=h("div"),r=D(),n=h("div"),i=h("div"),u=N(o),m=D(),v=h("div"),b=N(d),_=D(),this.h()},l(g){e=p(g,"DIV",{class:!0});var C=y(e);t=p(C,"DIV",{class:!0}),y(t).forEach(f),r=k(C),n=p(C,"DIV",{class:!0});var w=y(n);i=p(w,"DIV",{class:!0});var I=y(i);u=S(I,o),I.forEach(f),m=k(w),v=p(w,"DIV",{class:!0});var A=y(v);b=S(A,d),A.forEach(f),w.forEach(f),_=k(C),C.forEach(f),this.h()},h(){c(t,"class",a="w-4 h-4 rounded-full border-2 "+(l[0].savingThrows[l[27]]?"bg-success border-success":"border-neutral/50")),c(i,"class","text-sm font-medieval"),c(v,"class","text-xs text-neutral/70"),c(n,"class","flex-1"),c(e,"class",E="flex items-center gap-2 p-2 rounded-lg border-2 "+(l[0].savingThrows[l[27]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))},m(g,C){j(g,e,C),s(e,t),s(e,r),s(e,n),s(n,i),s(i,u),s(n,m),s(n,v),s(v,b),s(e,_)},p(g,C){C[0]&129&&a!==(a="w-4 h-4 rounded-full border-2 "+(g[0].savingThrows[g[27]]?"bg-success border-success":"border-neutral/50"))&&c(t,"class",a),C[0]&128&&o!==(o=g[12][g[27]]+"")&&$(u,o),C[0]&128&&d!==(d=it(g[16](g[27]))+"")&&$(b,d),C[0]&129&&E!==(E="flex items-center gap-2 p-2 rounded-lg border-2 "+(g[0].savingThrows[g[27]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))&&c(e,"class",E)},d(g){g&&f(e)}}}function Ya(l){let e,t,a="COMPETENTES",r,n,i=Je(l[6]),o=[];for(let u=0;u<i.length;u+=1)o[u]=$a(Ua(l,i,u));return{c(){e=h("div"),t=h("p"),t.textContent=a,r=D(),n=h("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=p(u,"DIV",{class:!0});var m=y(e);t=p(m,"P",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-776mjs"&&(t.textContent=a),r=k(m),n=p(m,"DIV",{class:!0});var v=y(n);for(let d=0;d<o.length;d+=1)o[d].l(v);v.forEach(f),m.forEach(f),this.h()},h(){c(t,"class","text-xs font-medieval text-neutral/60 mb-2"),c(n,"class","grid grid-cols-1 md:grid-cols-2 gap-2"),c(e,"class","mb-3")},m(u,m){j(u,e,m),s(e,t),s(e,r),s(e,n);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(n,null)},p(u,m){if(m[0]&32832){i=Je(u[6]);let v;for(v=0;v<i.length;v+=1){const d=Ua(u,i,v);o[v]?o[v].p(d,m):(o[v]=$a(d),o[v].c(),o[v].m(n,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=i.length}},d(u){u&&f(e),lt(o,u)}}}function Za(l){let e;return{c(){e=N("‚òÖ")},l(t){e=S(t,"‚òÖ")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function $a(l){let e,t,a,r,n,i,o=Qt(l[22].name)+"",u,m,v,d=it(l[15](l[22]))+"",b,_,E,g=l[22].expertise&&Za();return{c(){e=h("div"),t=h("div"),g&&g.c(),r=D(),n=h("div"),i=h("div"),u=N(o),m=D(),v=h("div"),b=N(d),_=D(),this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);g&&g.l(I),I.forEach(f),r=k(w),n=p(w,"DIV",{class:!0});var A=y(n);i=p(A,"DIV",{class:!0});var x=y(i);u=S(x,o),x.forEach(f),A.forEach(f),m=k(w),v=p(w,"DIV",{class:!0});var P=y(v);b=S(P,d),P.forEach(f),_=k(w),w.forEach(f),this.h()},h(){c(t,"class",a="w-4 h-4 rounded-full border-2 flex items-center justify-center text-xs "+(l[22].expertise?"bg-warning border-warning":"bg-success border-success")),c(i,"class","text-sm font-medieval truncate"),c(n,"class","flex-1 min-w-0"),c(v,"class","text-sm font-bold text-neutral"),c(e,"class",E="flex items-center gap-2 p-2 rounded-lg border-2 "+(l[22].expertise?"bg-warning/20 border-warning":"bg-success/20 border-success"))},m(C,w){j(C,e,w),s(e,t),g&&g.m(t,null),s(e,r),s(e,n),s(n,i),s(i,u),s(e,m),s(e,v),s(v,b),s(e,_)},p(C,w){C[22].expertise?g||(g=Za(),g.c(),g.m(t,null)):g&&(g.d(1),g=null),w[0]&64&&a!==(a="w-4 h-4 rounded-full border-2 flex items-center justify-center text-xs "+(C[22].expertise?"bg-warning border-warning":"bg-success border-success"))&&c(t,"class",a),w[0]&64&&o!==(o=Qt(C[22].name)+"")&&$(u,o),w[0]&64&&d!==(d=it(C[15](C[22]))+"")&&$(b,d),w[0]&64&&E!==(E="flex items-center gap-2 p-2 rounded-lg border-2 "+(C[22].expertise?"bg-warning/20 border-warning":"bg-success/20 border-success"))&&c(e,"class",E)},d(C){C&&f(e),g&&g.d()}}}function es(l){let e,t,a,r=l[5].length+"",n,i,o,u,m,v=Je(l[5]),d=[];for(let b=0;b<v.length;b+=1)d[b]=ts(Fa(l,v,b));return{c(){e=h("details"),t=h("summary"),a=N("OTRAS HABILIDADES ("),n=N(r),i=N(")"),o=D(),u=h("div"),m=h("div");for(let b=0;b<d.length;b+=1)d[b].c();this.h()},l(b){e=p(b,"DETAILS",{class:!0});var _=y(e);t=p(_,"SUMMARY",{class:!0});var E=y(t);a=S(E,"OTRAS HABILIDADES ("),n=S(E,r),i=S(E,")"),E.forEach(f),o=k(_),u=p(_,"DIV",{class:!0});var g=y(u);m=p(g,"DIV",{class:!0});var C=y(m);for(let w=0;w<d.length;w+=1)d[w].l(C);C.forEach(f),g.forEach(f),_.forEach(f),this.h()},h(){c(t,"class","collapse-title text-xs font-medieval text-neutral/60"),c(m,"class","grid grid-cols-1 md:grid-cols-2 gap-2 pt-2"),c(u,"class","collapse-content"),c(e,"class","collapse collapse-arrow bg-neutral/5 rounded-lg border border-neutral/20")},m(b,_){j(b,e,_),s(e,t),s(t,a),s(t,n),s(t,i),s(e,o),s(e,u),s(u,m);for(let E=0;E<d.length;E+=1)d[E]&&d[E].m(m,null)},p(b,_){if(_[0]&32&&r!==(r=b[5].length+"")&&$(n,r),_[0]&32800){v=Je(b[5]);let E;for(E=0;E<v.length;E+=1){const g=Fa(b,v,E);d[E]?d[E].p(g,_):(d[E]=ts(g),d[E].c(),d[E].m(m,null))}for(;E<d.length;E+=1)d[E].d(1);d.length=v.length}},d(b){b&&f(e),lt(d,b)}}}function ts(l){let e,t,a,r,n,i=Qt(l[22].name)+"",o,u,m,v=it(l[15](l[22]))+"",d,b;return{c(){e=h("div"),t=h("div"),a=D(),r=h("div"),n=h("div"),o=N(i),u=D(),m=h("div"),d=N(v),b=D(),this.h()},l(_){e=p(_,"DIV",{class:!0});var E=y(e);t=p(E,"DIV",{class:!0}),y(t).forEach(f),a=k(E),r=p(E,"DIV",{class:!0});var g=y(r);n=p(g,"DIV",{class:!0});var C=y(n);o=S(C,i),C.forEach(f),g.forEach(f),u=k(E),m=p(E,"DIV",{class:!0});var w=y(m);d=S(w,v),w.forEach(f),b=k(E),E.forEach(f),this.h()},h(){c(t,"class","w-4 h-4 rounded-full border-2 border-neutral/50"),c(n,"class","text-sm font-medieval truncate"),c(r,"class","flex-1 min-w-0"),c(m,"class","text-sm font-bold text-neutral"),c(e,"class","flex items-center gap-2 p-2 rounded-lg border-2 bg-neutral/10 border-neutral/30")},m(_,E){j(_,e,E),s(e,t),s(e,a),s(e,r),s(r,n),s(n,o),s(e,u),s(e,m),s(m,d),s(e,b)},p(_,E){E[0]&32&&i!==(i=Qt(_[22].name)+"")&&$(o,i),E[0]&32&&v!==(v=it(_[15](_[22]))+"")&&$(d,v)},d(_){_&&f(e)}}}function sn(l){let e,t,a,r,n,i='<div class="w-20 h-20 rounded-full ring-2 ring-secondary ring-offset-2 ring-offset-[#f4e4c1]"><div class="bg-gradient-to-br from-primary to-accent flex items-center justify-center w-full h-full"><span class="text-3xl">üßô‚Äç‚ôÇÔ∏è</span></div></div>',o,u,m,v=l[0].name+"",d,b,_,E=l[0].class+"",g,C,w=l[0].level+"",I,A,x,P,B,T,H,V,L,M=l[0].speed+"",O,q,F,W,z,U,se,Q="üìä",G,ee,te,K,R,Y="üéí",le,oe,de,ye,we,X,ue,he,Ce=l[1]&&Qa(l);const Fe=[an,ln],Ve=[];function ke(ce,fe){return ce[2]==="stats"?0:1}return ye=ke(l),we=Ve[ye]=Fe[ye](l),{c(){e=h("div"),t=h("div"),a=h("div"),r=h("div"),n=h("div"),n.innerHTML=i,o=D(),u=h("div"),m=h("h3"),d=N(v),b=D(),_=h("p"),g=N(E),C=N(" ‚Ä¢ Nivel "),I=N(w),A=D(),x=h("div"),P=h("div"),B=N("+"),T=N(l[3]),H=N(" Competencia"),V=D(),L=h("div"),O=N(M),q=N(" pies"),F=D(),Ce&&Ce.c(),W=D(),z=h("div"),U=h("button"),se=h("span"),se.textContent=Q,G=N(`\r
        Estad√≠sticas`),te=D(),K=h("button"),R=h("span"),R.textContent=Y,le=N(`\r
        Inventario`),de=D(),we.c(),this.h()},l(ce){e=p(ce,"DIV",{class:!0});var fe=y(e);t=p(fe,"DIV",{class:!0});var ve=y(t);a=p(ve,"DIV",{class:!0});var Te=y(a);r=p(Te,"DIV",{class:!0});var me=y(r);n=p(me,"DIV",{class:!0,"data-svelte-h":!0}),J(n)!=="svelte-1ddetiq"&&(n.innerHTML=i),o=k(me),u=p(me,"DIV",{class:!0});var _e=y(u);m=p(_e,"H3",{class:!0});var Be=y(m);d=S(Be,v),Be.forEach(f),b=k(_e),_=p(_e,"P",{class:!0});var He=y(_);g=S(He,E),C=S(He," ‚Ä¢ Nivel "),I=S(He,w),He.forEach(f),A=k(_e),x=p(_e,"DIV",{class:!0});var Pe=y(x);P=p(Pe,"DIV",{class:!0});var ne=y(P);B=S(ne,"+"),T=S(ne,l[3]),H=S(ne," Competencia"),ne.forEach(f),V=k(Pe),L=p(Pe,"DIV",{class:!0});var Ie=y(L);O=S(Ie,M),q=S(Ie," pies"),Ie.forEach(f),Pe.forEach(f),_e.forEach(f),me.forEach(f),F=k(Te),Ce&&Ce.l(Te),Te.forEach(f),W=k(ve),z=p(ve,"DIV",{class:!0});var ze=y(z);U=p(ze,"BUTTON",{class:!0});var Ge=y(U);se=p(Ge,"SPAN",{class:!0,"data-svelte-h":!0}),J(se)!=="svelte-kugu9n"&&(se.textContent=Q),G=S(Ge,`\r
        Estad√≠sticas`),Ge.forEach(f),te=k(ze),K=p(ze,"BUTTON",{class:!0});var je=y(K);R=p(je,"SPAN",{class:!0,"data-svelte-h":!0}),J(R)!=="svelte-bo1ms0"&&(R.textContent=Y),le=S(je,`\r
        Inventario`),je.forEach(f),ze.forEach(f),de=k(ve),we.l(ve),ve.forEach(f),fe.forEach(f),this.h()},h(){c(n,"class","avatar flex-shrink-0"),c(m,"class","text-2xl font-medieval font-bold text-neutral mb-1"),c(_,"class","text-base text-neutral/70 font-body"),c(P,"class","badge badge-sm badge-secondary"),c(L,"class","badge badge-sm badge-info"),c(x,"class","flex gap-2 mt-1"),c(u,"class","flex-1 min-w-0"),c(r,"class","flex items-center gap-4 flex-1 min-w-0"),c(a,"class","flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4"),c(se,"class","text-lg mr-2"),c(U,"class",ee="tab flex-1 "+(l[2]==="stats"?"tab-active":"")),c(R,"class","text-lg mr-2"),c(K,"class",oe="tab flex-1 "+(l[2]==="inventory"?"tab-active":"")),c(z,"class","tabs tabs-boxed bg-neutral/20 mb-4"),c(t,"class","card-body p-4 sm:p-6"),c(e,"class","card-parchment w-full max-w-6xl mx-auto")},m(ce,fe){j(ce,e,fe),s(e,t),s(t,a),s(a,r),s(r,n),s(r,o),s(r,u),s(u,m),s(m,d),s(u,b),s(u,_),s(_,g),s(_,C),s(_,I),s(u,A),s(u,x),s(x,P),s(P,B),s(P,T),s(P,H),s(x,V),s(x,L),s(L,O),s(L,q),s(a,F),Ce&&Ce.m(a,null),s(t,W),s(t,z),s(z,U),s(U,se),s(U,G),s(z,te),s(z,K),s(K,R),s(K,le),s(t,de),Ve[ye].m(t,null),X=!0,ue||(he=[ae(U,"click",l[19]),ae(K,"click",l[20])],ue=!0)},p(ce,fe){(!X||fe[0]&1)&&v!==(v=ce[0].name+"")&&$(d,v),(!X||fe[0]&1)&&E!==(E=ce[0].class+"")&&$(g,E),(!X||fe[0]&1)&&w!==(w=ce[0].level+"")&&$(I,w),(!X||fe[0]&8)&&$(T,ce[3]),(!X||fe[0]&1)&&M!==(M=ce[0].speed+"")&&$(O,M),ce[1]?Ce?Ce.p(ce,fe):(Ce=Qa(ce),Ce.c(),Ce.m(a,null)):Ce&&(Ce.d(1),Ce=null),(!X||fe[0]&4&&ee!==(ee="tab flex-1 "+(ce[2]==="stats"?"tab-active":"")))&&c(U,"class",ee),(!X||fe[0]&4&&oe!==(oe="tab flex-1 "+(ce[2]==="inventory"?"tab-active":"")))&&c(K,"class",oe);let ve=ye;ye=ke(ce),ye===ve?Ve[ye].p(ce,fe):(Bt(),$e(Ve[ve],1,1,()=>{Ve[ve]=null}),Ht(),we=Ve[ye],we?we.p(ce,fe):(we=Ve[ye]=Fe[ye](ce),we.c()),Ze(we,1),we.m(t,null))},i(ce){X||(Ze(we),X=!0)},o(ce){$e(we),X=!1},d(ce){ce&&f(e),Ce&&Ce.d(),Ve[ye].d(),ue=!1,at(he)}}}function Qt(l){return{Acrobatics:"Acrobacias","Animal Handling":"Trato con Animales",Arcana:"Arcano",Athletics:"Atletismo",Deception:"Enga√±o",History:"Historia",Insight:"Perspicacia",Intimidation:"Intimidaci√≥n",Investigation:"Investigaci√≥n",Medicine:"Medicina",Nature:"Naturaleza",Perception:"Percepci√≥n",Performance:"Interpretaci√≥n",Persuasion:"Persuasi√≥n",Religion:"Religi√≥n","Sleight of Hand":"Juego de Manos",Stealth:"Sigilo",Survival:"Supervivencia"}[l]||l}function rn(l,e,t){let a,r,n,i,o,u,m,v,d,{character:b}=e,{isOwner:_=!1}=e,{showInventory:E=!1}=e;const g=Ot();let C="stats";const w={strength:"FUE",dexterity:"DES",constitution:"CON",intelligence:"INT",wisdom:"SAB",charisma:"CAR"},I={strength:"Fuerza",dexterity:"Destreza",constitution:"Constituci√≥n",intelligence:"Inteligencia",wisdom:"Sabidur√≠a",charisma:"Carisma"};function A(){g("edit",b)}function x(){g("delete",b)}function P(V){let M=o[V.ability]??0;return V.expertise?M+=i*2:V.proficient&&(M+=i),M}function B(V){const L=o[V];return b.savingThrows[V]?L+i:L}const T=()=>t(2,C="stats"),H=()=>t(2,C="inventory");return l.$$set=V=>{"character"in V&&t(0,b=V.character),"isOwner"in V&&t(1,_=V.isOwner),"showInventory"in V&&t(17,E=V.showInventory)},l.$$.update=()=>{l.$$.dirty[0]&1&&t(18,a=b.maxHp?b.currentHp/b.maxHp*100:0),l.$$.dirty[0]&262144&&t(10,r=a>50?"success":a>25?"warning":"error"),l.$$.dirty[0]&1&&t(9,n=Array.isArray(b.conditions)&&b.conditions.length>0),l.$$.dirty[0]&1&&t(3,i=Wt(b.level)),l.$$.dirty[0]&1&&t(4,o={strength:nt(b.abilityScores.strength),dexterity:nt(b.abilityScores.dexterity),constitution:nt(b.abilityScores.constitution),intelligence:nt(b.abilityScores.intelligence),wisdom:nt(b.abilityScores.wisdom),charisma:nt(b.abilityScores.charisma)}),l.$$.dirty[0]&1&&t(8,u=Object.keys(b.abilityScores)),l.$$.dirty[0]&1&&t(7,m=Object.keys(b.savingThrows)),l.$$.dirty[0]&1&&t(6,v=b.skills.filter(V=>V.proficient||V.expertise)),l.$$.dirty[0]&1&&t(5,d=b.skills.filter(V=>!V.proficient&&!V.expertise))},[b,_,C,i,o,d,v,m,u,n,r,w,I,A,x,P,B,E,a,T,H]}class As extends Dt{constructor(e){super(),wt(this,e,rn,sn,It,{character:0,isOwner:1,showInventory:17},null,[-1,-1])}}function ls(l,e,t){const a=l.slice();return a[44]=e[t],a}function as(l,e,t){const a=l.slice();return a[47]=e[t],a}function ss(l,e,t){const a=l.slice();return a[47]=e[t],a[50]=e,a[51]=t,a}function rs(l,e,t){const a=l.slice();return a[52]=e[t],a[54]=t,a}function ns(l){let e,t,a,r,n="‚úï",i,o,u=l[2]?"‚úèÔ∏è Editar Personaje":"üßô‚Äç‚ôÇÔ∏è Crear Personaje",m,v,d,b,_,E,g,C,w,I,A,x,P,B,T,H,V,L,M,O=Je(Array(Ct)),q=[];for(let R=0;R<O.length;R+=1)q[R]=is(rs(l,O,R));function F(R,Y){if(R[3]===1)return fn;if(R[3]===2)return un;if(R[3]===3)return cn;if(R[3]===4)return on}let W=F(l),z=W&&W(l),U=l[3]===1&&os(l),se=l[3]===2&&ds(l),Q=l[3]===3&&ms(l),G=l[3]===4&&_s(l);function ee(R,Y){return R[3]<Ct?pn:dn}let te=ee(l),K=te(l);return{c(){e=h("div"),t=h("div"),a=h("div"),r=h("button"),r.textContent=n,i=D(),o=h("h3"),m=N(u),v=D(),d=h("div");for(let R=0;R<q.length;R+=1)q[R].c();b=D(),_=h("div"),z&&z.c(),E=D(),g=h("div"),U&&U.c(),C=D(),se&&se.c(),w=D(),Q&&Q.c(),I=D(),G&&G.c(),A=D(),x=h("div"),P=h("div"),B=h("button"),T=N("‚Üê Anterior"),V=D(),K.c(),this.h()},l(R){e=p(R,"DIV",{class:!0});var Y=y(e);t=p(Y,"DIV",{class:!0});var le=y(t);a=p(le,"DIV",{class:!0});var oe=y(a);r=p(oe,"BUTTON",{class:!0,"data-svelte-h":!0}),J(r)!=="svelte-drx0cs"&&(r.textContent=n),i=k(oe),o=p(oe,"H3",{class:!0});var de=y(o);m=S(de,u),de.forEach(f),v=k(oe),d=p(oe,"DIV",{class:!0});var ye=y(d);for(let Fe=0;Fe<q.length;Fe+=1)q[Fe].l(ye);ye.forEach(f),b=k(oe),_=p(oe,"DIV",{class:!0});var we=y(_);z&&z.l(we),we.forEach(f),oe.forEach(f),E=k(le),g=p(le,"DIV",{class:!0});var X=y(g);U&&U.l(X),C=k(X),se&&se.l(X),w=k(X),Q&&Q.l(X),I=k(X),G&&G.l(X),X.forEach(f),A=k(le),x=p(le,"DIV",{class:!0});var ue=y(x);P=p(ue,"DIV",{class:!0});var he=y(P);B=p(he,"BUTTON",{class:!0});var Ce=y(B);T=S(Ce,"‚Üê Anterior"),Ce.forEach(f),V=k(he),K.l(he),he.forEach(f),ue.forEach(f),le.forEach(f),Y.forEach(f),this.h()},h(){c(r,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),c(o,"class","font-bold text-3xl font-medieval text-neutral text-center mb-4"),c(d,"class","flex justify-between items-center mb-2"),c(_,"class","text-center text-sm text-neutral/70 font-body"),c(a,"class","p-6 border-b-2 border-secondary flex-shrink-0"),c(g,"class","flex-1 overflow-y-auto p-6 svelte-p7d1us"),c(B,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),B.disabled=H=l[3]===1,c(P,"class","flex justify-between gap-4"),c(x,"class","p-6 border-t-2 border-secondary flex-shrink-0"),c(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-4xl max-h-[90vh] relative flex flex-col"),c(e,"class","modal modal-open z-50")},m(R,Y){j(R,e,Y),s(e,t),s(t,a),s(a,r),s(a,i),s(a,o),s(o,m),s(a,v),s(a,d);for(let le=0;le<q.length;le+=1)q[le]&&q[le].m(d,null);s(a,b),s(a,_),z&&z.m(_,null),s(t,E),s(t,g),U&&U.m(g,null),s(g,C),se&&se.m(g,null),s(g,w),Q&&Q.m(g,null),s(g,I),G&&G.m(g,null),s(t,A),s(t,x),s(x,P),s(P,B),s(B,T),s(P,V),K.m(P,null),L||(M=[ae(r,"click",l[20]),ae(B,"click",l[13])],L=!0)},p(R,Y){if(Y[0]&4&&u!==(u=R[2]?"‚úèÔ∏è Editar Personaje":"üßô‚Äç‚ôÇÔ∏è Crear Personaje")&&$(m,u),Y[0]&8){O=Je(Array(Ct));let le;for(le=0;le<O.length;le+=1){const oe=rs(R,O,le);q[le]?q[le].p(oe,Y):(q[le]=is(oe),q[le].c(),q[le].m(d,null))}for(;le<q.length;le+=1)q[le].d(1);q.length=O.length}W!==(W=F(R))&&(z&&z.d(1),z=W&&W(R),z&&(z.c(),z.m(_,null))),R[3]===1?U?U.p(R,Y):(U=os(R),U.c(),U.m(g,C)):U&&(U.d(1),U=null),R[3]===2?se?se.p(R,Y):(se=ds(R),se.c(),se.m(g,w)):se&&(se.d(1),se=null),R[3]===3?Q?Q.p(R,Y):(Q=ms(R),Q.c(),Q.m(g,I)):Q&&(Q.d(1),Q=null),R[3]===4?G?G.p(R,Y):(G=_s(R),G.c(),G.m(g,null)):G&&(G.d(1),G=null),Y[0]&8&&H!==(H=R[3]===1)&&(B.disabled=H),te===(te=ee(R))&&K?K.p(R,Y):(K.d(1),K=te(R),K&&(K.c(),K.m(P,null)))},d(R){R&&f(e),lt(q,R),z&&z.d(),U&&U.d(),se&&se.d(),Q&&Q.d(),G&&G.d(),K.d(),L=!1,at(M)}}}function nn(l){let e,t;return{c(){e=h("div"),t=h("div"),this.h()},l(a){e=p(a,"DIV",{class:!0});var r=y(e);t=p(r,"DIV",{class:!0,style:!0}),y(t).forEach(f),r.forEach(f),this.h()},h(){c(t,"class","h-full bg-secondary rounded transition-all duration-300"),Xt(t,"width",l[3]>l[54]+1?"100%":"0%"),c(e,"class","flex-1 h-1 mx-2 bg-base-300 rounded")},m(a,r){j(a,e,r),s(e,t)},p(a,r){r[0]&8&&Xt(t,"width",a[3]>a[54]+1?"100%":"0%")},d(a){a&&f(e)}}}function is(l){let e,t,a=l[54]+1+"",r,n,i,o,u,m,v;function d(){return l[23](l[54])}let b=l[54]<Ct-1&&nn(l);return{c(){e=h("div"),t=h("button"),r=N(a),o=D(),b&&b.c(),u=D(),this.h()},l(_){e=p(_,"DIV",{class:!0});var E=y(e);t=p(E,"BUTTON",{class:!0});var g=y(t);r=S(g,a),g.forEach(f),o=k(E),b&&b.l(E),u=k(E),E.forEach(f),this.h()},h(){c(t,"class",n="btn btn-circle btn-sm "+(l[3]>l[54]+1?"btn-success":l[3]===l[54]+1?"btn-secondary":"btn-ghost")),t.disabled=i=l[54]+1>l[3],c(e,"class","flex items-center flex-1")},m(_,E){j(_,e,E),s(e,t),s(t,r),s(e,o),b&&b.m(e,null),s(e,u),m||(v=ae(t,"click",d),m=!0)},p(_,E){l=_,E[0]&8&&n!==(n="btn btn-circle btn-sm "+(l[3]>l[54]+1?"btn-success":l[3]===l[54]+1?"btn-secondary":"btn-ghost"))&&c(t,"class",n),E[0]&8&&i!==(i=l[54]+1>l[3])&&(t.disabled=i),l[54]<Ct-1&&b.p(l,E)},d(_){_&&f(e),b&&b.d(),m=!1,v()}}}function on(l){let e;return{c(){e=N("Competencias & Salvaciones")},l(t){e=S(t,"Competencias & Salvaciones")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function cn(l){let e;return{c(){e=N("Puntuaciones de Habilidad")},l(t){e=S(t,"Puntuaciones de Habilidad")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function un(l){let e;return{c(){e=N("Estad√≠sticas de Combate")},l(t){e=S(t,"Estad√≠sticas de Combate")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function fn(l){let e;return{c(){e=N("Informaci√≥n B√°sica")},l(t){e=S(t,"Informaci√≥n B√°sica")},m(t,a){j(t,e,a)},d(t){t&&f(e)}}}function os(l){let e,t,a,r='<span class="label-text font-medieval text-neutral text-lg">Nombre <span class="text-error">*</span></span>',n,i,o,u,m,v,d,b,_='<span class="label-text font-medieval text-neutral text-lg">Clase <span class="text-error">*</span></span>',E,g,C,w,I,A,x,P='<span class="label-text font-medieval text-neutral text-lg">Nivel <span class="text-error">*</span></span>',B,T,H,V,L,M,O,q,F,W,z,U="Calculado autom√°ticamente seg√∫n tu nivel",se,Q,G=l[4].name&&l[5].name&&cs(l),ee=l[4].class&&l[5].class&&us(l),te=l[4].level&&l[5].level&&fs(l);return{c(){e=h("div"),t=h("div"),a=h("label"),a.innerHTML=r,n=D(),i=h("input"),u=D(),G&&G.c(),m=D(),v=h("div"),d=h("div"),b=h("label"),b.innerHTML=_,E=D(),g=h("input"),w=D(),ee&&ee.c(),I=D(),A=h("div"),x=h("label"),x.innerHTML=P,B=D(),T=h("input"),V=D(),te&&te.c(),L=D(),M=h("div"),O=h("p"),q=N("Bonus de Competencia: +"),F=N(l[7]),W=D(),z=h("p"),z.textContent=U,this.h()},l(K){e=p(K,"DIV",{class:!0});var R=y(e);t=p(R,"DIV",{class:!0});var Y=y(t);a=p(Y,"LABEL",{class:!0,"data-svelte-h":!0}),J(a)!=="svelte-euejpb"&&(a.innerHTML=r),n=k(Y),i=p(Y,"INPUT",{type:!0,placeholder:!0,class:!0}),u=k(Y),G&&G.l(Y),Y.forEach(f),m=k(R),v=p(R,"DIV",{class:!0});var le=y(v);d=p(le,"DIV",{class:!0});var oe=y(d);b=p(oe,"LABEL",{class:!0,"data-svelte-h":!0}),J(b)!=="svelte-qka7hk"&&(b.innerHTML=_),E=k(oe),g=p(oe,"INPUT",{type:!0,placeholder:!0,class:!0}),w=k(oe),ee&&ee.l(oe),oe.forEach(f),I=k(le),A=p(le,"DIV",{class:!0});var de=y(A);x=p(de,"LABEL",{class:!0,"data-svelte-h":!0}),J(x)!=="svelte-1karhsq"&&(x.innerHTML=P),B=k(de),T=p(de,"INPUT",{type:!0,min:!0,max:!0,class:!0}),V=k(de),te&&te.l(de),de.forEach(f),le.forEach(f),L=k(R),M=p(R,"DIV",{class:!0});var ye=y(M);O=p(ye,"P",{class:!0});var we=y(O);q=S(we,"Bonus de Competencia: +"),F=S(we,l[7]),we.forEach(f),W=k(ye),z=p(ye,"P",{class:!0,"data-svelte-h":!0}),J(z)!=="svelte-6wk9r6"&&(z.textContent=U),ye.forEach(f),R.forEach(f),this.h()},h(){c(a,"class","label"),c(i,"type","text"),c(i,"placeholder","Ej: Gandalf el Gris"),c(i,"class",o="input input-bordered bg-[#2d241c] text-base-content "+(l[4].name&&l[5].name?"border-error border-2":"border-primary/50")),c(t,"class","form-control"),c(b,"class","label"),c(g,"type","text"),c(g,"placeholder","Ej: Mago"),c(g,"class",C="input input-bordered bg-[#2d241c] text-base-content "+(l[4].class&&l[5].class?"border-error border-2":"border-primary/50")),c(d,"class","form-control"),c(x,"class","label"),c(T,"type","number"),c(T,"min","1"),c(T,"max","20"),c(T,"class",H="input input-bordered bg-[#2d241c] text-base-content "+(l[4].level&&l[5].level?"border-error border-2":"border-primary/50")),c(A,"class","form-control"),c(v,"class","grid grid-cols-2 gap-4"),c(O,"class","text-sm font-medieval text-neutral mb-1"),c(z,"class","text-xs text-neutral/70"),c(M,"class","bg-info/10 p-4 rounded-lg border border-info/30"),c(e,"class","space-y-4")},m(K,R){j(K,e,R),s(e,t),s(t,a),s(t,n),s(t,i),xe(i,l[0].name),s(t,u),G&&G.m(t,null),s(e,m),s(e,v),s(v,d),s(d,b),s(d,E),s(d,g),xe(g,l[0].class),s(d,w),ee&&ee.m(d,null),s(v,I),s(v,A),s(A,x),s(A,B),s(A,T),xe(T,l[0].level),s(A,V),te&&te.m(A,null),s(e,L),s(e,M),s(M,O),s(O,q),s(O,F),s(M,W),s(M,z),se||(Q=[ae(i,"input",l[24]),ae(i,"blur",l[25]),ae(g,"input",l[26]),ae(g,"blur",l[27]),ae(T,"input",l[28]),ae(T,"blur",l[29])],se=!0)},p(K,R){R[0]&48&&o!==(o="input input-bordered bg-[#2d241c] text-base-content "+(K[4].name&&K[5].name?"border-error border-2":"border-primary/50"))&&c(i,"class",o),R[0]&1&&i.value!==K[0].name&&xe(i,K[0].name),K[4].name&&K[5].name?G?G.p(K,R):(G=cs(K),G.c(),G.m(t,null)):G&&(G.d(1),G=null),R[0]&48&&C!==(C="input input-bordered bg-[#2d241c] text-base-content "+(K[4].class&&K[5].class?"border-error border-2":"border-primary/50"))&&c(g,"class",C),R[0]&1&&g.value!==K[0].class&&xe(g,K[0].class),K[4].class&&K[5].class?ee?ee.p(K,R):(ee=us(K),ee.c(),ee.m(d,null)):ee&&(ee.d(1),ee=null),R[0]&48&&H!==(H="input input-bordered bg-[#2d241c] text-base-content "+(K[4].level&&K[5].level?"border-error border-2":"border-primary/50"))&&c(T,"class",H),R[0]&1&&Ue(T.value)!==K[0].level&&xe(T,K[0].level),K[4].level&&K[5].level?te?te.p(K,R):(te=fs(K),te.c(),te.m(A,null)):te&&(te.d(1),te=null),R[0]&128&&$(F,K[7])},d(K){K&&f(e),G&&G.d(),ee&&ee.d(),te&&te.d(),se=!1,at(Q)}}}function cs(l){let e,t,a,r=l[4].name+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&16&&r!==(r=i[4].name+"")&&$(n,r)},d(i){i&&f(e)}}}function us(l){let e,t,a,r=l[4].class+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&16&&r!==(r=i[4].class+"")&&$(n,r)},d(i){i&&f(e)}}}function fs(l){let e,t,a,r=l[4].level+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&16&&r!==(r=i[4].level+"")&&$(n,r)},d(i){i&&f(e)}}}function ds(l){let e,t,a,r,n='<span class="label-text font-medieval text-neutral text-lg">HP M√°ximo <span class="text-error">*</span></span>',i,o,u,m,v,d,b,_='<span class="label-text font-medieval text-neutral text-lg">Clase de Armadura <span class="text-error">*</span></span>',E,g,C,w,I,A,x,P,B='<span class="label-text font-medieval text-neutral text-lg">Iniciativa <span class="text-error">*</span></span>',T,H,V,L,M='<span class="label-text-alt text-neutral/60 italic text-xs">Normalmente es tu modificador de Destreza</span>',O,q,F,W='<span class="label-text font-medieval text-neutral text-lg">Velocidad (pies) <span class="text-error">*</span></span>',z,U,se,Q,G='<span class="label-text-alt text-neutral/60 italic text-xs">Velocidad de movimiento (t√≠picamente 30 pies)</span>',ee,te,K=l[4].maxHp&&l[5].maxHp&&ps(l),R=l[4].armorClass&&l[5].armorClass&&hs(l);return{c(){e=h("div"),t=h("div"),a=h("div"),r=h("label"),r.innerHTML=n,i=D(),o=h("input"),m=D(),K&&K.c(),v=D(),d=h("div"),b=h("label"),b.innerHTML=_,E=D(),g=h("input"),w=D(),R&&R.c(),I=D(),A=h("div"),x=h("div"),P=h("label"),P.innerHTML=B,T=D(),H=h("input"),V=D(),L=h("label"),L.innerHTML=M,O=D(),q=h("div"),F=h("label"),F.innerHTML=W,z=D(),U=h("input"),se=D(),Q=h("label"),Q.innerHTML=G,this.h()},l(Y){e=p(Y,"DIV",{class:!0});var le=y(e);t=p(le,"DIV",{class:!0});var oe=y(t);a=p(oe,"DIV",{class:!0});var de=y(a);r=p(de,"LABEL",{class:!0,"data-svelte-h":!0}),J(r)!=="svelte-1ofltub"&&(r.innerHTML=n),i=k(de),o=p(de,"INPUT",{type:!0,min:!0,max:!0,class:!0}),m=k(de),K&&K.l(de),de.forEach(f),v=k(oe),d=p(oe,"DIV",{class:!0});var ye=y(d);b=p(ye,"LABEL",{class:!0,"data-svelte-h":!0}),J(b)!=="svelte-15v8112"&&(b.innerHTML=_),E=k(ye),g=p(ye,"INPUT",{type:!0,min:!0,max:!0,class:!0}),w=k(ye),R&&R.l(ye),ye.forEach(f),oe.forEach(f),I=k(le),A=p(le,"DIV",{class:!0});var we=y(A);x=p(we,"DIV",{class:!0});var X=y(x);P=p(X,"LABEL",{class:!0,"data-svelte-h":!0}),J(P)!=="svelte-plf961"&&(P.innerHTML=B),T=k(X),H=p(X,"INPUT",{type:!0,min:!0,max:!0,class:!0}),V=k(X),L=p(X,"LABEL",{class:!0,"data-svelte-h":!0}),J(L)!=="svelte-lg0g9n"&&(L.innerHTML=M),X.forEach(f),O=k(we),q=p(we,"DIV",{class:!0});var ue=y(q);F=p(ue,"LABEL",{class:!0,"data-svelte-h":!0}),J(F)!=="svelte-1kw08t7"&&(F.innerHTML=W),z=k(ue),U=p(ue,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),se=k(ue),Q=p(ue,"LABEL",{class:!0,"data-svelte-h":!0}),J(Q)!=="svelte-1kivwb9"&&(Q.innerHTML=G),ue.forEach(f),we.forEach(f),le.forEach(f),this.h()},h(){c(r,"class","label"),c(o,"type","number"),c(o,"min","1"),c(o,"max","999"),c(o,"class",u="input input-bordered bg-[#2d241c] text-base-content "+(l[4].maxHp&&l[5].maxHp?"border-error border-2":"border-primary/50")),c(a,"class","form-control"),c(b,"class","label"),c(g,"type","number"),c(g,"min","1"),c(g,"max","30"),c(g,"class",C="input input-bordered bg-[#2d241c] text-base-content "+(l[4].armorClass&&l[5].armorClass?"border-error border-2":"border-primary/50")),c(d,"class","form-control"),c(t,"class","grid grid-cols-2 gap-4"),c(P,"class","label"),c(H,"type","number"),c(H,"min","-5"),c(H,"max","15"),c(H,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(L,"class","label"),c(x,"class","form-control"),c(F,"class","label"),c(U,"type","number"),c(U,"min","0"),c(U,"max","120"),c(U,"step","5"),c(U,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),c(Q,"class","label"),c(q,"class","form-control"),c(A,"class","grid grid-cols-2 gap-4"),c(e,"class","space-y-4")},m(Y,le){j(Y,e,le),s(e,t),s(t,a),s(a,r),s(a,i),s(a,o),xe(o,l[0].maxHp),s(a,m),K&&K.m(a,null),s(t,v),s(t,d),s(d,b),s(d,E),s(d,g),xe(g,l[0].armorClass),s(d,w),R&&R.m(d,null),s(e,I),s(e,A),s(A,x),s(x,P),s(x,T),s(x,H),xe(H,l[0].initiative),s(x,V),s(x,L),s(A,O),s(A,q),s(q,F),s(q,z),s(q,U),xe(U,l[0].speed),s(q,se),s(q,Q),ee||(te=[ae(o,"input",l[30]),ae(o,"blur",l[31]),ae(g,"input",l[32]),ae(g,"blur",l[33]),ae(H,"input",l[34]),ae(U,"input",l[35]),ae(U,"blur",l[36])],ee=!0)},p(Y,le){le[0]&48&&u!==(u="input input-bordered bg-[#2d241c] text-base-content "+(Y[4].maxHp&&Y[5].maxHp?"border-error border-2":"border-primary/50"))&&c(o,"class",u),le[0]&1&&Ue(o.value)!==Y[0].maxHp&&xe(o,Y[0].maxHp),Y[4].maxHp&&Y[5].maxHp?K?K.p(Y,le):(K=ps(Y),K.c(),K.m(a,null)):K&&(K.d(1),K=null),le[0]&48&&C!==(C="input input-bordered bg-[#2d241c] text-base-content "+(Y[4].armorClass&&Y[5].armorClass?"border-error border-2":"border-primary/50"))&&c(g,"class",C),le[0]&1&&Ue(g.value)!==Y[0].armorClass&&xe(g,Y[0].armorClass),Y[4].armorClass&&Y[5].armorClass?R?R.p(Y,le):(R=hs(Y),R.c(),R.m(d,null)):R&&(R.d(1),R=null),le[0]&1&&Ue(H.value)!==Y[0].initiative&&xe(H,Y[0].initiative),le[0]&1&&Ue(U.value)!==Y[0].speed&&xe(U,Y[0].speed)},d(Y){Y&&f(e),K&&K.d(),R&&R.d(),ee=!1,at(te)}}}function ps(l){let e,t,a,r=l[4].maxHp+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&16&&r!==(r=i[4].maxHp+"")&&$(n,r)},d(i){i&&f(e)}}}function hs(l){let e,t,a,r=l[4].armorClass+"",n;return{c(){e=h("label"),t=h("span"),a=N("‚ö†Ô∏è "),n=N(r),this.h()},l(i){e=p(i,"LABEL",{class:!0});var o=y(e);t=p(o,"SPAN",{class:!0});var u=y(t);a=S(u,"‚ö†Ô∏è "),n=S(u,r),u.forEach(f),o.forEach(f),this.h()},h(){c(t,"class","label-text-alt text-error"),c(e,"class","label")},m(i,o){j(i,e,o),s(e,t),s(t,a),s(t,n)},p(i,o){o[0]&16&&r!==(r=i[4].armorClass+"")&&$(n,r)},d(i){i&&f(e)}}}function ms(l){let e,t,a='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-info" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path></svg> <span class="text-sm">Las puntuaciones van de 1 a 30. El modificador se calcula autom√°ticamente.</span>',r,n,i=Je(l[9]),o=[];for(let u=0;u<i.length;u+=1)o[u]=bs(ss(l,i,u));return{c(){e=h("div"),t=h("div"),t.innerHTML=a,r=D(),n=h("div");for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=p(u,"DIV",{class:!0});var m=y(e);t=p(m,"DIV",{class:!0,"data-svelte-h":!0}),J(t)!=="svelte-24z9ow"&&(t.innerHTML=a),r=k(m),n=p(m,"DIV",{class:!0});var v=y(n);for(let d=0;d<o.length;d+=1)o[d].l(v);v.forEach(f),m.forEach(f),this.h()},h(){c(t,"class","alert bg-info/20 border-info/40"),c(n,"class","grid grid-cols-2 md:grid-cols-3 gap-4"),c(e,"class","space-y-4")},m(u,m){j(u,e,m),s(e,t),s(e,r),s(e,n);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(n,null)},p(u,m){if(m[0]&6291969){i=Je(u[9]);let v;for(v=0;v<i.length;v+=1){const d=ss(u,i,v);o[v]?o[v].p(d,m):(o[v]=bs(d),o[v].c(),o[v].m(n,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=i.length}},d(u){u&&f(e),lt(o,u)}}}function vs(l){let e,t,a,r=l[22][l[47]]+"",n,i,o,u=l[21][l[47]]+"",m,v,d,b,_,E,g,C=it(nt(l[0].abilityScores[l[47]]))+"",w,I,A,x="modificador",P,B,T;function H(){l[37].call(b,l[47])}return{c(){e=h("div"),t=h("label"),a=h("span"),n=N(r),i=D(),o=h("span"),m=N(u),v=D(),d=h("div"),b=h("input"),_=D(),E=h("div"),g=h("div"),w=N(C),I=D(),A=h("div"),A.textContent=x,P=D(),this.h()},l(V){e=p(V,"DIV",{class:!0});var L=y(e);t=p(L,"LABEL",{class:!0});var M=y(t);a=p(M,"SPAN",{class:!0});var O=y(a);n=S(O,r),O.forEach(f),i=k(M),o=p(M,"SPAN",{class:!0});var q=y(o);m=S(q,u),q.forEach(f),M.forEach(f),v=k(L),d=p(L,"DIV",{class:!0});var F=y(d);b=p(F,"INPUT",{type:!0,min:!0,max:!0,class:!0}),_=k(F),E=p(F,"DIV",{class:!0});var W=y(E);g=p(W,"DIV",{class:!0});var z=y(g);w=S(z,C),z.forEach(f),I=k(W),A=p(W,"DIV",{class:!0,"data-svelte-h":!0}),J(A)!=="svelte-9uusst"&&(A.textContent=x),W.forEach(f),F.forEach(f),P=k(L),L.forEach(f),this.h()},h(){c(a,"class","label-text font-medieval text-neutral font-bold"),c(o,"class","badge badge-secondary"),c(t,"class","label pb-2"),c(b,"type","number"),c(b,"min","1"),c(b,"max","30"),c(b,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 w-20 text-center text-lg font-bold"),c(g,"class","text-2xl font-bold text-neutral"),c(A,"class","text-xs text-neutral/60"),c(E,"class","flex-1 text-center"),c(d,"class","flex items-center gap-2"),c(e,"class","bg-gradient-to-br from-primary/10 to-accent/10 p-4 rounded-lg border-2 border-primary/30")},m(V,L){j(V,e,L),s(e,t),s(t,a),s(a,n),s(t,i),s(t,o),s(o,m),s(e,v),s(e,d),s(d,b),xe(b,l[0].abilityScores[l[47]]),s(d,_),s(d,E),s(E,g),s(g,w),s(E,I),s(E,A),s(e,P),B||(T=ae(b,"input",H),B=!0)},p(V,L){l=V,L[0]&512&&r!==(r=l[22][l[47]]+"")&&$(n,r),L[0]&512&&u!==(u=l[21][l[47]]+"")&&$(m,u),L[0]&513&&Ue(b.value)!==l[0].abilityScores[l[47]]&&xe(b,l[0].abilityScores[l[47]]),L[0]&513&&C!==(C=it(nt(l[0].abilityScores[l[47]]))+"")&&$(w,C)},d(V){V&&f(e),B=!1,T()}}}function bs(l){let e,t=l[0].abilityScores[l[47]]!==void 0&&vs(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,r){t&&t.m(a,r),j(a,e,r)},p(a,r){a[0].abilityScores[a[47]]!==void 0?t?t.p(a,r):(t=vs(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(a){a&&f(e),t&&t.d(a)}}}function _s(l){let e,t,a,r="üõ°Ô∏è Tiradas de Salvaci√≥n",n,i,o,u,m="‚öîÔ∏è",v,d,b,_="üéØ Habilidades",E,g,C=Je(l[8]),w=[];for(let x=0;x<C.length;x+=1)w[x]=gs(as(l,C,x));let I=Je(zt),A=[];for(let x=0;x<I.length;x+=1)A[x]=Cs(ls(l,I,x));return{c(){e=h("div"),t=h("div"),a=h("h4"),a.textContent=r,n=D(),i=h("div");for(let x=0;x<w.length;x+=1)w[x].c();o=D(),u=h("div"),u.textContent=m,v=D(),d=h("div"),b=h("h4"),b.textContent=_,E=D(),g=h("div");for(let x=0;x<A.length;x+=1)A[x].c();this.h()},l(x){e=p(x,"DIV",{class:!0});var P=y(e);t=p(P,"DIV",{});var B=y(t);a=p(B,"H4",{class:!0,"data-svelte-h":!0}),J(a)!=="svelte-uh7kas"&&(a.textContent=r),n=k(B),i=p(B,"DIV",{class:!0});var T=y(i);for(let L=0;L<w.length;L+=1)w[L].l(T);T.forEach(f),B.forEach(f),o=k(P),u=p(P,"DIV",{class:!0,"data-svelte-h":!0}),J(u)!=="svelte-uzv0g8"&&(u.textContent=m),v=k(P),d=p(P,"DIV",{});var H=y(d);b=p(H,"H4",{class:!0,"data-svelte-h":!0}),J(b)!=="svelte-1y79s75"&&(b.textContent=_),E=k(H),g=p(H,"DIV",{class:!0});var V=y(g);for(let L=0;L<A.length;L+=1)A[L].l(V);V.forEach(f),H.forEach(f),P.forEach(f),this.h()},h(){c(a,"class","font-medieval text-xl text-neutral mb-3 flex items-center gap-2"),c(i,"class","grid grid-cols-2 md:grid-cols-3 gap-3"),c(u,"class","divider text-neutral/50"),c(b,"class","font-medieval text-xl text-neutral mb-3 flex items-center gap-2"),c(g,"class","space-y-2 max-h-96 overflow-y-auto pr-2 svelte-p7d1us"),c(e,"class","space-y-6")},m(x,P){j(x,e,P),s(e,t),s(t,a),s(t,n),s(t,i);for(let B=0;B<w.length;B+=1)w[B]&&w[B].m(i,null);s(e,o),s(e,u),s(e,v),s(e,d),s(d,b),s(d,E),s(d,g);for(let B=0;B<A.length;B+=1)A[B]&&A[B].m(g,null)},p(x,P){if(P[0]&4473089){C=Je(x[8]);let B;for(B=0;B<C.length;B+=1){const T=as(x,C,B);w[B]?w[B].p(T,P):(w[B]=gs(T),w[B].c(),w[B].m(i,null))}for(;B<w.length;B+=1)w[B].d(1);w.length=C.length}if(P[0]&4424704){I=Je(zt);let B;for(B=0;B<I.length;B+=1){const T=ls(x,I,B);A[B]?A[B].p(T,P):(A[B]=Cs(T),A[B].c(),A[B].m(g,null))}for(;B<A.length;B+=1)A[B].d(1);A.length=I.length}},d(x){x&&f(e),lt(w,x),lt(A,x)}}}function gs(l){let e,t,a,r,n,i,o=l[22][l[47]]+"",u,m,v,d=it(l[18](l[47]))+"",b,_,E,g,C;function w(){return l[38](l[47])}return{c(){e=h("label"),t=h("input"),r=D(),n=h("div"),i=h("div"),u=N(o),m=D(),v=h("div"),b=N(d),_=D(),this.h()},l(I){e=p(I,"LABEL",{class:!0});var A=y(e);t=p(A,"INPUT",{type:!0,class:!0}),r=k(A),n=p(A,"DIV",{class:!0});var x=y(n);i=p(x,"DIV",{class:!0});var P=y(i);u=S(P,o),P.forEach(f),m=k(x),v=p(x,"DIV",{class:!0});var B=y(v);b=S(B,d),B.forEach(f),x.forEach(f),_=k(A),A.forEach(f),this.h()},h(){c(t,"type","checkbox"),t.checked=a=l[0].savingThrows[l[47]],c(t,"class","checkbox checkbox-sm checkbox-success"),c(i,"class","font-medieval text-sm"),c(v,"class","text-xs text-neutral/70"),c(n,"class","flex-1"),c(e,"class",E="flex items-center gap-2 p-3 rounded-lg border-2 cursor-pointer transition-all "+(l[0].savingThrows[l[47]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))},m(I,A){j(I,e,A),s(e,t),s(e,r),s(e,n),s(n,i),s(i,u),s(n,m),s(n,v),s(v,b),s(e,_),g||(C=ae(t,"change",w),g=!0)},p(I,A){l=I,A[0]&257&&a!==(a=l[0].savingThrows[l[47]])&&(t.checked=a),A[0]&256&&o!==(o=l[22][l[47]]+"")&&$(u,o),A[0]&256&&d!==(d=it(l[18](l[47]))+"")&&$(b,d),A[0]&257&&E!==(E="flex items-center gap-2 p-3 rounded-lg border-2 cursor-pointer transition-all "+(l[0].savingThrows[l[47]]?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))&&c(e,"class",E)},d(I){I&&f(e),g=!1,C()}}}function Es(l){let e,t,a,r,n,i,o,u=l[44].label+"",m,v,d,b=l[22][l[44].ability]+"",_,E,g=it(l[17](l[10][l[44].name]))+"",C,w,I,A,x,P;function B(){return l[39](l[44])}let T=l[10][l[44].name].proficient&&ys(l);return{c(){e=h("div"),t=h("label"),a=h("input"),n=D(),i=h("div"),o=h("div"),m=N(u),v=D(),d=h("div"),_=N(b),E=N(" ‚Ä¢ "),C=N(g),w=D(),T&&T.c(),I=D(),this.h()},l(H){e=p(H,"DIV",{class:!0});var V=y(e);t=p(V,"LABEL",{class:!0});var L=y(t);a=p(L,"INPUT",{type:!0,class:!0}),n=k(L),i=p(L,"DIV",{class:!0});var M=y(i);o=p(M,"DIV",{class:!0});var O=y(o);m=S(O,u),O.forEach(f),v=k(M),d=p(M,"DIV",{class:!0});var q=y(d);_=S(q,b),E=S(q," ‚Ä¢ "),C=S(q,g),q.forEach(f),M.forEach(f),L.forEach(f),w=k(V),T&&T.l(V),I=k(V),V.forEach(f),this.h()},h(){c(a,"type","checkbox"),a.checked=r=l[10][l[44].name].proficient||!1,c(a,"class","checkbox checkbox-sm checkbox-success"),c(o,"class","font-medieval text-sm"),c(d,"class","text-xs text-neutral/70"),c(i,"class","flex-1"),c(t,"class","flex items-center gap-2 cursor-pointer flex-1"),c(e,"class",A="flex items-center gap-2 p-3 rounded-lg border-2 transition-all "+(l[10][l[44].name].expertise?"bg-warning/20 border-warning":l[10][l[44].name].proficient?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))},m(H,V){j(H,e,V),s(e,t),s(t,a),s(t,n),s(t,i),s(i,o),s(o,m),s(i,v),s(i,d),s(d,_),s(d,E),s(d,C),s(e,w),T&&T.m(e,null),s(e,I),x||(P=ae(a,"change",B),x=!0)},p(H,V){l=H,V[0]&1024&&r!==(r=l[10][l[44].name].proficient||!1)&&(a.checked=r),V[0]&1024&&g!==(g=it(l[17](l[10][l[44].name]))+"")&&$(C,g),l[10][l[44].name].proficient?T?T.p(l,V):(T=ys(l),T.c(),T.m(e,I)):T&&(T.d(1),T=null),V[0]&1024&&A!==(A="flex items-center gap-2 p-3 rounded-lg border-2 transition-all "+(l[10][l[44].name].expertise?"bg-warning/20 border-warning":l[10][l[44].name].proficient?"bg-success/20 border-success":"bg-neutral/10 border-neutral/30"))&&c(e,"class",A)},d(H){H&&f(e),T&&T.d(),x=!1,P()}}}function ys(l){let e,t,a,r,n;function i(){return l[40](l[44])}return{c(){e=h("button"),t=N("‚òÖ"),this.h()},l(o){e=p(o,"BUTTON",{class:!0,title:!0});var u=y(e);t=S(u,"‚òÖ"),u.forEach(f),this.h()},h(){c(e,"class",a="btn btn-xs "+(l[10][l[44].name].expertise?"btn-warning":"btn-ghost")),c(e,"title","Expertise (x2 proficiency)")},m(o,u){j(o,e,u),s(e,t),r||(n=ae(e,"click",i),r=!0)},p(o,u){l=o,u[0]&1024&&a!==(a="btn btn-xs "+(l[10][l[44].name].expertise?"btn-warning":"btn-ghost"))&&c(e,"class",a)},d(o){o&&f(e),r=!1,n()}}}function Cs(l){let e,t=l[10][l[44].name]&&Es(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,r){t&&t.m(a,r),j(a,e,r)},p(a,r){a[10][a[44].name]?t?t.p(a,r):(t=Es(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(a){a&&f(e),t&&t.d(a)}}}function dn(l){let e,t,a=l[2]?"üíæ":"‚ú®",r,n,i=l[2]?"Guardar Cambios":"Crear Personaje",o,u,m,v;return{c(){e=h("button"),t=h("span"),r=N(a),n=D(),o=N(i),this.h()},l(d){e=p(d,"BUTTON",{class:!0,type:!0});var b=y(e);t=p(b,"SPAN",{class:!0});var _=y(t);r=S(_,a),_.forEach(f),n=k(b),o=S(b,i),b.forEach(f),this.h()},h(){c(t,"class","text-xl"),c(e,"class","btn btn-dnd"),e.disabled=u=!l[6],c(e,"type","button")},m(d,b){j(d,e,b),s(e,t),s(t,r),s(e,n),s(e,o),m||(v=ae(e,"click",l[19]),m=!0)},p(d,b){b[0]&4&&a!==(a=d[2]?"üíæ":"‚ú®")&&$(r,a),b[0]&4&&i!==(i=d[2]?"Guardar Cambios":"Crear Personaje")&&$(o,i),b[0]&64&&u!==(u=!d[6])&&(e.disabled=u)},d(d){d&&f(e),m=!1,v()}}}function pn(l){let e,t,a,r,n;return{c(){e=h("button"),t=N("Siguiente ‚Üí"),this.h()},l(i){e=p(i,"BUTTON",{class:!0,type:!0});var o=y(e);t=S(o,"Siguiente ‚Üí"),o.forEach(f),this.h()},h(){c(e,"class","btn btn-dnd"),e.disabled=a=!l[6],c(e,"type","button")},m(i,o){j(i,e,o),s(e,t),r||(n=ae(e,"click",l[12]),r=!0)},p(i,o){o[0]&64&&a!==(a=!i[6])&&(e.disabled=a)},d(i){i&&f(e),r=!1,n()}}}function hn(l){let e,t=l[1]&&ns(l);return{c(){t&&t.c(),e=Ye()},l(a){t&&t.l(a),e=Ye()},m(a,r){t&&t.m(a,r),j(a,e,r)},p(a,r){a[1]?t?t.p(a,r):(t=ns(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Ke,o:Ke,d(a){a&&f(e),t&&t.d(a)}}}const Ct=4;function mn(l,e,t){let a,r,n,i,o,u,{isOpen:m=!1}=e,{isEdit:v=!1}=e,{form:d}=e;const b=Ot();let _=1,E={name:"",class:"",level:"",maxHp:"",armorClass:"",speed:""},g={name:!1,class:!1,level:!1,maxHp:!1,armorClass:!1,speed:!1};function C(X){t(5,g[X]=!0,g)}function w(){if(!u){_===1?(t(5,g.name=!0,g),t(5,g.class=!0,g),t(5,g.level=!0,g)):_===2&&(t(5,g.maxHp=!0,g),t(5,g.armorClass=!0,g),t(5,g.speed=!0,g));return}_<Ct&&t(3,_++,_)}function I(){_>1&&t(3,_--,_)}function A(X){t(0,d.savingThrows[X]=!d.savingThrows[X],d)}function x(X){const ue=d.skills.findIndex(Fe=>Fe.name===X);if(ue===-1){console.error(`Skill not found: ${X}`);return}const he=[...d.skills],Ce=he[ue].proficient;he[ue]={...he[ue],proficient:!Ce,expertise:Ce?!1:he[ue].expertise},t(0,d.skills=he,d)}function P(X){const ue=d.skills.findIndex(Ce=>Ce.name===X);if(ue===-1){console.error(`Skill not found: ${X}`);return}if(!d.skills[ue].proficient){console.warn(`‚ö†Ô∏è Cannot toggle expertise: ${X} is not proficient`);return}const he=[...d.skills];he[ue]={...he[ue],expertise:!he[ue].expertise},t(0,d.skills=he,d)}function B(X){if(!X)return 0;let he=r[X.ability];return X.expertise?he+=a*2:X.proficient&&(he+=a),he}function T(X){const ue=r[X];return d.savingThrows[X]?ue+a:ue}function H(){Object.keys(g).forEach(X=>{t(5,g[X]=!0,g)});for(let X=1;X<=Ct;X++)if(t(3,_=X),!u)return;b("submit",d),V()}function V(){Object.keys(g).forEach(X=>{t(5,g[X]=!1,g)}),Object.keys(E).forEach(X=>{t(4,E[X]="",E)}),t(3,_=1)}function L(){V(),b("close")}const M={strength:"FUE",dexterity:"DES",constitution:"CON",intelligence:"INT",wisdom:"SAB",charisma:"CAR"},O={strength:"Fuerza",dexterity:"Destreza",constitution:"Constituci√≥n",intelligence:"Inteligencia",wisdom:"Sabidur√≠a",charisma:"Carisma"},q=X=>t(3,_=X+1);function F(){d.name=this.value,t(0,d)}const W=()=>C("name");function z(){d.class=this.value,t(0,d)}const U=()=>C("class");function se(){d.level=Ue(this.value),t(0,d)}const Q=()=>C("level");function G(){d.maxHp=Ue(this.value),t(0,d)}const ee=()=>C("maxHp");function te(){d.armorClass=Ue(this.value),t(0,d)}const K=()=>C("armorClass");function R(){d.initiative=Ue(this.value),t(0,d)}function Y(){d.speed=Ue(this.value),t(0,d)}const le=()=>C("speed");function oe(X){d.abilityScores[X]=Ue(this.value),t(0,d)}const de=X=>A(X),ye=X=>x(X.name),we=X=>P(X.name);return l.$$set=X=>{"isOpen"in X&&t(1,m=X.isOpen),"isEdit"in X&&t(2,v=X.isEdit),"form"in X&&t(0,d=X.form)},l.$$.update=()=>{if(l.$$.dirty[0]&1&&t(7,a=Wt(d.level)),l.$$.dirty[0]&1&&(r={strength:nt(d.abilityScores.strength),dexterity:nt(d.abilityScores.dexterity),constitution:nt(d.abilityScores.constitution),intelligence:nt(d.abilityScores.intelligence),wisdom:nt(d.abilityScores.wisdom),charisma:nt(d.abilityScores.charisma)}),l.$$.dirty[0]&1&&t(10,n=d!=null&&d.skills?d.skills.reduce((X,ue)=>(X[ue.name]=ue,X),{}):{}),l.$$.dirty[0]&1&&t(9,i=Object.keys(d.abilityScores)),l.$$.dirty[0]&1&&t(8,o=Object.keys(d.savingThrows)),l.$$.dirty[0]&1){const X=Us(d.name);t(4,E.name=X.error||"",E),!d.class||d.class.trim().length<2?t(4,E.class="La clase debe tener al menos 2 caracteres",E):d.class.trim().length>50?t(4,E.class="La clase no puede tener m√°s de 50 caracteres",E):t(4,E.class="",E);const ue=zs(d.level);t(4,E.level=ue.error||"",E);const he=Rs(d.maxHp);t(4,E.maxHp=he.error||"",E);const Ce=Gs(d.armorClass);t(4,E.armorClass=Ce.error||"",E),d.speed<0?t(4,E.speed="La velocidad no puede ser negativa",E):d.speed>120?t(4,E.speed="La velocidad m√°xima es 120 pies",E):t(4,E.speed="",E)}l.$$.dirty[0]&25&&t(6,u=(()=>{switch(_){case 1:{const X=d.name.trim()!==""&&!E.name,ue=d.class.trim()!==""&&d.class.trim().length>=2&&!E.class,he=d.level>=1&&d.level<=20&&!E.level;return X&&ue&&he}case 2:return d.maxHp>0&&d.armorClass>0&&d.speed>=0&&!E.maxHp&&!E.armorClass&&!E.speed;case 3:return Object.values(d.abilityScores).every(ue=>ue>=1&&ue<=30);case 4:return!0;default:return!1}})())},[d,m,v,_,E,g,u,a,o,i,n,C,w,I,A,x,P,B,T,H,L,M,O,q,F,W,z,U,se,Q,G,ee,te,K,R,Y,le,oe,de,ye,we]}class vn extends Dt{constructor(e){super(),wt(this,e,mn,hn,It,{isOpen:1,isEdit:2,form:0},null,[-1,-1])}}function ks(l,e,t){const a=l.slice();return a[30]=e[t],a}function Ds(l){let e,t,a,r,n,i,o,u,m="‚úï",v,d;return{c(){e=h("div"),t=Tt("svg"),a=Tt("path"),r=D(),n=h("span"),i=N(l[1]),o=D(),u=h("button"),u.textContent=m,this.h()},l(b){e=p(b,"DIV",{class:!0});var _=y(e);t=xt(_,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var E=y(t);a=xt(E,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(a).forEach(f),E.forEach(f),r=k(_),n=p(_,"SPAN",{});var g=y(n);i=S(g,l[1]),g.forEach(f),o=k(_),u=p(_,"BUTTON",{class:!0,"data-svelte-h":!0}),J(u)!=="svelte-4f72mu"&&(u.textContent=m),_.forEach(f),this.h()},h(){c(a,"fill-rule","evenodd"),c(a,"d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"),c(a,"clip-rule","evenodd"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(t,"class","h-5 w-5"),c(t,"viewBox","0 0 20 20"),c(t,"fill","currentColor"),c(u,"class","btn btn-sm btn-ghost"),c(e,"class","alert alert-error mb-6")},m(b,_){j(b,e,_),s(e,t),s(t,a),s(e,r),s(e,n),s(n,i),s(e,o),s(e,u),v||(d=ae(u,"click",l[15]),v=!0)},p(b,_){_[0]&2&&$(i,b[1])},d(b){b&&f(e),v=!1,d()}}}function bn(l){let e,t,a,r=l[6]?"üë§ Mi Personaje":"",n,i,o,u,m,v,d;const b=[En,gn],_=[];function E(C,w){return C[6]?0:1}o=E(l),u=_[o]=b[o](l);let g=l[5].length>0&&ws(l);return{c(){e=h("div"),t=h("div"),a=h("h2"),n=N(r),i=D(),u.c(),m=D(),g&&g.c(),v=Ye(),this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);a=p(I,"H2",{class:!0});var A=y(a);n=S(A,r),A.forEach(f),I.forEach(f),i=k(w),u.l(w),w.forEach(f),m=k(C),g&&g.l(C),v=Ye(),this.h()},h(){c(a,"class","text-2xl font-medieval text-secondary"),c(t,"class","flex justify-between items-center mb-4"),c(e,"class","mb-10")},m(C,w){j(C,e,w),s(e,t),s(t,a),s(a,n),s(e,i),_[o].m(e,null),j(C,m,w),g&&g.m(C,w),j(C,v,w),d=!0},p(C,w){(!d||w[0]&64)&&r!==(r=C[6]?"üë§ Mi Personaje":"")&&$(n,r);let I=o;o=E(C),o===I?_[o].p(C,w):(Bt(),$e(_[I],1,1,()=>{_[I]=null}),Ht(),u=_[o],u?u.p(C,w):(u=_[o]=b[o](C),u.c()),Ze(u,1),u.m(e,null)),C[5].length>0?g?(g.p(C,w),w[0]&32&&Ze(g,1)):(g=ws(C),g.c(),Ze(g,1),g.m(v.parentNode,v)):g&&(Bt(),$e(g,1,1,()=>{g=null}),Ht())},i(C){d||(Ze(u),Ze(g),d=!0)},o(C){$e(u),$e(g),d=!1},d(C){C&&(f(e),f(m),f(v)),_[o].d(),g&&g.d(C)}}}function _n(l){let e,t='<div class="flex flex-col items-center gap-4"><span class="loading loading-spinner loading-lg text-secondary"></span> <p class="text-neutral/70 font-body">Cargando personajes...</p></div>';return{c(){e=h("div"),e.innerHTML=t,this.h()},l(a){e=p(a,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-3wguzo"&&(e.innerHTML=t),this.h()},h(){c(e,"class","flex justify-center py-20")},m(a,r){j(a,e,r)},p:Ke,i:Ke,o:Ke,d(a){a&&f(e)}}}function gn(l){let e,t,a,r="üßô‚Äç‚ôÇÔ∏è",n,i,o="No tienes personaje",u,m,v="Crea tu personaje para unirte a las aventuras de esta campa√±a",d,b,_=`<span class="text-xl sm:text-2xl">‚ú®</span>
                    Crear Mi Personaje`,E,g;return{c(){e=h("div"),t=h("div"),a=h("div"),a.textContent=r,n=D(),i=h("h3"),i.textContent=o,u=D(),m=h("p"),m.textContent=v,d=D(),b=h("button"),b.innerHTML=_,this.h()},l(C){e=p(C,"DIV",{class:!0});var w=y(e);t=p(w,"DIV",{class:!0});var I=y(t);a=p(I,"DIV",{class:!0,"data-svelte-h":!0}),J(a)!=="svelte-1ln1omq"&&(a.textContent=r),n=k(I),i=p(I,"H3",{class:!0,"data-svelte-h":!0}),J(i)!=="svelte-159hl7e"&&(i.textContent=o),u=k(I),m=p(I,"P",{class:!0,"data-svelte-h":!0}),J(m)!=="svelte-iqqe9"&&(m.textContent=v),d=k(I),b=p(I,"BUTTON",{class:!0,"data-svelte-h":!0}),J(b)!=="svelte-1yr15ob"&&(b.innerHTML=_),I.forEach(f),w.forEach(f),this.h()},h(){c(a,"class","text-4xl sm:text-6xl mb-4"),c(i,"class","text-xl sm:text-2xl font-medieval text-neutral mb-3"),c(m,"class","text-sm sm:text-base text-neutral/70 font-body mb-6"),c(b,"class","btn btn-dnd btn-md sm:btn-lg"),c(t,"class","card-parchment p-6 sm:p-8 text-center max-w-2xl corner-ornament"),c(e,"class","flex justify-center")},m(C,w){j(C,e,w),s(e,t),s(t,a),s(t,n),s(t,i),s(t,u),s(t,m),s(t,d),s(t,b),E||(g=ae(b,"click",l[7]),E=!0)},p:Ke,i:Ke,o:Ke,d(C){C&&f(e),E=!1,g()}}}function En(l){let e,t,a,r;return a=new As({props:{character:l[6],isOwner:!0,showInventory:!0}}),a.$on("edit",l[16]),a.$on("delete",l[17]),{c(){e=h("div"),t=h("div"),yt(a.$$.fragment),this.h()},l(n){e=p(n,"DIV",{class:!0});var i=y(e);t=p(i,"DIV",{class:!0});var o=y(t);Et(a.$$.fragment,o),o.forEach(f),i.forEach(f),this.h()},h(){c(t,"class","max-w-6xl w-full"),c(e,"class","flex justify-center")},m(n,i){j(n,e,i),s(e,t),gt(a,t,null),r=!0},p(n,i){const o={};i[0]&64&&(o.character=n[6]),a.$set(o)},i(n){r||(Ze(a.$$.fragment,n),r=!0)},o(n){$e(a.$$.fragment,n),r=!1},d(n){n&&f(e),_t(a)}}}function ws(l){let e,t="‚öîÔ∏è",a,r,n='<h2 class="text-2xl sm:text-3xl font-medieval text-center text-secondary mb-2">Compa√±eros de Aventura</h2> <p class="text-primary text-center font-body italic text-sm sm:text-base">Los dem√°s h√©roes de esta campa√±a</p>',i,o,u,m,v=Je(l[5]),d=[];for(let _=0;_<v.length;_+=1)d[_]=Is(ks(l,v,_));const b=_=>$e(d[_],1,1,()=>{d[_]=null});return{c(){e=h("div"),e.textContent=t,a=D(),r=h("div"),r.innerHTML=n,i=D(),o=h("div"),u=h("div");for(let _=0;_<d.length;_+=1)d[_].c();this.h()},l(_){e=p(_,"DIV",{class:!0,"data-svelte-h":!0}),J(e)!=="svelte-erxn0r"&&(e.textContent=t),a=k(_),r=p(_,"DIV",{class:!0,"data-svelte-h":!0}),J(r)!=="svelte-xk4yrr"&&(r.innerHTML=n),i=k(_),o=p(_,"DIV",{class:!0});var E=y(o);u=p(E,"DIV",{class:!0});var g=y(u);for(let C=0;C<d.length;C+=1)d[C].l(g);g.forEach(f),E.forEach(f),this.h()},h(){c(e,"class","divider text-neutral/50 my-8"),c(r,"class","mb-6"),c(u,"class","grid grid-cols-1 gap-6"),c(o,"class","container mx-auto max-w-7xl")},m(_,E){j(_,e,E),j(_,a,E),j(_,r,E),j(_,i,E),j(_,o,E),s(o,u);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(u,null);m=!0},p(_,E){if(E[0]&32){v=Je(_[5]);let g;for(g=0;g<v.length;g+=1){const C=ks(_,v,g);d[g]?(d[g].p(C,E),Ze(d[g],1)):(d[g]=Is(C),d[g].c(),Ze(d[g],1),d[g].m(u,null))}for(Bt(),g=v.length;g<d.length;g+=1)b(g);Ht()}},i(_){if(!m){for(let E=0;E<v.length;E+=1)Ze(d[E]);m=!0}},o(_){d=d.filter(Boolean);for(let E=0;E<d.length;E+=1)$e(d[E]);m=!1},d(_){_&&(f(e),f(a),f(r),f(i),f(o)),lt(d,_)}}}function Is(l){let e,t,a,r,n;return a=new As({props:{character:l[30],isOwner:!1,showInventory:!0}}),{c(){e=h("div"),t=h("div"),yt(a.$$.fragment),r=D(),this.h()},l(i){e=p(i,"DIV",{class:!0});var o=y(e);t=p(o,"DIV",{class:!0});var u=y(t);Et(a.$$.fragment,u),u.forEach(f),r=k(o),o.forEach(f),this.h()},h(){c(t,"class","w-full max-w-6xl"),c(e,"class","flex justify-center")},m(i,o){j(i,e,o),s(e,t),gt(a,t,null),s(e,r),n=!0},p(i,o){const u={};o[0]&32&&(u.character=i[30]),a.$set(u)},i(i){n||(Ze(a.$$.fragment,i),n=!0)},o(i){$e(a.$$.fragment,i),n=!1},d(i){i&&f(e),_t(a)}}}function yn(l){let e,t,a,r,n,i='<h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-secondary title-ornament mb-3 text-shadow">Personajes</h1> <p class="text-base-content/70 font-body italic text-base sm:text-lg mb-2">&quot;Cada h√©roe tiene su historia...&quot;</p>',o,u,m,v,d,b,_,E,g,C=l[1]&&Ds(l);const w=[_n,bn],I=[];function A(T,H){return T[0]?0:1}m=A(l),v=I[m]=w[m](l);function x(T){l[18](T)}function P(T){l[19](T)}let B={isEdit:l[3]};return l[2]!==void 0&&(B.isOpen=l[2]),l[4]!==void 0&&(B.form=l[4]),b=new vn({props:B}),Pt.push(()=>St(b,"isOpen",x)),Pt.push(()=>St(b,"form",P)),b.$on("submit",l[9]),b.$on("close",l[11]),{c(){e=h("div"),t=h("div"),a=h("div"),r=h("div"),n=h("div"),n.innerHTML=i,o=D(),C&&C.c(),u=D(),v.c(),d=D(),yt(b.$$.fragment),this.h()},l(T){e=p(T,"DIV",{class:!0});var H=y(e);t=p(H,"DIV",{class:!0});var V=y(t);a=p(V,"DIV",{class:!0});var L=y(a);r=p(L,"DIV",{class:!0});var M=y(r);n=p(M,"DIV",{class:!0,"data-svelte-h":!0}),J(n)!=="svelte-xbcwjp"&&(n.innerHTML=i),o=k(M),C&&C.l(M),u=k(M),v.l(M),M.forEach(f),L.forEach(f),V.forEach(f),H.forEach(f),d=k(T),Et(b.$$.fragment,T),this.h()},h(){c(n,"class","mb-6 sm:mb-8 text-center"),c(r,"class","container mx-auto max-w-7xl"),c(a,"class","flex-1 p-4 sm:p-6"),c(t,"class","flex flex-1"),c(e,"class","min-h-screen flex flex-col")},m(T,H){j(T,e,H),s(e,t),s(t,a),s(a,r),s(r,n),s(r,o),C&&C.m(r,null),s(r,u),I[m].m(r,null),j(T,d,H),gt(b,T,H),g=!0},p(T,H){T[1]?C?C.p(T,H):(C=Ds(T),C.c(),C.m(r,u)):C&&(C.d(1),C=null);let V=m;m=A(T),m===V?I[m].p(T,H):(Bt(),$e(I[V],1,1,()=>{I[V]=null}),Ht(),v=I[m],v?v.p(T,H):(v=I[m]=w[m](T),v.c()),Ze(v,1),v.m(r,null));const L={};H[0]&8&&(L.isEdit=T[3]),!_&&H[0]&4&&(_=!0,L.isOpen=T[2],Nt(()=>_=!1)),!E&&H[0]&16&&(E=!0,L.form=T[4],Nt(()=>E=!1)),b.$set(L)},i(T){g||(Ze(v),Ze(b.$$.fragment,T),g=!0)},o(T){$e(v),$e(b.$$.fragment,T),g=!1},d(T){T&&(f(e),f(d)),C&&C.d(),I[m].d(),_t(b,T)}}}function Cn(l,e,t){let a,r,n,i,o;Yt(l,Bs,U=>t(13,i=U)),Yt(l,Ns,U=>t(14,o=U)),Ss.set("Personajes");let u=null,m=[],v=!0,d="",b=!1,_=null,E=!1;function g(){return{name:"",class:"Aventurero",level:1,maxHp:10,armorClass:10,initiative:0,speed:30,abilityScores:{strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10},savingThrows:{strength:!1,dexterity:!1,constitution:!1,intelligence:!1,wisdom:!1,charisma:!1},skills:zt.map(U=>({name:U.name,ability:U.ability,proficient:!1,expertise:!1}))}}function C(U){return{name:U.name,class:U.class,level:U.level,maxHp:U.maxHp,armorClass:U.armorClass,initiative:U.initiative,speed:U.speed,abilityScores:{...U.abilityScores},savingThrows:{...U.savingThrows},skills:zt.map(se=>{var G;const Q=(G=U.skills)==null?void 0:G.find(ee=>ee.name===se.name);return Q?{...Q}:{name:se.name,ability:se.ability,proficient:!1,expertise:!1}})}}let w=g();function I(){t(4,w=g())}let A=null;const x=Qs(Ys);Vs(async()=>{await B(),P()}),Ps(()=>{A&&A()});function P(){try{t(0,v=!0);const U=Js(x,"characters"),se=Ks(U,Ws("campaignId","==",a));A=Xs(se,Q=>{t(12,m=Q.docs.map(G=>({id:G.id,...G.data()}))),t(0,v=!1)},Q=>{console.error("Error en listener de personajes:",Q),t(1,d=Q.message),t(0,v=!1)})}catch(U){t(1,d=U.message),t(0,v=!1)}}async function B(){try{u=await jt.getCampaign(a)}catch(U){t(1,d=U.message)}}function T(){_=null,t(3,E=!1),I(),t(2,b=!0)}function H(U){_=U,t(3,E=!0),t(4,w=C(U)),t(2,b=!0)}async function V(){try{const U=Wt(w.level),se={name:w.name,class:w.class,level:w.level,maxHp:w.maxHp,armorClass:w.armorClass,initiative:w.initiative,speed:w.speed,abilityScores:w.abilityScores,proficiencyBonus:U,savingThrows:w.savingThrows,skills:w.skills};E&&_?await jt.updateCharacter(_.id,se):await jt.createCharacter(a,se),t(2,b=!1),I()}catch(U){t(1,d=U.message)}}async function L(U){if(confirm(`¬øEliminar a ${U.name}?`))try{await jt.deleteCharacter(U.id)}catch(se){t(1,d=se.message)}}function M(){t(2,b=!1),I()}const O=()=>t(1,d=""),q=U=>H(U.detail),F=U=>L(U.detail);function W(U){b=U,t(2,b)}function z(U){w=U,t(4,w)}return l.$$.update=()=>{l.$$.dirty[0]&16384&&(a=o.params.id||""),l.$$.dirty[0]&12288&&t(6,r=m.find(U=>U.userId===(i==null?void 0:i.uid))),l.$$.dirty[0]&12288&&t(5,n=m.filter(U=>U.userId!==(i==null?void 0:i.uid)))},[v,d,b,E,w,n,r,T,H,V,L,M,m,i,o,O,q,F,W,z]}class Pn extends Dt{constructor(e){super(),wt(this,e,Cn,yn,It,{},null,[-1,-1])}}export{Pn as component};
