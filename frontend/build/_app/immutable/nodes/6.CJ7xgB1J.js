import{S as bt,i as gt,s as mt,n as Be,d as u,a as Le,b as $,c as a,r as Z,m as i,e as c,f as g,o as q,h as k,g as ne,q as qe,j as d,k as y,t as re,l as ze,p as Ct,A as xt,x as He,u as Ue,v as _e,B as Ae,C as Fe,D as Oe}from"../chunks/xl8dgHUM.js";import{h as Et,a as Pe,e as we}from"../chunks/DYUkzndH.js";import"../chunks/IHki7fMi.js";import{p as kt}from"../chunks/D_PcSuOn.js";import{u as yt}from"../chunks/YJlP5Giy.js";import{g as Tt,c as It,q as Ge,w as je,o as Qe}from"../chunks/eN7n43qG.js";import{c as Dt}from"../chunks/Bhgkhhu0.js";function Re(s,e,t){const l=s.slice();return l[55]=e[t],l}function Xe(s,e,t){const l=s.slice();return l[58]=e[t],l}function Je(s,e,t){const l=s.slice();return l[55]=e[t],l}function Ke(s,e,t){const l=s.slice();return l[58]=e[t],l}function We(s,e,t){const l=s.slice();return l[65]=e[t],l}function Ye(s,e,t){const l=s.slice();return l[55]=e[t],l}function Ze(s,e,t){const l=s.slice();return l[58]=e[t],l}function $e(s){let e,t,l,n,r,o="‚úï",h,b;return{c(){e=d("div"),t=d("span"),l=re(s[7]),n=y(),r=d("button"),r.textContent=o,this.h()},l(T){e=c(T,"DIV",{class:!0});var p=g(e);t=c(p,"SPAN",{});var m=g(t);l=ne(m,s[7]),m.forEach(u),n=k(p),r=c(p,"BUTTON",{class:!0,"data-svelte-h":!0}),q(r)!=="svelte-4tcifc"&&(r.textContent=o),p.forEach(u),this.h()},h(){i(r,"class","btn btn-sm"),i(e,"class","alert alert-error mb-6")},m(T,p){$(T,e,p),a(e,t),a(t,l),a(e,n),a(e,r),h||(b=Z(r,"click",s[26]),h=!0)},p(T,p){p[0]&128&&Le(l,T[7])},d(T){T&&u(e),h=!1,b()}}}function Lt(s){let e,t,l,n,r='<span class="label-text font-medieval text-neutral">üîç Buscar</span>',o,h,b,T,p,m='<span class="label-text font-medieval text-neutral">Categor√≠a</span>',v,E,V,B="Todas",ae,w,C,F='<span class="label-text font-medieval text-neutral">Tipo</span>',me,j,N,se="Todas",R,O="Personales",D,L="Compartidas",Q,S,de,U=s[5].length+"",Y,ye,ue=s[0].length+"",W,J,pe,K,De,Ce,be=we(s[14]),P=[];for(let I=0;I<be.length;I+=1)P[I]=et(Ze(s,be,I));function le(I,z){return I[5].length===0?Vt:wt}let Te=le(s),oe=Te(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=d("label"),n.innerHTML=r,o=y(),h=d("input"),b=y(),T=d("div"),p=d("label"),p.innerHTML=m,v=y(),E=d("select"),V=d("option"),V.textContent=B;for(let I=0;I<P.length;I+=1)P[I].c();ae=y(),w=d("div"),C=d("label"),C.innerHTML=F,me=y(),j=d("select"),N=d("option"),N.textContent=se,R=d("option"),R.textContent=O,D=d("option"),D.textContent=L,Q=y(),S=d("div"),de=re("Mostrando "),Y=re(U),ye=re(" de "),W=re(ue),J=re(" notas"),pe=y(),oe.c(),K=qe(),this.h()},l(I){e=c(I,"DIV",{class:!0});var z=g(e);t=c(z,"DIV",{class:!0});var X=g(t);l=c(X,"DIV",{class:!0});var ge=g(l);n=c(ge,"LABEL",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-1hur2gf"&&(n.innerHTML=r),o=k(ge),h=c(ge,"INPUT",{type:!0,placeholder:!0,class:!0}),ge.forEach(u),b=k(X),T=c(X,"DIV",{class:!0});var ve=g(T);p=c(ve,"LABEL",{class:!0,"data-svelte-h":!0}),q(p)!=="svelte-1py2g6g"&&(p.innerHTML=m),v=k(ve),E=c(ve,"SELECT",{class:!0});var fe=g(E);V=c(fe,"OPTION",{"data-svelte-h":!0}),q(V)!=="svelte-v50ofg"&&(V.textContent=B);for(let M=0;M<P.length;M+=1)P[M].l(fe);fe.forEach(u),ve.forEach(u),ae=k(X),w=c(X,"DIV",{class:!0});var ee=g(w);C=c(ee,"LABEL",{class:!0,"data-svelte-h":!0}),q(C)!=="svelte-t56wfd"&&(C.innerHTML=F),me=k(ee),j=c(ee,"SELECT",{class:!0});var G=g(j);N=c(G,"OPTION",{"data-svelte-h":!0}),q(N)!=="svelte-v50ofg"&&(N.textContent=se),R=c(G,"OPTION",{"data-svelte-h":!0}),q(R)!=="svelte-1jiqopi"&&(R.textContent=O),D=c(G,"OPTION",{"data-svelte-h":!0}),q(D)!=="svelte-g8zmii"&&(D.textContent=L),G.forEach(u),ee.forEach(u),X.forEach(u),Q=k(z),S=c(z,"DIV",{class:!0});var H=g(S);de=ne(H,"Mostrando "),Y=ne(H,U),ye=ne(H," de "),W=ne(H,ue),J=ne(H," notas"),H.forEach(u),z.forEach(u),pe=k(I),oe.l(I),K=qe(),this.h()},h(){i(n,"class","label"),i(h,"type","text"),i(h,"placeholder","T√≠tulo, contenido o etiquetas..."),i(h,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),i(l,"class","form-control"),i(p,"class","label"),V.__value="all",_e(V,V.__value),i(E,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50"),s[2]===void 0&&Fe(()=>s[28].call(E)),i(T,"class","form-control"),i(C,"class","label"),N.__value="all",_e(N,N.__value),R.__value="personal",_e(R,R.__value),D.__value="shared",_e(D,D.__value),i(j,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50"),s[3]===void 0&&Fe(()=>s[29].call(j)),i(w,"class","form-control"),i(t,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),i(S,"class","mt-3 text-sm text-neutral/60 font-body text-center"),i(e,"class","card-parchment p-4 mb-6")},m(I,z){$(I,e,z),a(e,t),a(t,l),a(l,n),a(l,o),a(l,h),_e(h,s[1]),a(t,b),a(t,T),a(T,p),a(T,v),a(T,E),a(E,V);for(let X=0;X<P.length;X+=1)P[X]&&P[X].m(E,null);Ae(E,s[2],!0),a(t,ae),a(t,w),a(w,C),a(w,me),a(w,j),a(j,N),a(j,R),a(j,D),Ae(j,s[3],!0),a(e,Q),a(e,S),a(S,de),a(S,Y),a(S,ye),a(S,W),a(S,J),$(I,pe,z),oe.m(I,z),$(I,K,z),De||(Ce=[Z(h,"input",s[27]),Z(E,"change",s[28]),Z(j,"change",s[29])],De=!0)},p(I,z){if(z[0]&2&&h.value!==I[1]&&_e(h,I[1]),z[0]&16384){be=we(I[14]);let X;for(X=0;X<be.length;X+=1){const ge=Ze(I,be,X);P[X]?P[X].p(ge,z):(P[X]=et(ge),P[X].c(),P[X].m(E,null))}for(;X<P.length;X+=1)P[X].d(1);P.length=be.length}z[0]&16388&&Ae(E,I[2]),z[0]&8&&Ae(j,I[3]),z[0]&32&&U!==(U=I[5].length+"")&&Le(Y,U),z[0]&1&&ue!==(ue=I[0].length+"")&&Le(W,ue),Te===(Te=le(I))&&oe?oe.p(I,z):(oe.d(1),oe=Te(I),oe&&(oe.c(),oe.m(K.parentNode,K)))},d(I){I&&(u(e),u(pe),u(K)),He(P,I),oe.d(I),De=!1,Ue(Ce)}}}function Nt(s){let e,t='<span class="loading loading-spinner loading-lg text-secondary"></span>';return{c(){e=d("div"),e.innerHTML=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-cr7jii"&&(e.innerHTML=t),this.h()},h(){i(e,"class","flex justify-center py-20")},m(l,n){$(l,e,n)},p:Be,d(l){l&&u(e)}}}function et(s){let e,t=s[58].label+"",l;return{c(){e=d("option"),l=re(t),this.h()},l(n){e=c(n,"OPTION",{});var r=g(e);l=ne(r,t),r.forEach(u),this.h()},h(){e.__value=s[58].value,_e(e,e.__value)},m(n,r){$(n,e,r),a(e,l)},p:Be,d(n){n&&u(e)}}}function wt(s){let e,t=we(s[5]),l=[];for(let n=0;n<t.length;n+=1)l[n]=nt(We(s,t,n));return{c(){e=d("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=c(n,"DIV",{class:!0});var r=g(e);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(u),this.h()},h(){i(e,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4")},m(n,r){$(n,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,r){if(r[0]&12648496){t=we(n[5]);let o;for(o=0;o<t.length;o+=1){const h=We(n,t,o);l[o]?l[o].p(h,r):(l[o]=nt(h),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),He(l,n)}}}function Vt(s){let e,t,l="üìù",n,r,o=s[0].length===0?"Sin notas a√∫n":"No se encontraron notas",h,b,T,p=s[0].length===0?"Crea tu primera nota para comenzar":"Intenta ajustar los filtros de b√∫squeda",m;return{c(){e=d("div"),t=d("div"),t.textContent=l,n=y(),r=d("h3"),h=re(o),b=y(),T=d("p"),m=re(p),this.h()},l(v){e=c(v,"DIV",{class:!0});var E=g(e);t=c(E,"DIV",{class:!0,"data-svelte-h":!0}),q(t)!=="svelte-8iyxcx"&&(t.textContent=l),n=k(E),r=c(E,"H3",{class:!0});var V=g(r);h=ne(V,o),V.forEach(u),b=k(E),T=c(E,"P",{class:!0});var B=g(T);m=ne(B,p),B.forEach(u),E.forEach(u),this.h()},h(){i(t,"class","text-6xl mb-4"),i(r,"class","text-2xl font-medieval text-neutral mb-2"),i(T,"class","text-neutral/70 font-body"),i(e,"class","card-parchment p-12 text-center")},m(v,E){$(v,e,E),a(e,t),a(e,n),a(e,r),a(r,h),a(e,b),a(e,T),a(T,m)},p(v,E){E[0]&1&&o!==(o=v[0].length===0?"Sin notas a√∫n":"No se encontraron notas")&&Le(h,o),E[0]&1&&p!==(p=v[0].length===0?"Crea tu primera nota para comenzar":"Intenta ajustar los filtros de b√∫squeda")&&Le(m,p)},d(v){v&&u(e)}}}function Mt(s){let e,t="üîí Personal";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-mj56dj"&&(e.textContent=t),this.h()},h(){i(e,"class","badge badge-info badge-sm")},m(l,n){$(l,e,n)},d(l){l&&u(e)}}}function At(s){let e,t="üåê Compartida";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-gqocex"&&(e.textContent=t),this.h()},h(){i(e,"class","badge badge-success badge-sm")},m(l,n){$(l,e,n)},d(l){l&&u(e)}}}function tt(s){let e,t="üëë DM";return{c(){e=d("div"),e.textContent=t,this.h()},l(l){e=c(l,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-bk3zvn"&&(e.textContent=t),this.h()},h(){i(e,"class","badge badge-warning badge-sm")},m(l,n){$(l,e,n)},d(l){l&&u(e)}}}function lt(s){let e,t,l=we(s[65].tags.slice(0,3)),n=[];for(let o=0;o<l.length;o+=1)n[o]=at(Ye(s,l,o));let r=s[65].tags.length>3&&st(s);return{c(){e=d("div");for(let o=0;o<n.length;o+=1)n[o].c();t=y(),r&&r.c(),this.h()},l(o){e=c(o,"DIV",{class:!0});var h=g(e);for(let b=0;b<n.length;b+=1)n[b].l(h);t=k(h),r&&r.l(h),h.forEach(u),this.h()},h(){i(e,"class","flex flex-wrap gap-1 mb-3")},m(o,h){$(o,e,h);for(let b=0;b<n.length;b+=1)n[b]&&n[b].m(e,null);a(e,t),r&&r.m(e,null)},p(o,h){if(h[0]&32){l=we(o[65].tags.slice(0,3));let b;for(b=0;b<l.length;b+=1){const T=Ye(o,l,b);n[b]?n[b].p(T,h):(n[b]=at(T),n[b].c(),n[b].m(e,t))}for(;b<n.length;b+=1)n[b].d(1);n.length=l.length}o[65].tags.length>3?r?r.p(o,h):(r=st(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(o){o&&u(e),He(n,o),r&&r.d()}}}function at(s){let e,t=s[55]+"",l;return{c(){e=d("div"),l=re(t),this.h()},l(n){e=c(n,"DIV",{class:!0});var r=g(e);l=ne(r,t),r.forEach(u),this.h()},h(){i(e,"class","badge badge-outline badge-xs")},m(n,r){$(n,e,r),a(e,l)},p(n,r){r[0]&32&&t!==(t=n[55]+"")&&Le(l,t)},d(n){n&&u(e)}}}function st(s){let e,t,l=s[65].tags.length-3+"",n;return{c(){e=d("div"),t=re("+"),n=re(l),this.h()},l(r){e=c(r,"DIV",{class:!0});var o=g(e);t=ne(o,"+"),n=ne(o,l),o.forEach(u),this.h()},h(){i(e,"class","badge badge-outline badge-xs")},m(r,o){$(r,e,o),a(e,t),a(e,n)},p(r,o){o[0]&32&&l!==(l=r[65].tags.length-3+"")&&Le(n,l)},d(r){r&&u(e)}}}function nt(s){var H;let e,t,l,n,r,o=s[23](s[65].category)+"",h,b,T,p=s[65].title+"",m,v,E,V,B='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>',ae,w,C,F,me="‚úèÔ∏è Editar",j,N,se,R="üóëÔ∏è Eliminar",O,D,L,Q,S,de=(s[65].content||"Sin contenido")+"",U,Y,ye,ue,W,J,pe=s[65].authorName+"",K,De,Ce,be,P=pt(s[65].updatedAt)+"",le,Te,oe,I;function z(){return s[30](s[65])}function X(){return s[31](s[65])}function ge(M,A){return M[65].isShared?At:Mt}let ve=ge(s),fe=ve(s),ee=s[65].authorId!==((H=s[4])==null?void 0:H.uid)&&tt(),G=s[65].tags&&s[65].tags.length>0&&lt(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=d("div"),r=d("span"),h=re(o),b=y(),T=d("h3"),m=re(p),v=y(),E=d("div"),V=d("label"),V.innerHTML=B,ae=y(),w=d("ul"),C=d("li"),F=d("a"),F.textContent=me,j=y(),N=d("li"),se=d("a"),se.textContent=R,O=y(),D=d("div"),fe.c(),L=y(),ee&&ee.c(),Q=y(),S=d("div"),U=re(de),Y=y(),G&&G.c(),ye=y(),ue=d("div"),W=d("div"),J=re("‚úçÔ∏è "),K=re(pe),De=y(),Ce=d("div"),be=re("üïê "),le=re(P),Te=y(),this.h()},l(M){e=c(M,"DIV",{class:!0});var A=g(e);t=c(A,"DIV",{class:!0});var _=g(t);l=c(_,"DIV",{class:!0});var f=g(l);n=c(f,"DIV",{class:!0});var x=g(n);r=c(x,"SPAN",{class:!0});var ie=g(r);h=ne(ie,o),ie.forEach(u),b=k(x),T=c(x,"H3",{class:!0});var ce=g(T);m=ne(ce,p),ce.forEach(u),x.forEach(u),v=k(f),E=c(f,"DIV",{class:!0});var xe=g(E);V=c(xe,"LABEL",{tabindex:!0,class:!0,"data-svelte-h":!0}),q(V)!=="svelte-1dz1xx4"&&(V.innerHTML=B),ae=k(xe),w=c(xe,"UL",{tabindex:!0,class:!0});var Ee=g(w);C=c(Ee,"LI",{});var Ne=g(C);F=c(Ne,"A",{class:!0,"data-svelte-h":!0}),q(F)!=="svelte-yi40jw"&&(F.textContent=me),Ne.forEach(u),j=k(Ee),N=c(Ee,"LI",{});var Me=g(N);se=c(Me,"A",{class:!0,"data-svelte-h":!0}),q(se)!=="svelte-putp47"&&(se.textContent=R),Me.forEach(u),Ee.forEach(u),xe.forEach(u),f.forEach(u),O=k(_),D=c(_,"DIV",{class:!0});var Ie=g(D);fe.l(Ie),L=k(Ie),ee&&ee.l(Ie),Ie.forEach(u),Q=k(_),S=c(_,"DIV",{class:!0});var te=g(S);U=ne(te,de),te.forEach(u),Y=k(_),G&&G.l(_),ye=k(_),ue=c(_,"DIV",{class:!0});var he=g(ue);W=c(he,"DIV",{});var ke=g(W);J=ne(ke,"‚úçÔ∏è "),K=ne(ke,pe),ke.forEach(u),De=k(he),Ce=c(he,"DIV",{});var Ve=g(Ce);be=ne(Ve,"üïê "),le=ne(Ve,P),Ve.forEach(u),he.forEach(u),_.forEach(u),Te=k(A),A.forEach(u),this.h()},h(){i(r,"class","text-2xl"),i(T,"class","font-medieval text-lg text-neutral font-bold truncate"),i(n,"class","flex items-center gap-2 flex-1 min-w-0"),i(V,"tabindex","0"),i(V,"class","btn btn-ghost btn-xs btn-circle"),i(F,"class","text-secondary"),i(se,"class","text-error"),i(w,"tabindex","0"),i(w,"class","dropdown-content z-[1] menu p-2 shadow bg-neutral rounded-box w-40 border-2 border-secondary"),i(E,"class","dropdown dropdown-end flex-shrink-0"),i(l,"class","flex items-start justify-between mb-2"),i(D,"class","flex flex-wrap gap-1 mb-3"),i(S,"class","text-sm text-neutral/80 font-body mb-3 line-clamp-3 svelte-1hgrhnq"),i(ue,"class","text-xs text-neutral/60 font-body"),i(t,"class","card-body p-4"),i(e,"class","card-parchment corner-ornament hover:shadow-xl transition-all")},m(M,A){$(M,e,A),a(e,t),a(t,l),a(l,n),a(n,r),a(r,h),a(n,b),a(n,T),a(T,m),a(l,v),a(l,E),a(E,V),a(E,ae),a(E,w),a(w,C),a(C,F),a(w,j),a(w,N),a(N,se),a(t,O),a(t,D),fe.m(D,null),a(D,L),ee&&ee.m(D,null),a(t,Q),a(t,S),a(S,U),a(t,Y),G&&G.m(t,null),a(t,ye),a(t,ue),a(ue,W),a(W,J),a(W,K),a(ue,De),a(ue,Ce),a(Ce,be),a(Ce,le),a(e,Te),oe||(I=[Z(F,"click",z),Z(se,"click",X)],oe=!0)},p(M,A){var _;s=M,A[0]&32&&o!==(o=s[23](s[65].category)+"")&&Le(h,o),A[0]&32&&p!==(p=s[65].title+"")&&Le(m,p),ve!==(ve=ge(s))&&(fe.d(1),fe=ve(s),fe&&(fe.c(),fe.m(D,L))),s[65].authorId!==((_=s[4])==null?void 0:_.uid)?ee||(ee=tt(),ee.c(),ee.m(D,null)):ee&&(ee.d(1),ee=null),A[0]&32&&de!==(de=(s[65].content||"Sin contenido")+"")&&Le(U,de),s[65].tags&&s[65].tags.length>0?G?G.p(s,A):(G=lt(s),G.c(),G.m(t,ye)):G&&(G.d(1),G=null),A[0]&32&&pe!==(pe=s[65].authorName+"")&&Le(K,pe),A[0]&32&&P!==(P=pt(s[65].updatedAt)+"")&&Le(le,P)},d(M){M&&u(e),fe.d(),ee&&ee.d(),G&&G.d(),oe=!1,Ue(I)}}}function rt(s){let e,t,l,n,r="‚úï",o,h,b="‚ú® Nueva Nota",T,p,m,v,E='<span class="label-text font-medieval text-neutral text-lg">T√≠tulo *</span>',V,B,ae,w,C,F,me='<span class="label-text font-medieval text-neutral">Categor√≠a</span>',j,N,se,R,O,D,L='<span class="label-text font-medieval text-neutral text-lg">Contenido</span>',Q,S,de,U,Y,ye='<span class="label-text font-medieval text-neutral">üè∑Ô∏è Etiquetas</span>',ue,W,J,pe,K,De="‚ûï",Ce,be,P,le,Te="Cancelar",oe,I,z,X="üíæ",ge,ve,fe,ee,G=we(s[14]),H=[];for(let _=0;_<G.length;_+=1)H[_]=ot(Ke(s,G,_));let M=s[13]&&it(s),A=s[11].tags.length>0&&ct(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=d("button"),n.textContent=r,o=y(),h=d("h3"),h.textContent=b,T=y(),p=d("div"),m=d("div"),v=d("label"),v.innerHTML=E,V=y(),B=d("input"),ae=y(),w=d("div"),C=d("div"),F=d("label"),F.innerHTML=me,j=y(),N=d("select");for(let _=0;_<H.length;_+=1)H[_].c();se=y(),M&&M.c(),R=y(),O=d("div"),D=d("label"),D.innerHTML=L,Q=y(),S=d("textarea"),de=y(),U=d("div"),Y=d("label"),Y.innerHTML=ye,ue=y(),W=d("div"),J=d("input"),pe=y(),K=d("button"),K.textContent=De,Ce=y(),A&&A.c(),be=y(),P=d("div"),le=d("button"),le.textContent=Te,oe=y(),I=d("button"),z=d("span"),z.textContent=X,ge=re(`\r
          Crear Nota`),this.h()},l(_){e=c(_,"DIV",{class:!0});var f=g(e);t=c(f,"DIV",{class:!0});var x=g(t);l=c(x,"DIV",{class:!0});var ie=g(l);n=c(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-1eogaqk"&&(n.textContent=r),o=k(ie),h=c(ie,"H3",{class:!0,"data-svelte-h":!0}),q(h)!=="svelte-1ljzhra"&&(h.textContent=b),ie.forEach(u),T=k(x),p=c(x,"DIV",{class:!0});var ce=g(p);m=c(ce,"DIV",{class:!0});var xe=g(m);v=c(xe,"LABEL",{class:!0,"data-svelte-h":!0}),q(v)!=="svelte-1q7y2v"&&(v.innerHTML=E),V=k(xe),B=c(xe,"INPUT",{type:!0,placeholder:!0,class:!0}),xe.forEach(u),ae=k(ce),w=c(ce,"DIV",{class:!0});var Ee=g(w);C=c(Ee,"DIV",{class:!0});var Ne=g(C);F=c(Ne,"LABEL",{class:!0,"data-svelte-h":!0}),q(F)!=="svelte-1py2g6g"&&(F.innerHTML=me),j=k(Ne),N=c(Ne,"SELECT",{class:!0});var Me=g(N);for(let Se=0;Se<H.length;Se+=1)H[Se].l(Me);Me.forEach(u),Ne.forEach(u),se=k(Ee),M&&M.l(Ee),Ee.forEach(u),R=k(ce),O=c(ce,"DIV",{class:!0});var Ie=g(O);D=c(Ie,"LABEL",{class:!0,"data-svelte-h":!0}),q(D)!=="svelte-czl3xv"&&(D.innerHTML=L),Q=k(Ie),S=c(Ie,"TEXTAREA",{placeholder:!0,class:!0}),g(S).forEach(u),Ie.forEach(u),de=k(ce),U=c(ce,"DIV",{class:!0});var te=g(U);Y=c(te,"LABEL",{class:!0,"data-svelte-h":!0}),q(Y)!=="svelte-vdlyt2"&&(Y.innerHTML=ye),ue=k(te),W=c(te,"DIV",{class:!0});var he=g(W);J=c(he,"INPUT",{type:!0,placeholder:!0,class:!0}),pe=k(he),K=c(he,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(K)!=="svelte-ai3btb"&&(K.textContent=De),he.forEach(u),Ce=k(te),A&&A.l(te),te.forEach(u),ce.forEach(u),be=k(x),P=c(x,"DIV",{class:!0});var ke=g(P);le=c(ke,"BUTTON",{class:!0,"data-svelte-h":!0}),q(le)!=="svelte-yzed71"&&(le.textContent=Te),oe=k(ke),I=c(ke,"BUTTON",{class:!0});var Ve=g(I);z=c(Ve,"SPAN",{class:!0,"data-svelte-h":!0}),q(z)!=="svelte-fwlof0"&&(z.textContent=X),ge=ne(Ve,`\r
          Crear Nota`),Ve.forEach(u),ke.forEach(u),x.forEach(u),f.forEach(u),this.h()},h(){i(n,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),i(h,"class","font-bold text-2xl font-medieval text-neutral text-center"),i(l,"class","p-4 border-b-2 border-secondary flex-shrink-0"),i(v,"class","label"),i(B,"type","text"),i(B,"placeholder","Ej: Encuentro con el drag√≥n rojo"),i(B,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),B.required=!0,i(m,"class","form-control"),i(F,"class","label"),i(N,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50"),s[11].category===void 0&&Fe(()=>s[34].call(N)),i(C,"class","form-control"),i(w,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),i(D,"class","label"),i(S,"placeholder","Escribe aqu√≠ el contenido de tu nota..."),i(S,"class","textarea textarea-bordered bg-[#2d241c] text-base-content border-primary/50 h-40"),i(O,"class","form-control"),i(Y,"class","label"),i(J,"type","text"),i(J,"placeholder","Agregar etiqueta..."),i(J,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 flex-1"),i(K,"type","button"),i(K,"class","btn btn-secondary"),i(W,"class","flex gap-2"),i(U,"class","form-control"),i(p,"class","flex-1 overflow-y-auto p-4 space-y-4"),i(le,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),i(z,"class","text-xl"),i(I,"class","btn btn-dnd"),I.disabled=ve=!s[11].title.trim(),i(P,"class","flex justify-center gap-4 p-4 border-t-2 border-secondary flex-shrink-0"),i(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-3xl relative max-h-[90vh] flex flex-col"),i(e,"class","modal modal-open z-50")},m(_,f){$(_,e,f),a(e,t),a(t,l),a(l,n),a(l,o),a(l,h),a(t,T),a(t,p),a(p,m),a(m,v),a(m,V),a(m,B),_e(B,s[11].title),a(p,ae),a(p,w),a(w,C),a(C,F),a(C,j),a(C,N);for(let x=0;x<H.length;x+=1)H[x]&&H[x].m(N,null);Ae(N,s[11].category,!0),a(w,se),M&&M.m(w,null),a(p,R),a(p,O),a(O,D),a(O,Q),a(O,S),_e(S,s[11].content),a(p,de),a(p,U),a(U,Y),a(U,ue),a(U,W),a(W,J),_e(J,s[12]),a(W,pe),a(W,K),a(U,Ce),A&&A.m(U,null),a(t,be),a(t,P),a(P,le),a(P,oe),a(P,I),a(I,z),a(I,ge),fe||(ee=[Z(n,"click",s[32]),Z(B,"input",s[33]),Z(N,"change",s[34]),Z(S,"input",s[36]),Z(J,"input",s[37]),Z(J,"keydown",s[38]),Z(K,"click",s[18]),Z(le,"click",s[40]),Z(I,"click",s[20])],fe=!0)},p(_,f){if(f[0]&18432&&B.value!==_[11].title&&_e(B,_[11].title),f[0]&16384){G=we(_[14]);let x;for(x=0;x<G.length;x+=1){const ie=Ke(_,G,x);H[x]?H[x].p(ie,f):(H[x]=ot(ie),H[x].c(),H[x].m(N,null))}for(;x<H.length;x+=1)H[x].d(1);H.length=G.length}f[0]&18432&&Ae(N,_[11].category),_[13]?M?M.p(_,f):(M=it(_),M.c(),M.m(w,null)):M&&(M.d(1),M=null),f[0]&18432&&_e(S,_[11].content),f[0]&4096&&J.value!==_[12]&&_e(J,_[12]),_[11].tags.length>0?A?A.p(_,f):(A=ct(_),A.c(),A.m(U,null)):A&&(A.d(1),A=null),f[0]&18432&&ve!==(ve=!_[11].title.trim())&&(I.disabled=ve)},d(_){_&&u(e),He(H,_),M&&M.d(),A&&A.d(),fe=!1,Ue(ee)}}}function ot(s){let e,t=s[58].label+"",l;return{c(){e=d("option"),l=re(t),this.h()},l(n){e=c(n,"OPTION",{});var r=g(e);l=ne(r,t),r.forEach(u),this.h()},h(){e.__value=s[58].value,_e(e,e.__value)},m(n,r){$(n,e,r),a(e,l)},p:Be,d(n){n&&u(e)}}}function it(s){let e,t,l,n,r,o="üåê Compartir con jugadores",h,b,T='<span class="label-text-alt text-neutral/60 italic text-xs">Los jugadores podr√°n ver esta nota</span>',p,m;return{c(){e=d("div"),t=d("label"),l=d("input"),n=y(),r=d("span"),r.textContent=o,h=y(),b=d("label"),b.innerHTML=T,this.h()},l(v){e=c(v,"DIV",{class:!0});var E=g(e);t=c(E,"LABEL",{class:!0});var V=g(t);l=c(V,"INPUT",{type:!0,class:!0}),n=k(V),r=c(V,"SPAN",{class:!0,"data-svelte-h":!0}),q(r)!=="svelte-1s36jw"&&(r.textContent=o),V.forEach(u),h=k(E),b=c(E,"LABEL",{class:!0,"data-svelte-h":!0}),q(b)!=="svelte-xk08dm"&&(b.innerHTML=T),E.forEach(u),this.h()},h(){i(l,"type","checkbox"),i(l,"class","checkbox checkbox-secondary"),i(r,"class","label-text font-medieval text-neutral"),i(t,"class","label cursor-pointer justify-start gap-3"),i(b,"class","label"),i(e,"class","form-control")},m(v,E){$(v,e,E),a(e,t),a(t,l),l.checked=s[11].isShared,a(t,n),a(t,r),a(e,h),a(e,b),p||(m=Z(l,"change",s[35]),p=!0)},p(v,E){E[0]&18432&&(l.checked=v[11].isShared)},d(v){v&&u(e),p=!1,m()}}}function ct(s){let e,t=we(s[11].tags),l=[];for(let n=0;n<t.length;n+=1)l[n]=dt(Je(s,t,n));return{c(){e=d("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=c(n,"DIV",{class:!0});var r=g(e);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(u),this.h()},h(){i(e,"class","flex flex-wrap gap-2 mt-2")},m(n,r){$(n,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,r){if(r[0]&526336){t=we(n[11].tags);let o;for(o=0;o<t.length;o+=1){const h=Je(n,t,o);l[o]?l[o].p(h,r):(l[o]=dt(h),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),He(l,n)}}}function dt(s){let e,t=s[55]+"",l,n,r,o="‚úï",h,b,T;function p(){return s[39](s[55])}return{c(){e=d("div"),l=re(t),n=y(),r=d("button"),r.textContent=o,h=y(),this.h()},l(m){e=c(m,"DIV",{class:!0});var v=g(e);l=ne(v,t),n=k(v),r=c(v,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(r)!=="svelte-10ezwf5"&&(r.textContent=o),h=k(v),v.forEach(u),this.h()},h(){i(r,"type","button"),i(r,"class","btn btn-xs btn-circle btn-ghost"),i(e,"class","badge badge-lg gap-2")},m(m,v){$(m,e,v),a(e,l),a(e,n),a(e,r),a(e,h),b||(T=Z(r,"click",p),b=!0)},p(m,v){s=m,v[0]&2048&&t!==(t=s[55]+"")&&Le(l,t)},d(m){m&&u(e),b=!1,T()}}}function ut(s){let e,t,l,n,r="‚úï",o,h,b="‚úèÔ∏è Editar Nota",T,p,m,v,E='<span class="label-text font-medieval text-neutral text-lg">T√≠tulo *</span>',V,B,ae,w,C,F,me='<span class="label-text font-medieval text-neutral">Categor√≠a</span>',j,N,se,R,O,D,L='<span class="label-text font-medieval text-neutral text-lg">Contenido</span>',Q,S,de,U,Y,ye='<span class="label-text font-medieval text-neutral">üè∑Ô∏è Etiquetas</span>',ue,W,J,pe,K,De="‚ûï",Ce,be,P,le,Te="Cancelar",oe,I,z,X="üíæ",ge,ve,fe,ee,G=we(s[14]),H=[];for(let _=0;_<G.length;_+=1)H[_]=ft(Xe(s,G,_));let M=s[13]&&ht(s),A=s[11].tags.length>0&&vt(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=d("button"),n.textContent=r,o=y(),h=d("h3"),h.textContent=b,T=y(),p=d("div"),m=d("div"),v=d("label"),v.innerHTML=E,V=y(),B=d("input"),ae=y(),w=d("div"),C=d("div"),F=d("label"),F.innerHTML=me,j=y(),N=d("select");for(let _=0;_<H.length;_+=1)H[_].c();se=y(),M&&M.c(),R=y(),O=d("div"),D=d("label"),D.innerHTML=L,Q=y(),S=d("textarea"),de=y(),U=d("div"),Y=d("label"),Y.innerHTML=ye,ue=y(),W=d("div"),J=d("input"),pe=y(),K=d("button"),K.textContent=De,Ce=y(),A&&A.c(),be=y(),P=d("div"),le=d("button"),le.textContent=Te,oe=y(),I=d("button"),z=d("span"),z.textContent=X,ge=re(`\r
          Guardar Cambios`),this.h()},l(_){e=c(_,"DIV",{class:!0});var f=g(e);t=c(f,"DIV",{class:!0});var x=g(t);l=c(x,"DIV",{class:!0});var ie=g(l);n=c(ie,"BUTTON",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-9v75az"&&(n.textContent=r),o=k(ie),h=c(ie,"H3",{class:!0,"data-svelte-h":!0}),q(h)!=="svelte-1tati2"&&(h.textContent=b),ie.forEach(u),T=k(x),p=c(x,"DIV",{class:!0});var ce=g(p);m=c(ce,"DIV",{class:!0});var xe=g(m);v=c(xe,"LABEL",{class:!0,"data-svelte-h":!0}),q(v)!=="svelte-1q7y2v"&&(v.innerHTML=E),V=k(xe),B=c(xe,"INPUT",{type:!0,placeholder:!0,class:!0}),xe.forEach(u),ae=k(ce),w=c(ce,"DIV",{class:!0});var Ee=g(w);C=c(Ee,"DIV",{class:!0});var Ne=g(C);F=c(Ne,"LABEL",{class:!0,"data-svelte-h":!0}),q(F)!=="svelte-1py2g6g"&&(F.innerHTML=me),j=k(Ne),N=c(Ne,"SELECT",{class:!0});var Me=g(N);for(let Se=0;Se<H.length;Se+=1)H[Se].l(Me);Me.forEach(u),Ne.forEach(u),se=k(Ee),M&&M.l(Ee),Ee.forEach(u),R=k(ce),O=c(ce,"DIV",{class:!0});var Ie=g(O);D=c(Ie,"LABEL",{class:!0,"data-svelte-h":!0}),q(D)!=="svelte-czl3xv"&&(D.innerHTML=L),Q=k(Ie),S=c(Ie,"TEXTAREA",{placeholder:!0,class:!0}),g(S).forEach(u),Ie.forEach(u),de=k(ce),U=c(ce,"DIV",{class:!0});var te=g(U);Y=c(te,"LABEL",{class:!0,"data-svelte-h":!0}),q(Y)!=="svelte-vdlyt2"&&(Y.innerHTML=ye),ue=k(te),W=c(te,"DIV",{class:!0});var he=g(W);J=c(he,"INPUT",{type:!0,placeholder:!0,class:!0}),pe=k(he),K=c(he,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(K)!=="svelte-ai3btb"&&(K.textContent=De),he.forEach(u),Ce=k(te),A&&A.l(te),te.forEach(u),ce.forEach(u),be=k(x),P=c(x,"DIV",{class:!0});var ke=g(P);le=c(ke,"BUTTON",{class:!0,"data-svelte-h":!0}),q(le)!=="svelte-1sm0nja"&&(le.textContent=Te),oe=k(ke),I=c(ke,"BUTTON",{class:!0});var Ve=g(I);z=c(Ve,"SPAN",{class:!0,"data-svelte-h":!0}),q(z)!=="svelte-fwlof0"&&(z.textContent=X),ge=ne(Ve,`\r
          Guardar Cambios`),Ve.forEach(u),ke.forEach(u),x.forEach(u),f.forEach(u),this.h()},h(){i(n,"class","btn btn-sm btn-circle btn-ghost absolute right-2 top-2"),i(h,"class","font-bold text-2xl font-medieval text-neutral text-center"),i(l,"class","p-4 border-b-2 border-secondary flex-shrink-0"),i(v,"class","label"),i(B,"type","text"),i(B,"placeholder","Ej: Encuentro con el drag√≥n rojo"),i(B,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50"),B.required=!0,i(m,"class","form-control"),i(F,"class","label"),i(N,"class","select select-bordered bg-[#2d241c] text-base-content border-primary/50"),s[11].category===void 0&&Fe(()=>s[43].call(N)),i(C,"class","form-control"),i(w,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),i(D,"class","label"),i(S,"placeholder","Escribe aqu√≠ el contenido de tu nota..."),i(S,"class","textarea textarea-bordered bg-[#2d241c] text-base-content border-primary/50 h-40"),i(O,"class","form-control"),i(Y,"class","label"),i(J,"type","text"),i(J,"placeholder","Agregar etiqueta..."),i(J,"class","input input-bordered bg-[#2d241c] text-base-content border-primary/50 flex-1"),i(K,"type","button"),i(K,"class","btn btn-secondary"),i(W,"class","flex gap-2"),i(U,"class","form-control"),i(p,"class","flex-1 overflow-y-auto p-4 space-y-4"),i(le,"class","btn btn-outline border-2 border-neutral text-neutral hover:bg-neutral hover:text-secondary font-medieval"),i(z,"class","text-xl"),i(I,"class","btn btn-dnd"),I.disabled=ve=!s[11].title.trim(),i(P,"class","flex justify-center gap-4 p-4 border-t-2 border-secondary flex-shrink-0"),i(t,"class","card-parchment border-4 border-secondary w-11/12 max-w-3xl relative max-h-[90vh] flex flex-col"),i(e,"class","modal modal-open z-50")},m(_,f){$(_,e,f),a(e,t),a(t,l),a(l,n),a(l,o),a(l,h),a(t,T),a(t,p),a(p,m),a(m,v),a(m,V),a(m,B),_e(B,s[11].title),a(p,ae),a(p,w),a(w,C),a(C,F),a(C,j),a(C,N);for(let x=0;x<H.length;x+=1)H[x]&&H[x].m(N,null);Ae(N,s[11].category,!0),a(w,se),M&&M.m(w,null),a(p,R),a(p,O),a(O,D),a(O,Q),a(O,S),_e(S,s[11].content),a(p,de),a(p,U),a(U,Y),a(U,ue),a(U,W),a(W,J),_e(J,s[12]),a(W,pe),a(W,K),a(U,Ce),A&&A.m(U,null),a(t,be),a(t,P),a(P,le),a(P,oe),a(P,I),a(I,z),a(I,ge),fe||(ee=[Z(n,"click",s[41]),Z(B,"input",s[42]),Z(N,"change",s[43]),Z(S,"input",s[45]),Z(J,"input",s[46]),Z(J,"keydown",s[47]),Z(K,"click",s[18]),Z(le,"click",s[49]),Z(I,"click",s[21])],fe=!0)},p(_,f){if(f[0]&18432&&B.value!==_[11].title&&_e(B,_[11].title),f[0]&16384){G=we(_[14]);let x;for(x=0;x<G.length;x+=1){const ie=Xe(_,G,x);H[x]?H[x].p(ie,f):(H[x]=ft(ie),H[x].c(),H[x].m(N,null))}for(;x<H.length;x+=1)H[x].d(1);H.length=G.length}f[0]&18432&&Ae(N,_[11].category),_[13]?M?M.p(_,f):(M=ht(_),M.c(),M.m(w,null)):M&&(M.d(1),M=null),f[0]&18432&&_e(S,_[11].content),f[0]&4096&&J.value!==_[12]&&_e(J,_[12]),_[11].tags.length>0?A?A.p(_,f):(A=vt(_),A.c(),A.m(U,null)):A&&(A.d(1),A=null),f[0]&18432&&ve!==(ve=!_[11].title.trim())&&(I.disabled=ve)},d(_){_&&u(e),He(H,_),M&&M.d(),A&&A.d(),fe=!1,Ue(ee)}}}function ft(s){let e,t=s[58].label+"",l;return{c(){e=d("option"),l=re(t),this.h()},l(n){e=c(n,"OPTION",{});var r=g(e);l=ne(r,t),r.forEach(u),this.h()},h(){e.__value=s[58].value,_e(e,e.__value)},m(n,r){$(n,e,r),a(e,l)},p:Be,d(n){n&&u(e)}}}function ht(s){let e,t,l,n,r,o="üåê Compartir con jugadores",h,b,T='<span class="label-text-alt text-neutral/60 italic text-xs">Los jugadores podr√°n ver esta nota</span>',p,m;return{c(){e=d("div"),t=d("label"),l=d("input"),n=y(),r=d("span"),r.textContent=o,h=y(),b=d("label"),b.innerHTML=T,this.h()},l(v){e=c(v,"DIV",{class:!0});var E=g(e);t=c(E,"LABEL",{class:!0});var V=g(t);l=c(V,"INPUT",{type:!0,class:!0}),n=k(V),r=c(V,"SPAN",{class:!0,"data-svelte-h":!0}),q(r)!=="svelte-1s36jw"&&(r.textContent=o),V.forEach(u),h=k(E),b=c(E,"LABEL",{class:!0,"data-svelte-h":!0}),q(b)!=="svelte-xk08dm"&&(b.innerHTML=T),E.forEach(u),this.h()},h(){i(l,"type","checkbox"),i(l,"class","checkbox checkbox-secondary"),i(r,"class","label-text font-medieval text-neutral"),i(t,"class","label cursor-pointer justify-start gap-3"),i(b,"class","label"),i(e,"class","form-control")},m(v,E){$(v,e,E),a(e,t),a(t,l),l.checked=s[11].isShared,a(t,n),a(t,r),a(e,h),a(e,b),p||(m=Z(l,"change",s[44]),p=!0)},p(v,E){E[0]&18432&&(l.checked=v[11].isShared)},d(v){v&&u(e),p=!1,m()}}}function vt(s){let e,t=we(s[11].tags),l=[];for(let n=0;n<t.length;n+=1)l[n]=_t(Re(s,t,n));return{c(){e=d("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=c(n,"DIV",{class:!0});var r=g(e);for(let o=0;o<l.length;o+=1)l[o].l(r);r.forEach(u),this.h()},h(){i(e,"class","flex flex-wrap gap-2 mt-2")},m(n,r){$(n,e,r);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null)},p(n,r){if(r[0]&526336){t=we(n[11].tags);let o;for(o=0;o<t.length;o+=1){const h=Re(n,t,o);l[o]?l[o].p(h,r):(l[o]=_t(h),l[o].c(),l[o].m(e,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=t.length}},d(n){n&&u(e),He(l,n)}}}function _t(s){let e,t=s[55]+"",l,n,r,o="‚úï",h,b,T;function p(){return s[48](s[55])}return{c(){e=d("div"),l=re(t),n=y(),r=d("button"),r.textContent=o,h=y(),this.h()},l(m){e=c(m,"DIV",{class:!0});var v=g(e);l=ne(v,t),n=k(v),r=c(v,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),q(r)!=="svelte-10ezwf5"&&(r.textContent=o),h=k(v),v.forEach(u),this.h()},h(){i(r,"type","button"),i(r,"class","btn btn-xs btn-circle btn-ghost"),i(e,"class","badge badge-lg gap-2")},m(m,v){$(m,e,v),a(e,l),a(e,n),a(e,r),a(e,h),b||(T=Z(r,"click",p),b=!0)},p(m,v){s=m,v[0]&2048&&t!==(t=s[55]+"")&&Le(l,t)},d(m){m&&u(e),b=!1,T()}}}function St(s){let e,t,l,n,r,o="üìù Notas de Campa√±a",h,b,T=s[13]?"Gestiona tus notas personales y compartidas":"Tus notas personales de aventurero",p,m,v,E=`<span class="text-xl">‚ûï</span>
        Nueva Nota`,V,B,ae,w,C,F,me,j=s[7]&&$e(s);function N(L,Q){return L[6]?Nt:Lt}let se=N(s),R=se(s),O=s[8]&&rt(s),D=s[9]&&s[10]&&ut(s);return{c(){e=d("div"),t=d("div"),l=d("div"),n=d("div"),r=d("h1"),r.textContent=o,h=y(),b=d("p"),p=re(T),m=y(),v=d("button"),v.innerHTML=E,V=y(),j&&j.c(),B=y(),R.c(),ae=y(),O&&O.c(),w=y(),D&&D.c(),C=qe(),this.h()},l(L){e=c(L,"DIV",{class:!0});var Q=g(e);t=c(Q,"DIV",{class:!0});var S=g(t);l=c(S,"DIV",{class:!0});var de=g(l);n=c(de,"DIV",{});var U=g(n);r=c(U,"H1",{class:!0,"data-svelte-h":!0}),q(r)!=="svelte-2d4xv9"&&(r.textContent=o),h=k(U),b=c(U,"P",{class:!0});var Y=g(b);p=ne(Y,T),Y.forEach(u),U.forEach(u),m=k(de),v=c(de,"BUTTON",{class:!0,"data-svelte-h":!0}),q(v)!=="svelte-17qufc1"&&(v.innerHTML=E),de.forEach(u),V=k(S),j&&j.l(S),B=k(S),R.l(S),S.forEach(u),Q.forEach(u),ae=k(L),O&&O.l(L),w=k(L),D&&D.l(L),C=qe(),this.h()},h(){i(r,"class","text-3xl md:text-4xl font-bold text-secondary title-ornament"),i(b,"class","text-base-content/70 font-body italic mt-2"),i(v,"class","btn btn-dnd"),i(l,"class","mb-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4"),i(t,"class","container mx-auto max-w-7xl"),i(e,"class","min-h-screen p-4 md:p-6")},m(L,Q){$(L,e,Q),a(e,t),a(t,l),a(l,n),a(n,r),a(n,h),a(n,b),a(b,p),a(l,m),a(l,v),a(t,V),j&&j.m(t,null),a(t,B),R.m(t,null),$(L,ae,Q),O&&O.m(L,Q),$(L,w,Q),D&&D.m(L,Q),$(L,C,Q),F||(me=Z(v,"click",s[15]),F=!0)},p(L,Q){Q[0]&8192&&T!==(T=L[13]?"Gestiona tus notas personales y compartidas":"Tus notas personales de aventurero")&&Le(p,T),L[7]?j?j.p(L,Q):(j=$e(L),j.c(),j.m(t,B)):j&&(j.d(1),j=null),se===(se=N(L))&&R?R.p(L,Q):(R.d(1),R=se(L),R&&(R.c(),R.m(t,null))),L[8]?O?O.p(L,Q):(O=rt(L),O.c(),O.m(w.parentNode,w)):O&&(O.d(1),O=null),L[9]&&L[10]?D?D.p(L,Q):(D=ut(L),D.c(),D.m(C.parentNode,C)):D&&(D.d(1),D=null)},i:Be,o:Be,d(L){L&&(u(e),u(ae),u(w),u(C)),j&&j.d(),R.d(),O&&O.d(L),D&&D.d(L),F=!1,me()}}}function pt(s){return new Date(s).toLocaleDateString("es",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function Ht(s,e,t){let l,n,r,o;ze(s,yt,f=>t(4,r=f)),ze(s,kt,f=>t(25,o=f)),Et.set("üìù Notas");let h=null,b=[],T=[],p=!0,m="",v="",E="all",V="all",B=!1,ae=!1,w=null,C={title:"",content:"",isShared:!1,category:"other",tags:[]},F="",me=null;const j=Tt(Dt),N=[{value:"session",label:"üìÖ Sesi√≥n",icon:"üìÖ"},{value:"npc",label:"üë§ NPC",icon:"üë§"},{value:"location",label:"üó∫Ô∏è Ubicaci√≥n",icon:"üó∫Ô∏è"},{value:"plot",label:"üìñ Trama",icon:"üìñ"},{value:"other",label:"üìù Otro",icon:"üìù"}];Ct(async()=>{await se(),R()}),xt(()=>{me&&me()});async function se(){try{t(24,h=await Pe.getCampaign(l))}catch(f){t(7,m=f.message)}}function R(){if(r)try{let f=function(){ce++;const te=[...x,...ie],he=Array.from(new Map(te.map(ke=>[ke.id,ke])).values());t(0,b=he.sort((ke,Ve)=>new Date(Ve.updatedAt).getTime()-new Date(ke.updatedAt).getTime())),ce>=2&&t(6,p=!1)};t(6,p=!0);let x=[],ie=[],ce=0;const xe=It(j,"notes"),Ee=Ge(xe,je("campaignId","==",l),je("authorId","==",r.uid),je("isShared","==",!1)),Ne=Ge(xe,je("campaignId","==",l),je("isShared","==",!0)),Me=Qe(Ee,te=>{x=te.docs.map(he=>({id:he.id,...he.data()})),f()},te=>{console.error("Error en listener de notas personales:",te),t(7,m=te.message),t(6,p=!1)}),Ie=Qe(Ne,te=>{ie=te.docs.map(he=>({id:he.id,...he.data()})),f()},te=>{console.error("Error en listener de notas compartidas:",te),t(7,m=te.message),t(6,p=!1)});me=()=>{Me(),Ie()}}catch(f){t(7,m=f.message),t(6,p=!1)}}function O(){L(),t(8,B=!0)}function D(f){t(10,w=f),t(11,C={title:f.title,content:f.content,isShared:f.isShared,category:f.category,tags:[...f.tags]}),t(9,ae=!0)}function L(){t(11,C={title:"",content:"",isShared:!1,category:"other",tags:[]}),t(12,F="")}function Q(){if(!F.trim())return;const f=F.trim().toLowerCase();C.tags.includes(f)||t(11,C.tags=[...C.tags,f],C),t(12,F="")}function S(f){t(11,C.tags=C.tags.filter(x=>x!==f),C)}async function de(){if(C.title.trim())try{await Pe.createNote(l,C),t(8,B=!1),L()}catch(f){t(7,m=f.message)}}async function U(){if(!(!w||!C.title.trim()))try{await Pe.updateNote(w.id,C),t(9,ae=!1),t(10,w=null),L()}catch(f){t(7,m=f.message)}}async function Y(f){if(confirm(`¬øEliminar la nota "${f.title}"?`))try{await Pe.deleteNote(f.id)}catch(x){t(7,m=x.message)}}function ye(f){var x;return((x=N.find(ie=>ie.value===f))==null?void 0:x.icon)||"üìù"}const ue=()=>t(7,m="");function W(){v=this.value,t(1,v)}function J(){E=Oe(this),t(2,E),t(14,N)}function pe(){V=Oe(this),t(3,V)}const K=f=>D(f),De=f=>Y(f),Ce=()=>{t(8,B=!1),L()};function be(){C.title=this.value,t(11,C),t(14,N)}function P(){C.category=Oe(this),t(11,C),t(14,N)}function le(){C.isShared=this.checked,t(11,C),t(14,N)}function Te(){C.content=this.value,t(11,C),t(14,N)}function oe(){F=this.value,t(12,F)}const I=f=>f.key==="Enter"&&(f.preventDefault(),Q()),z=f=>S(f),X=()=>{t(8,B=!1),L()},ge=()=>{t(9,ae=!1),t(10,w=null),L()};function ve(){C.title=this.value,t(11,C),t(14,N)}function fe(){C.category=Oe(this),t(11,C),t(14,N)}function ee(){C.isShared=this.checked,t(11,C),t(14,N)}function G(){C.content=this.value,t(11,C),t(14,N)}function H(){F=this.value,t(12,F)}const M=f=>f.key==="Enter"&&(f.preventDefault(),Q()),A=f=>S(f),_=()=>{t(9,ae=!1),t(10,w=null),L()};return s.$$.update=()=>{s.$$.dirty[0]&33554432&&(l=o.params.id||""),s.$$.dirty[0]&16777232&&t(13,n=h&&r&&h.dmId===r.uid),s.$$.dirty[0]&15&&t(5,T=b.filter(f=>{if(v){const x=v.toLowerCase(),ie=f.title.toLowerCase().includes(x),ce=f.content.toLowerCase().includes(x),xe=f.tags.some(Ee=>Ee.toLowerCase().includes(x));if(!ie&&!ce&&!xe)return!1}return!(E!=="all"&&f.category!==E||V==="personal"&&f.isShared||V==="shared"&&!f.isShared)}))},[b,v,E,V,r,T,p,m,B,ae,w,C,F,n,N,O,D,L,Q,S,de,U,Y,ye,h,o,ue,W,J,pe,K,De,Ce,be,P,le,Te,oe,I,z,X,ge,ve,fe,ee,G,H,M,A,_]}class zt extends bt{constructor(e){super(),gt(this,e,Ht,St,mt,{},null,[-1,-1,-1])}}export{zt as component};
